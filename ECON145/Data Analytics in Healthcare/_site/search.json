[
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex01/Introduction.html",
    "href": "Hands-on_Ex/Hands-on_Ex01/Introduction.html",
    "title": "Introduction to Data Wrangling",
    "section": "",
    "text": "To start the course, this exercise would be a good refresher for me after not touching R for a few months."
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex01/Introduction.html#data-cleaning",
    "href": "Hands-on_Ex/Hands-on_Ex01/Introduction.html#data-cleaning",
    "title": "Introduction to Data Wrangling",
    "section": "Data Cleaning",
    "text": "Data Cleaning\nSome columns are not meaningful for analysis. Hence, columns “Country.Code”,“Indicator.Name”, “Indicator.Code” can be dropped.\n\nMethod 1. Using dplyr\n\ndata &lt;- dplyr::select(data, -c(Country.Code, Indicator.Name, Indicator.Code))\n\n\n\nMethod 2. Using baseR\n\ndata &lt;- data[, !names(data) %in% c(\"Country.Code\", \"Indicator.Name\", \"Indicator.Code\")]\n\nThe data appears to be in wide format, each year is in a column. We can use tidyr to make this into a tidy data and recode column names as the year of observation.\ntidyr is another R package from the tidyverse family, designed to help users clean and organise data into a tidy format. The primary goal of tidyr is to make data “tidy,” such that each variable is a column, each observation is a row, and each value is a single cell. tidyr works closely with other packages like dplyr to simplify data manipulation workflows.\nKey functions of tidyr include:\n\ngather() / pivot_longer(): Converts wide data (where columns are variables) into long format (where each row represents a single observation of a variable)\nspread() / pivot_wider(): The reverse of pivot_longer(), it converts long data into wide format\nseparate(): Splits a single column into multiple columns based on a delimiter.\nunite(): Combines multiple columns into a single column.\n\nPivot to tidy format where each Column is a Variable and each Row is an Observation (Life Expentancy):\n\ndata_long &lt;- pivot_longer(data,\n                          cols = X1960:X2021, \n                          names_to = \"Year\",\n                          values_to = \"Life.Exp\")   \n\nThe ‘Year’ column will have year names as characters starting with X. We remove the “X” and convert them to integers\n\ndata_long$Year &lt;- as.integer(sub(\"X\", \"\", data_long$Year))  \nstr(data_long) \n\ntibble [16,492 × 3] (S3: tbl_df/tbl/data.frame)\n $ Country.Name: chr [1:16492] \"Hong Kong SAR, China\" \"Hong Kong SAR, China\" \"Hong Kong SAR, China\" \"Hong Kong SAR, China\" ...\n $ Year        : int [1:16492] 1960 1961 1962 1963 1964 1965 1966 1967 1968 1969 ...\n $ Life.Exp    : num [1:16492] 65.9 66.6 67 67.7 68.4 ...\n\ncolnames(data_long)\n\n[1] \"Country.Name\" \"Year\"         \"Life.Exp\""
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex01/Introduction.html#data-manipulation",
    "href": "Hands-on_Ex/Hands-on_Ex01/Introduction.html#data-manipulation",
    "title": "Introduction to Data Wrangling",
    "section": "Data Manipulation",
    "text": "Data Manipulation\ndplyr is an R package used for data manipulation and transformation. It is part of the tidyverse, a collection of R packages designed for data science. dplyr provides a set of functions that make it easier to work with data frames and manipulate them in a clear, concise, and efficient way.\nThe key features of dplyr include:\n\nPipes (%&gt;%): Allows chaining multiple operations in a readable manner.\nCore Functions:\n\nselect(): Choose columns.\nfilter(): Filter rows based on conditions.\nmutate(): Create new columns or modify existing ones.\nsummarize(): Aggregate data, often combined with group_by() to create group-wise summaries.\ngroup_by(): Group data by one or more variables, which is useful for applying functions like summarize().\n\n\nCheck for any missing values:\n\ndata_long %&gt;%   summarise_all(~ sum(is.na(.)))  \n\n# A tibble: 1 × 3\n  Country.Name  Year Life.Exp\n         &lt;int&gt; &lt;int&gt;    &lt;int&gt;\n1            0     0      626\n\n\nThere are 626 rows with missing values for Life.Exp. We can check the unique values for Country.Name and Year first.\n\nunique(data_long$Country.Name) \n##   [1] \"Hong Kong SAR, China\"                                \n##   [2] \"Macao SAR, China\"                                    \n##   [3] \"Japan\"                                               \n##   [4] \"Liechtenstein\"                                       \n##   [5] \"Switzerland\"                                         \n##   [6] \"Korea, Rep.\"                                         \n##   [7] \"Faroe Islands\"                                       \n##   [8] \"Singapore\"                                           \n##   [9] \"Australia\"                                           \n##  [10] \"Spain\"                                               \n##  [11] \"Norway\"                                              \n##  [12] \"Sweden\"                                              \n##  [13] \"Iceland\"                                             \n##  [14] \"Malta\"                                               \n##  [15] \"Italy\"                                               \n##  [16] \"Luxembourg\"                                          \n##  [17] \"Canada\"                                              \n##  [18] \"Israel\"                                              \n##  [19] \"France\"                                              \n##  [20] \"New Zealand\"                                         \n##  [21] \"Ireland\"                                             \n##  [22] \"Finland\"                                             \n##  [23] \"Belgium\"                                             \n##  [24] \"Euro area\"                                           \n##  [25] \"Netherlands\"                                         \n##  [26] \"Denmark\"                                             \n##  [27] \"Austria\"                                             \n##  [28] \"Channel Islands\"                                     \n##  [29] \"Cyprus\"                                              \n##  [30] \"Portugal\"                                            \n##  [31] \"Germany\"                                             \n##  [32] \"Slovenia\"                                            \n##  [33] \"United Kingdom\"                                      \n##  [34] \"Isle of Man\"                                         \n##  [35] \"European Union\"                                      \n##  [36] \"St. Martin (French part)\"                            \n##  [37] \"Greece\"                                              \n##  [38] \"Puerto Rico\"                                         \n##  [39] \"Virgin Islands (U.S.)\"                               \n##  [40] \"High income\"                                         \n##  [41] \"Maldives\"                                            \n##  [42] \"Post-demographic dividend\"                           \n##  [43] \"French Polynesia\"                                    \n##  [44] \"Gibraltar\"                                           \n##  [45] \"Bermuda\"                                             \n##  [46] \"Qatar\"                                               \n##  [47] \"New Caledonia\"                                       \n##  [48] \"Chile\"                                               \n##  [49] \"Bahrain\"                                             \n##  [50] \"Thailand\"                                            \n##  [51] \"OECD members\"                                        \n##  [52] \"United Arab Emirates\"                                \n##  [53] \"Kuwait\"                                              \n##  [54] \"Antigua and Barbuda\"                                 \n##  [55] \"China\"                                               \n##  [56] \"Barbados\"                                            \n##  [57] \"Czechia\"                                             \n##  [58] \"Costa Rica\"                                          \n##  [59] \"North America\"                                       \n##  [60] \"Saudi Arabia\"                                        \n##  [61] \"Kosovo\"                                              \n##  [62] \"Estonia\"                                             \n##  [63] \"Guam\"                                                \n##  [64] \"Europe & Central Asia\"                               \n##  [65] \"Albania\"                                             \n##  [66] \"Croatia\"                                             \n##  [67] \"Sri Lanka\"                                           \n##  [68] \"East Asia & Pacific\"                                 \n##  [69] \"Algeria\"                                             \n##  [70] \"Late-demographic dividend\"                           \n##  [71] \"United States\"                                       \n##  [72] \"Panama\"                                              \n##  [73] \"Turkiye\"                                             \n##  [74] \"Poland\"                                              \n##  [75] \"East Asia & Pacific (IDA & IBRD countries)\"          \n##  [76] \"East Asia & Pacific (excluding high income)\"         \n##  [77] \"Uruguay\"                                             \n##  [78] \"Argentina\"                                           \n##  [79] \"Bosnia and Herzegovina\"                              \n##  [80] \"Lebanon\"                                             \n##  [81] \"Grenada\"                                             \n##  [82] \"Central Europe and the Baltics\"                      \n##  [83] \"Malaysia\"                                            \n##  [84] \"Slovak Republic\"                                     \n##  [85] \"Upper middle income\"                                 \n##  [86] \"Brunei Darussalam\"                                   \n##  [87] \"Aruba\"                                               \n##  [88] \"Turks and Caicos Islands\"                            \n##  [89] \"North Macedonia\"                                     \n##  [90] \"British Virgin Islands\"                              \n##  [91] \"Hungary\"                                             \n##  [92] \"Lithuania\"                                           \n##  [93] \"Jordan\"                                              \n##  [94] \"Cabo Verde\"                                          \n##  [95] \"Morocco\"                                             \n##  [96] \"Sint Maarten (Dutch part)\"                           \n##  [97] \"Iran, Islamic Rep.\"                                  \n##  [98] \"Nicaragua\"                                           \n##  [99] \"Montenegro\"                                          \n## [100] \"Tunisia\"                                             \n## [101] \"Cuba\"                                                \n## [102] \"Mauritius\"                                           \n## [103] \"Ecuador\"                                             \n## [104] \"Vietnam\"                                             \n## [105] \"West Bank and Gaza\"                                  \n## [106] \"Seychelles\"                                          \n## [107] \"Korea, Dem. People's Rep.\"                           \n## [108] \"Latvia\"                                              \n## [109] \"Trinidad and Tobago\"                                 \n## [110] \"Romania\"                                             \n## [111] \"Colombia\"                                            \n## [112] \"Dominica\"                                            \n## [113] \"Samoa\"                                               \n## [114] \"Brazil\"                                              \n## [115] \"Middle East & North Africa\"                          \n## [116] \"Serbia\"                                              \n## [117] \"Dominican Republic\"                                  \n## [118] \"Oman\"                                                \n## [119] \"Bangladesh\"                                          \n## [120] \"Peru\"                                                \n## [121] \"Belarus\"                                             \n## [122] \"Latin America & Caribbean\"                           \n## [123] \"IBRD only\"                                           \n## [124] \"Latin America & the Caribbean (IDA & IBRD countries)\"\n## [125] \"Syrian Arab Republic\"                                \n## [126] \"Armenia\"                                             \n## [127] \"Libya\"                                               \n## [128] \"Latin America & Caribbean (excluding high income)\"   \n## [129] \"Kyrgyz Republic\"                                     \n## [130] \"Middle East & North Africa (excluding high income)\"  \n## [131] \"Middle East & North Africa (IDA & IBRD countries)\"   \n## [132] \"Europe & Central Asia (IDA & IBRD countries)\"        \n## [133] \"Bhutan\"                                              \n## [134] \"Georgia\"                                             \n## [135] \"St. Kitts and Nevis\"                                 \n## [136] \"Bahamas, The\"                                        \n## [137] \"Tajikistan\"                                          \n## [138] \"Bulgaria\"                                            \n## [139] \"Europe & Central Asia (excluding high income)\"       \n## [140] \"World\"                                               \n## [141] \"Greenland\"                                           \n## [142] \"St. Lucia\"                                           \n## [143] \"Caribbean small states\"                              \n## [144] \"Tonga\"                                               \n## [145] \"Mongolia\"                                            \n## [146] \"Uzbekistan\"                                          \n## [147] \"Arab World\"                                          \n## [148] \"El Salvador\"                                         \n## [149] \"Micronesia, Fed. Sts.\"                               \n## [150] \"Venezuela, RB\"                                       \n## [151] \"Middle income\"                                       \n## [152] \"Jamaica\"                                             \n## [153] \"Belize\"                                              \n## [154] \"Vanuatu\"                                             \n## [155] \"Iraq\"                                                \n## [156] \"Solomon Islands\"                                     \n## [157] \"Suriname\"                                            \n## [158] \"Paraguay\"                                            \n## [159] \"Kazakhstan\"                                          \n## [160] \"Egypt, Arab Rep.\"                                    \n## [161] \"Mexico\"                                              \n## [162] \"Honduras\"                                            \n## [163] \"IDA & IBRD total\"                                    \n## [164] \"Low & middle income\"                                 \n## [165] \"Ukraine\"                                             \n## [166] \"St. Vincent and the Grenadines\"                      \n## [167] \"Cambodia\"                                            \n## [168] \"Azerbaijan\"                                          \n## [169] \"Russian Federation\"                                  \n## [170] \"Philippines\"                                         \n## [171] \"Turkmenistan\"                                        \n## [172] \"Guatemala\"                                           \n## [173] \"Pacific island small states\"                         \n## [174] \"Moldova\"                                             \n## [175] \"Early-demographic dividend\"                          \n## [176] \"Nepal\"                                               \n## [177] \"Lao PDR\"                                             \n## [178] \"Small states\"                                        \n## [179] \"Timor-Leste\"                                         \n## [180] \"Sao Tome and Principe\"                               \n## [181] \"South Asia\"                                          \n## [182] \"South Asia (IDA & IBRD)\"                             \n## [183] \"Indonesia\"                                           \n## [184] \"Kiribati\"                                            \n## [185] \"India\"                                               \n## [186] \"Fiji\"                                                \n## [187] \"Senegal\"                                             \n## [188] \"Other small states\"                                  \n## [189] \"Lower middle income\"                                 \n## [190] \"Eritrea\"                                             \n## [191] \"Tanzania\"                                            \n## [192] \"Pakistan\"                                            \n## [193] \"Rwanda\"                                              \n## [194] \"Gabon\"                                               \n## [195] \"Guyana\"                                              \n## [196] \"Myanmar\"                                             \n## [197] \"Papua New Guinea\"                                    \n## [198] \"Marshall Islands\"                                    \n## [199] \"Sudan\"                                               \n## [200] \"Ethiopia\"                                            \n## [201] \"IDA only\"                                            \n## [202] \"Tuvalu\"                                              \n## [203] \"Madagascar\"                                          \n## [204] \"Mauritania\"                                          \n## [205] \"Least developed countries: UN classification\"        \n## [206] \"Ghana\"                                               \n## [207] \"Yemen, Rep.\"                                         \n## [208] \"Bolivia\"                                             \n## [209] \"Nauru\"                                               \n## [210] \"Congo, Rep.\"                                         \n## [211] \"Comoros\"                                             \n## [212] \"IDA total\"                                           \n## [213] \"Haiti\"                                               \n## [214] \"Malawi\"                                              \n## [215] \"Uganda\"                                              \n## [216] \"Low income\"                                          \n## [217] \"Africa Eastern and Southern\"                         \n## [218] \"South Africa\"                                        \n## [219] \"Djibouti\"                                            \n## [220] \"Heavily indebted poor countries (HIPC)\"              \n## [221] \"Gambia, The\"                                         \n## [222] \"Afghanistan\"                                         \n## [223] \"Burundi\"                                             \n## [224] \"Angola\"                                              \n## [225] \"Togo\"                                                \n## [226] \"Niger\"                                               \n## [227] \"Kenya\"                                               \n## [228] \"Fragile and conflict affected situations\"            \n## [229] \"Zambia\"                                              \n## [230] \"Botswana\"                                            \n## [231] \"Liberia\"                                             \n## [232] \"IDA blend\"                                           \n## [233] \"Equatorial Guinea\"                                   \n## [234] \"Cameroon\"                                            \n## [235] \"Sub-Saharan Africa\"                                  \n## [236] \"Sub-Saharan Africa (IDA & IBRD countries)\"           \n## [237] \"Sub-Saharan Africa (excluding high income)\"          \n## [238] \"Sierra Leone\"                                        \n## [239] \"Pre-demographic dividend\"                            \n## [240] \"Benin\"                                               \n## [241] \"Guinea-Bissau\"                                       \n## [242] \"Mozambique\"                                          \n## [243] \"Burkina Faso\"                                        \n## [244] \"Namibia\"                                             \n## [245] \"Zimbabwe\"                                            \n## [246] \"Congo, Dem. Rep.\"                                    \n## [247] \"Mali\"                                                \n## [248] \"Guinea\"                                              \n## [249] \"Cote d'Ivoire\"                                       \n## [250] \"Eswatini\"                                            \n## [251] \"Africa Western and Central\"                          \n## [252] \"Somalia\"                                             \n## [253] \"South Sudan\"                                         \n## [254] \"Central African Republic\"                            \n## [255] \"Lesotho\"                                             \n## [256] \"Nigeria\"                                             \n## [257] \"Chad\"                                                \n## [258] \"Andorra\"                                             \n## [259] \"American Samoa\"                                      \n## [260] \"Curacao\"                                             \n## [261] \"Cayman Islands\"                                      \n## [262] \"Not classified\"                                      \n## [263] \"Monaco\"                                              \n## [264] \"Northern Mariana Islands\"                            \n## [265] \"Palau\"                                               \n## [266] \"San Marino\"\nunique(data_long$Year) \n##  [1] 1960 1961 1962 1963 1964 1965 1966 1967 1968 1969 1970 1971 1972 1973 1974\n## [16] 1975 1976 1977 1978 1979 1980 1981 1982 1983 1984 1985 1986 1987 1988 1989\n## [31] 1990 1991 1992 1993 1994 1995 1996 1997 1998 1999 2000 2001 2002 2003 2004\n## [46] 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019\n## [61] 2020 2021\n\nSince all the values look correct, we check the missing value across each Country for the Life.Exp column:\n\ntemp_df &lt;-data_long %&gt;%\n  group_by(Country.Name) %&gt;%\n  summarise(Missing_Life_Exp = sum(is.na(Life.Exp))) \n\ntemp_df  \n\n# A tibble: 266 × 2\n   Country.Name                Missing_Life_Exp\n   &lt;chr&gt;                                  &lt;int&gt;\n 1 Afghanistan                                0\n 2 Africa Eastern and Southern                0\n 3 Africa Western and Central                 0\n 4 Albania                                    0\n 5 Algeria                                    0\n 6 American Samoa                            62\n 7 Andorra                                   62\n 8 Angola                                     0\n 9 Antigua and Barbuda                        0\n10 Arab World                                 0\n# ℹ 256 more rows\n\n\nTo show only the rows with non-zero Missing Counts:\n\ndata_long %&gt;% group_by(Country.Name) %&gt;% summarise(Missing_Life_Exp = sum(is.na(Life.Exp))) %&gt;% filter(Missing_Life_Exp &gt; 0)  \n\n# A tibble: 15 × 2\n   Country.Name             Missing_Life_Exp\n   &lt;chr&gt;                               &lt;int&gt;\n 1 American Samoa                         62\n 2 Andorra                                62\n 3 Cayman Islands                         61\n 4 Curacao                                 5\n 5 Faroe Islands                          24\n 6 Greenland                              18\n 7 Israel                                  4\n 8 Liechtenstein                          34\n 9 Monaco                                 62\n10 Northern Mariana Islands               62\n11 Not classified                         62\n12 Palau                                  58\n13 San Marino                             62\n14 Seychelles                             20\n15 West Bank and Gaza                     30\n\n\nHere we remove all rows with missing Life.Exp as they are not important for our analysis. na.omit is using baseR.\n\ndata_long &lt;- na.omit(data_long) \nlength(unique(data_long$Country.Name)) \n\n[1] 260\n\nlength(unique(data_long$Year)) \n\n[1] 62\n\ndata_long \n\n# A tibble: 15,866 × 3\n   Country.Name          Year Life.Exp\n   &lt;chr&gt;                &lt;int&gt;    &lt;dbl&gt;\n 1 Hong Kong SAR, China  1960     65.9\n 2 Hong Kong SAR, China  1961     66.6\n 3 Hong Kong SAR, China  1962     67.0\n 4 Hong Kong SAR, China  1963     67.7\n 5 Hong Kong SAR, China  1964     68.4\n 6 Hong Kong SAR, China  1965     69.3\n 7 Hong Kong SAR, China  1966     69.5\n 8 Hong Kong SAR, China  1967     69.9\n 9 Hong Kong SAR, China  1968     70.4\n10 Hong Kong SAR, China  1969     70.6\n# ℹ 15,856 more rows"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex01/Introduction.html#outlier-detection-with-boxplot",
    "href": "Hands-on_Ex/Hands-on_Ex01/Introduction.html#outlier-detection-with-boxplot",
    "title": "Introduction to Data Wrangling",
    "section": "Outlier Detection with boxplot",
    "text": "Outlier Detection with boxplot\n\nggplot(data_long, aes(x = Country.Name, y = Life.Exp)) +\n  geom_boxplot() +   \n  theme(axis.text.x = element_text(angle = 90, hjust = 1))  \n\n\n\n\nOutlier Detection: There are 260 countries in the remaining dataset. However, it is hard to visualise with a boxplot.\n\nTukey Fence Method\nHere we use Tukey Outlier Detection method to identify the countries. We use the Tukey fence method to help to identify the countries with outliers.\n\nQ1Q3Quantiles &lt;- data_long %&gt;%\n  group_by(Country.Name) %&gt;%\n  summarize(Q1 = quantile(Life.Exp, 0.25, na.rm = TRUE),\n            Q3 = quantile(Life.Exp, 0.75, na.rm = TRUE),\n            IQR = IQR(Life.Exp, na.rm = TRUE)) %&gt;%\n  mutate(Lower_Bound = Q1 - 1.5 * IQR,\n         Upper_Bound = Q3 + 1.5 * IQR)   \n\nQ1Q3Quantiles  \n\n# A tibble: 260 × 6\n   Country.Name                   Q1    Q3   IQR Lower_Bound Upper_Bound\n   &lt;chr&gt;                       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;\n 1 Afghanistan                  38.3  58.6 20.4         7.72        89.1\n 2 Africa Eastern and Southern  47.9  54.9  7.01       37.4         65.4\n 3 Africa Western and Central   44.4  52.7  8.31       31.9         65.2\n 4 Albania                      68.4  76.6  8.16       56.2         88.8\n 5 Algeria                      47.2  72.3 25.0         9.66       110. \n 6 Angola                       41.2  52.2 11.0        24.8         68.6\n 7 Antigua and Barbuda          72.1  75.8  3.74       66.5         81.4\n 8 Arab World                   53.8  68.5 14.7        31.8         90.5\n 9 Argentina                    67.1  75.1  7.99       55.1         87.1\n10 Armenia                      64.9  71.9  7.08       54.2         82.6\n# ℹ 250 more rows\n\n\n\ndata_long_with_bounds &lt;- left_join(data_long, Q1Q3Quantiles, by = \"Country.Name\")\n\noutliers_detected &lt;- data_long_with_bounds %&gt;%\n  filter(Life.Exp &lt; Lower_Bound | Life.Exp &gt; Upper_Bound) \n\nAfter checking the list of countries with outliers, they can be removed for our analysis. This decision depends on what is the objective of our analysis. Here we do not remove them.\nNext we check the summary statistics for the data across all countries. We again use group_by and summarize functions in dplyr. We can then use the summary statistics table to check with domain experts on the validity of the data.\n\ncountry_summary_stats &lt;- data_long %&gt;%   \n  group_by(Country.Name) %&gt;%   \n  summarize(Mean = mean(Life.Exp, na.rm = TRUE),    \n            Median = median(Life.Exp, na.rm = TRUE),     \n            SD = sd(Life.Exp, na.rm = TRUE),     \n            Min = min(Life.Exp, na.rm = TRUE),     \n            Max = max(Life.Exp, na.rm = TRUE),     \n            Count = n(),     \n            Missing = sum(is.na(Life.Exp)))  \n\nprint(country_summary_stats) \n\n# A tibble: 260 × 8\n   Country.Name                 Mean Median    SD   Min   Max Count Missing\n   &lt;chr&gt;                       &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;   &lt;int&gt;\n 1 Afghanistan                  47.9   46.3 10.8   32.5  63.6    62       0\n 2 Africa Eastern and Southern  51.9   50.3  5.66  44.1  63.8    62       0\n 3 Africa Western and Central   48.3   48.7  5.72  37.8  57.6    62       0\n 4 Albania                      71.5   73.3  6.58  54.4  79.3    62       0\n 5 Algeria                      61.4   67.4 12.9   39.3  76.5    62       0\n 6 Angola                       46.7   42.8  7.92  37.3  62.4    62       0\n 7 Antigua and Barbuda          73.2   73.5  4.11  61.6  78.8    62       0\n 8 Arab World                   61.1   63.1  8.41  45.0  71.8    62       0\n 9 Argentina                    71.1   72.1  4.37  64.0  77.3    62       0\n10 Armenia                      68.3   68.7  4.41  53.9  75.4    62       0\n# ℹ 250 more rows\n\nlength(unique(data_long$Country.Name))\n\n[1] 260\n\n\nThere should be 62 years of data for each country. We remove countries with less than 62 years of data. The pull() function extracts a specific column from the filtered data. Here, it pulls the values of the Country.Name column from the filtered rows where Count is less than 62.\n\nFilter out country names with Count &lt; 62\n\n\ncountries_to_remove &lt;- country_summary_stats %&gt;%   \n  filter(Count &lt; 62) %&gt;%   \n  pull(Country.Name)  \n \ncountries_to_remove\n\n[1] \"Cayman Islands\"     \"Curacao\"            \"Faroe Islands\"     \n[4] \"Greenland\"          \"Israel\"             \"Liechtenstein\"     \n[7] \"Palau\"              \"Seychelles\"         \"West Bank and Gaza\"\n\n\n\nFilter out these countries from data_long\n\n\ndata_long_filtered &lt;- data_long %&gt;%   \n  filter(!Country.Name %in% countries_to_remove) \n\nlength(unique(data_long_filtered$Country.Name))\n\n[1] 251\n\n\nWe can also plot some charts using ggplot to visualize the data and use it to discuss with domain experts. We can plot with ggplot:\n1. Histogram of Life.Exp for all the data\n2. Boxplot of Life.Exp by Year\n3. Boxplot of Life.Exp by Country for selected Countries\n4. Time series plots for selected countries\n\n# Histogram \nggplot(data_long_filtered, aes(x = Life.Exp)) + \n  geom_histogram(binwidth = 1, fill = \"blue\", color = \"black\") +\n  theme_minimal() + \n  labs(title = \"Histogram of Life Expectancy\", x = \"Life Expectancy\", y = \"Count\")\n\n\n\n\n\n# Boxplot of Life.Exp by Year \nggplot(data_long_filtered, aes(x = as.factor(Year), y = Life.Exp)) +\n  geom_boxplot() +\n  theme(axis.text.x = element_text(angle = 90)) +\n  labs(title = \"Life Expectancy by Year\", x = \"Year\", y = \"Life Expectancy\") \n\n\n\n\nBoxplot of Life.Exp by Country for top 20 highest Mean Life Expectancy across the years\n1. Extract the Top 20 countries’ Country.Name with dplyr\n\ntop_20 &lt;- data_long_filtered %&gt;%   group_by(Country.Name) %&gt;%   \n  summarize(MeanLifeExp = mean(Life.Exp, na.rm = TRUE)) %&gt;%   \n  arrange(desc(MeanLifeExp)) %&gt;%   top_n(20, MeanLifeExp) %&gt;%   \n  pull(Country.Name) \n\ntop_20 \n\n [1] \"Iceland\"              \"Japan\"                \"Sweden\"              \n [4] \"Switzerland\"          \"Norway\"               \"Hong Kong SAR, China\"\n [7] \"Netherlands\"          \"Canada\"               \"Spain\"               \n[10] \"Italy\"                \"Australia\"            \"Macao SAR, China\"    \n[13] \"France\"               \"Channel Islands\"      \"Greece\"              \n[16] \"Gibraltar\"            \"New Zealand\"          \"United Kingdom\"      \n[19] \"Euro area\"            \"Denmark\"             \n\n\n2. Filter these countries with dplyr\n\ndata_top_20 &lt;- data_long_filtered %&gt;% \n  filter(Country.Name %in% top_20) \n\nunique(data_top_20$Country.Name) \n\n [1] \"Hong Kong SAR, China\" \"Macao SAR, China\"     \"Japan\"               \n [4] \"Switzerland\"          \"Australia\"            \"Spain\"               \n [7] \"Norway\"               \"Sweden\"               \"Iceland\"             \n[10] \"Italy\"                \"Canada\"               \"France\"              \n[13] \"New Zealand\"          \"Euro area\"            \"Netherlands\"         \n[16] \"Denmark\"              \"Channel Islands\"      \"United Kingdom\"      \n[19] \"Greece\"               \"Gibraltar\"           \n\ndata_top_20[data_top_20$Country.Name=='Singapore',] \n\n# A tibble: 0 × 3\n# ℹ 3 variables: Country.Name &lt;chr&gt;, Year &lt;int&gt;, Life.Exp &lt;dbl&gt;\n\ndata_top_20_sg &lt;- data_long_filtered %&gt;% \n  filter(Country.Name %in% top_20 | Country.Name == 'Singapore') \n\n3. Plot the Boxplot for Top 20 countries and Singapore\n\nggplot(data_top_20_sg, aes(x = Country.Name, y = Life.Exp)) + geom_boxplot() + theme(axis.text.x = element_text(angle = 90, hjust = 1)) + labs(title = \"Top 20 Countries by Mean Life Expectancy\", x = \"Country\", y = \"Life Expectancy\")\n\n\n\n# Reorder by descending mean Life.Exp (-Life,Exp for descending)\nggplot(data_top_20_sg, aes(x = reorder(Country.Name, -Life.Exp, FUN = mean), y = Life.Exp)) + geom_boxplot() + theme(axis.text.x = element_text(angle = 90, hjust = 1)) + labs(title = \"Top 20 Countries by Mean Life Expectancy\", x = \"Country\", y = \"Life Expectancy\")\n\n\n\n\nWe can also plot time series for the Top 20 countries to visualize the trends.\n\n# Create the time series plot \ntseries &lt;-ggplot(data_top_20, aes(x = Year, y = Life.Exp, color = Country.Name)) +   geom_line() +   \n  theme_minimal() +   \n  labs(title = \"Life Expectancy Over Time\", x = \"Year\", y = \"Life Expectancy\", color = \"Country\")  \n\ntseries \n\n\n\n\n\ntseries + geom_line(data = filter(data_top_20_sg, Country.Name == \"Singapore\"),              aes(x = Year, y = Life.Exp), color = \"black\", size = 1.5) \n\n\n\n\nCongratulations! We have completed a quick introduction to dplyr, tidyr and ggplot. Remember, the best way to learn is to get your hands dirty, google for sample codes, read R documentation and learn when you are trying to solve problems."
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex01/Intro_Data_Wrangling.html",
    "href": "Hands-on_Ex/Hands-on_Ex01/Intro_Data_Wrangling.html",
    "title": "More in Data Wrangling",
    "section": "",
    "text": "“dplyr” and “tidyr” packages are powerful R packages for data manipulation.\n\nlibrary(dplyr)\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(tidyr)\nlibrary(ggplot2)\n\nWarning: package 'ggplot2' was built under R version 4.3.3\n\n\nCore tidyverse Packages: ggplot2: For data visualization, creating graphics and plots based on the grammar of graphics. dplyr: For data manipulation, including filtering, selecting, mutating, summarizing, and arranging data. tidyr: For tidying data, making datasets easy to manipulate (e.g., reshaping data, handling missing values).\n\nfile_path &lt;- \"C://guacodemoleh/ECON145/Data Analytics in Healthcare/Hands-on_Ex/Hands-on_Ex01\"\nWHO &lt;- read.csv(file.path(file_path, \"WHO.csv\"))\nWHO\n\n                                      Country                Region Population\n1                                 Afghanistan Eastern Mediterranean      29825\n2                                     Albania                Europe       3162\n3                                     Algeria                Africa      38482\n4                                     Andorra                Europe         78\n5                                      Angola                Africa      20821\n6                         Antigua and Barbuda              Americas         89\n7                                   Argentina              Americas      41087\n8                                     Armenia                Europe       2969\n9                                   Australia       Western Pacific      23050\n10                                    Austria                Europe       8464\n11                                 Azerbaijan                Europe       9309\n12                                    Bahamas              Americas        372\n13                                    Bahrain Eastern Mediterranean       1318\n14                                 Bangladesh       South-East Asia     155000\n15                                   Barbados              Americas        283\n16                                    Belarus                Europe       9405\n17                                    Belgium                Europe      11060\n18                                     Belize              Americas        324\n19                                      Benin                Africa      10051\n20                                     Bhutan       South-East Asia        742\n21           Bolivia (Plurinational State of)              Americas      10496\n22                     Bosnia and Herzegovina                Europe       3834\n23                                   Botswana                Africa       2004\n24                                     Brazil              Americas     199000\n25                          Brunei Darussalam       Western Pacific        412\n26                                   Bulgaria                Europe       7278\n27                               Burkina Faso                Africa      16460\n28                                    Burundi                Africa       9850\n29                                   Cambodia       Western Pacific      14865\n30                                   Cameroon                Africa      21700\n31                                     Canada              Americas      34838\n32                                 Cape Verde                Africa        494\n33                   Central African Republic                Africa       4525\n34                                       Chad                Africa      12448\n35                                      Chile              Americas      17465\n36                                      China       Western Pacific    1390000\n37                                   Colombia              Americas      47704\n38                                    Comoros                Africa        718\n39                                      Congo                Africa       4337\n40                               Cook Islands       Western Pacific         21\n41                                 Costa Rica              Americas       4805\n42                              Cote d'Ivoire                Africa      19840\n43                                    Croatia                Europe       4307\n44                                       Cuba              Americas      11271\n45                                     Cyprus                Europe       1129\n46                             Czech Republic                Europe      10660\n47      Democratic People's Republic of Korea       South-East Asia      24763\n48           Democratic Republic of the Congo                Africa      65705\n49                                    Denmark                Europe       5598\n50                                   Djibouti Eastern Mediterranean        860\n51                                   Dominica              Americas         72\n52                         Dominican Republic              Americas      10277\n53                                    Ecuador              Americas      15492\n54                                      Egypt Eastern Mediterranean      80722\n55                                El Salvador              Americas       6297\n56                          Equatorial Guinea                Africa        736\n57                                    Eritrea                Africa       6131\n58                                    Estonia                Europe       1291\n59                                   Ethiopia                Africa      91729\n60                                       Fiji       Western Pacific        875\n61                                    Finland                Europe       5408\n62                                     France                Europe      63937\n63                                      Gabon                Africa       1633\n64                                     Gambia                Africa       1791\n65                                    Georgia                Europe       4358\n66                                    Germany                Europe      82800\n67                                      Ghana                Africa      25366\n68                                     Greece                Europe      11125\n69                                    Grenada              Americas        105\n70                                  Guatemala              Americas      15083\n71                                     Guinea                Africa      11451\n72                              Guinea-Bissau                Africa       1664\n73                                     Guyana              Americas        795\n74                                      Haiti              Americas      10174\n75                                   Honduras              Americas       7936\n76                                    Hungary                Europe       9976\n77                                    Iceland                Europe        326\n78                                      India       South-East Asia    1240000\n79                                  Indonesia       South-East Asia     247000\n80                 Iran (Islamic Republic of) Eastern Mediterranean      76424\n81                                       Iraq Eastern Mediterranean      32778\n82                                    Ireland                Europe       4576\n83                                     Israel                Europe       7644\n84                                      Italy                Europe      60885\n85                                    Jamaica              Americas       2769\n86                                      Japan       Western Pacific     127000\n87                                     Jordan Eastern Mediterranean       7009\n88                                 Kazakhstan                Europe      16271\n89                                      Kenya                Africa      43178\n90                                   Kiribati       Western Pacific        101\n91                                     Kuwait Eastern Mediterranean       3250\n92                                 Kyrgyzstan                Europe       5474\n93           Lao People's Democratic Republic       Western Pacific       6646\n94                                     Latvia                Europe       2060\n95                                    Lebanon Eastern Mediterranean       4647\n96                                    Lesotho                Africa       2052\n97                                    Liberia                Africa       4190\n98                                      Libya Eastern Mediterranean       6155\n99                                  Lithuania                Europe       3028\n100                                Luxembourg                Europe        524\n101                                Madagascar                Africa      22294\n102                                    Malawi                Africa      15906\n103                                  Malaysia       Western Pacific      29240\n104                                  Maldives       South-East Asia        338\n105                                      Mali                Africa      14854\n106                                     Malta                Europe        428\n107                          Marshall Islands       Western Pacific         53\n108                                Mauritania                Africa       3796\n109                                 Mauritius                Africa       1240\n110                                    Mexico              Americas     121000\n111          Micronesia (Federated States of)       Western Pacific        103\n112                                    Monaco                Europe         38\n113                                  Mongolia       Western Pacific       2796\n114                                Montenegro                Europe        621\n115                                   Morocco Eastern Mediterranean      32521\n116                                Mozambique                Africa      25203\n117                                   Myanmar       South-East Asia      52797\n118                                   Namibia                Africa       2259\n119                                     Nauru       Western Pacific         10\n120                                     Nepal       South-East Asia      27474\n121                               Netherlands                Europe      16714\n122                               New Zealand       Western Pacific       4460\n123                                 Nicaragua              Americas       5992\n124                                     Niger                Africa      17157\n125                                   Nigeria                Africa     169000\n126                                      Niue       Western Pacific          1\n127                                    Norway                Europe       4994\n128                                      Oman Eastern Mediterranean       3314\n129                                  Pakistan Eastern Mediterranean     179000\n130                                     Palau       Western Pacific         21\n131                                    Panama              Americas       3802\n132                          Papua New Guinea       Western Pacific       7167\n133                                  Paraguay              Americas       6687\n134                                      Peru              Americas      29988\n135                               Philippines       Western Pacific      96707\n136                                    Poland                Europe      38211\n137                                  Portugal                Europe      10604\n138                                     Qatar Eastern Mediterranean       2051\n139                         Republic of Korea       Western Pacific      49003\n140                       Republic of Moldova                Europe       3514\n141                                   Romania                Europe      21755\n142                        Russian Federation                Europe     143000\n143                                    Rwanda                Africa      11458\n144                     Saint Kitts and Nevis              Americas         54\n145                               Saint Lucia              Americas        181\n146          Saint Vincent and the Grenadines              Americas        109\n147                                     Samoa       Western Pacific        189\n148                                San Marino                Europe         31\n149                     Sao Tome and Principe                Africa        188\n150                              Saudi Arabia Eastern Mediterranean      28288\n151                                   Senegal                Africa      13726\n152                                    Serbia                Europe       9553\n153                                Seychelles                Africa         92\n154                              Sierra Leone                Africa       5979\n155                                 Singapore       Western Pacific       5303\n156                                  Slovakia                Europe       5446\n157                                  Slovenia                Europe       2068\n158                           Solomon Islands       Western Pacific        550\n159                                   Somalia Eastern Mediterranean      10195\n160                              South Africa                Africa      52386\n161                               South Sudan Eastern Mediterranean      10838\n162                                     Spain                Europe      46755\n163                                 Sri Lanka       South-East Asia      21098\n164                                     Sudan Eastern Mediterranean      37195\n165                                  Suriname              Americas        535\n166                                 Swaziland                Africa       1231\n167                                    Sweden                Europe       9511\n168                               Switzerland                Europe       7997\n169                      Syrian Arab Republic Eastern Mediterranean      21890\n170                                Tajikistan                Europe       8009\n171                                  Thailand       South-East Asia      66785\n172 The former Yugoslav Republic of Macedonia                Europe       2106\n173                               Timor-Leste       South-East Asia       1114\n174                                      Togo                Africa       6643\n175                                     Tonga       Western Pacific        105\n176                       Trinidad and Tobago              Americas       1337\n177                                   Tunisia Eastern Mediterranean      10875\n178                                    Turkey                Europe      73997\n179                              Turkmenistan                Europe       5173\n180                                    Tuvalu       Western Pacific         10\n181                                    Uganda                Africa      36346\n182                                   Ukraine                Europe      45530\n183                      United Arab Emirates Eastern Mediterranean       9206\n184                            United Kingdom                Europe      62783\n185               United Republic of Tanzania                Africa      47783\n186                  United States of America              Americas     318000\n187                                   Uruguay              Americas       3395\n188                                Uzbekistan                Europe      28541\n189                                   Vanuatu       Western Pacific        247\n190        Venezuela (Bolivarian Republic of)              Americas      29955\n191                                  Viet Nam       Western Pacific      90796\n192                                     Yemen Eastern Mediterranean      23852\n193                                    Zambia                Africa      14075\n194                                  Zimbabwe                Africa      13724\n    Under15 Over60 FertilityRate LifeExpectancy ChildMortality\n1     47.42   3.82          5.40             60           98.5\n2     21.33  14.93          1.75             74           16.7\n3     27.42   7.17          2.83             73           20.0\n4     15.20  22.86            NA             82            3.2\n5     47.58   3.84          6.10             51          163.5\n6     25.96  12.35          2.12             75            9.9\n7     24.42  14.97          2.20             76           14.2\n8     20.34  14.06          1.74             71           16.4\n9     18.95  19.46          1.89             82            4.9\n10    14.51  23.52          1.44             81            4.0\n11    22.25   8.24          1.96             71           35.2\n12    21.62  11.24          1.90             75           16.9\n13    20.16   3.38          2.12             79            9.6\n14    30.57   6.89          2.24             70           40.9\n15    18.99  15.78          1.84             78           18.4\n16    15.10  19.31          1.47             71            5.2\n17    16.88  23.81          1.85             80            4.2\n18    34.40   5.74          2.76             74           18.3\n19    42.95   4.54          5.01             57           89.5\n20    28.53   6.90          2.32             67           44.6\n21    35.23   7.28          3.31             67           41.4\n22    16.35  20.52          1.26             76            6.7\n23    33.75   5.63          2.71             66           53.3\n24    24.56  10.81          1.82             74           14.4\n25    25.75   7.03          2.03             77            8.0\n26    13.53  26.11          1.51             74           12.1\n27    45.66   3.88          5.78             56          102.4\n28    44.20   3.87          6.21             53          104.3\n29    31.23   7.67          2.93             65           39.7\n30    43.08   4.89          4.94             53           94.9\n31    16.37  20.82          1.66             82            5.3\n32    30.17   7.05          2.38             72           22.2\n33    40.07   5.74          4.54             48          128.6\n34    48.52   3.80          6.49             51          149.8\n35    21.38  13.80          1.84             79            9.1\n36    17.95  13.42          1.66             76           14.0\n37    28.03   9.19          2.35             78           17.6\n38    42.17   4.50          4.85             62           77.6\n39    42.37   5.13          5.05             58           96.0\n40    30.61   9.07            NA             77           10.6\n41    23.94  10.15          1.83             79            9.9\n42    41.48   5.10          4.91             56          107.6\n43    14.98  24.69          1.48             77            4.7\n44    16.58  17.95          1.46             78            5.5\n45    17.16  16.92          1.47             81            3.2\n46    14.56  23.23          1.53             78            3.8\n47    21.98  12.74          2.00             69           28.8\n48    45.11   4.51          6.15             49          145.7\n49    17.66  23.90          1.88             79            3.7\n50    33.72   5.96          3.53             58           80.9\n51    25.96  12.35            NA             74           12.6\n52    30.53   8.97          2.55             73           27.1\n53    30.29   9.21          2.62             76           23.3\n54    31.25   8.62          2.85             73           21.0\n55    30.62   9.64          2.24             72           15.9\n56    38.95   4.53          5.04             54          100.3\n57    43.10   3.73          4.88             61           51.8\n58    15.69  23.92          1.62             76            3.6\n59    43.29   5.17          4.77             60           68.3\n60    28.88   8.38          2.64             70           22.4\n61    16.42  25.90          1.85             81            2.9\n62    18.26  23.82          1.98             82            4.1\n63    38.49   7.38          4.18             62           62.0\n64    45.90   3.72          5.79             58           72.9\n65    17.62  19.47          1.82             72           19.9\n66    13.17  26.72          1.40             81            4.1\n67    38.59   5.40          3.99             64           72.0\n68    14.60  25.41          1.51             81            4.8\n69    26.96   9.72          2.22             74           13.5\n70    40.80   6.56          3.91             69           32.0\n71    42.46   5.03          5.09             55          101.2\n72    41.55   5.06          5.05             50          129.1\n73    36.77   5.18          2.64             63           35.2\n74    35.35   6.70          3.28             63           75.6\n75    35.72   6.41          3.10             74           22.9\n76    14.62  23.41          1.38             75            6.2\n77    20.71  17.62          2.11             82            2.3\n78    29.43   8.10          2.53             65           56.3\n79    29.27   7.86          2.40             69           31.0\n80    23.68   7.82          1.91             73           17.6\n81    40.51   4.95          4.15             69           34.4\n82    21.54  16.59          2.00             81            4.0\n83    27.53  15.15          2.92             82            4.2\n84    14.04  26.97          1.45             82            3.8\n85    27.78  10.98          2.31             75           16.8\n86    13.12  31.92          1.39             83            3.0\n87    34.13   5.30          3.39             74           19.1\n88    25.46  10.04          2.52             67           18.7\n89    42.37   4.25          4.54             60           72.9\n90    30.10   8.84          3.01             67           59.9\n91    24.90   3.80          2.65             80           11.0\n92    30.21   6.34          3.03             69           26.6\n93    35.61   5.76          3.20             68           71.8\n94    14.57  24.24          1.57             74            8.7\n95    21.64  12.03          1.50             74            9.3\n96    36.75   6.31          3.15             50           99.6\n97    43.06   4.76          4.95             59           74.8\n98    29.45   6.96          2.47             65           15.4\n99    15.13  20.57          1.49             74            5.4\n100   17.46  19.15          1.65             82            2.2\n101   42.72   4.45          4.59             66           58.2\n102   45.44   4.92          5.55             58           71.0\n103   26.65   8.21          1.99             74            8.5\n104   29.03   6.65          2.31             77           10.5\n105   47.14   4.29          6.85             51          128.0\n106   14.98  22.87          1.37             80            6.8\n107   30.10   8.84            NA             60           37.9\n108   40.22   4.94          4.78             59           84.0\n109   20.17  13.23          1.51             74           15.1\n110   29.02   9.18          2.25             75           16.2\n111   35.81   6.67          3.40             69           38.5\n112   18.26  23.82            NA             82            3.8\n113   27.05   5.80          2.45             68           27.5\n114   19.01  18.58          1.69             76            5.9\n115   27.85   7.61          2.65             72           31.1\n116   45.38   5.01          5.34             53           89.7\n117   25.28   8.15          1.98             65           52.3\n118   36.59   5.38          3.17             65           38.7\n119   30.10   8.84            NA             71           37.1\n120   35.58   7.65          2.50             68           41.6\n121   17.21  23.02          1.76             81            4.1\n122   20.26  19.01          2.10             81            5.7\n123   33.37   6.59          2.59             73           24.4\n124   49.99   4.26          7.58             56          113.5\n125   44.23   4.49          6.02             53          123.7\n126   30.61   9.07            NA             72           25.1\n127   18.64  21.41          1.93             81            2.8\n128   24.19   3.99          2.90             72           11.6\n129   34.31   6.44          3.35             67           85.9\n130   30.10   8.84            NA             72           20.8\n131   28.65  10.13          2.52             77           18.5\n132   38.37   4.79          3.90             63           63.0\n133   32.78   8.01          2.93             75           22.0\n134   29.18   9.12          2.48             77           18.2\n135   34.53   6.21          3.11             69           29.8\n136   14.91  20.48          1.39             76            5.0\n137   14.92  24.39          1.33             80            3.6\n138   13.28   1.73          2.06             82            7.4\n139   15.25  16.58          1.29             81            3.8\n140   16.52  16.72          1.47             71           17.6\n141   15.05  20.66          1.39             74           12.2\n142   15.45  18.60          1.51             69           10.3\n143   43.56   3.94          4.73             60           55.0\n144   25.96  12.35            NA             74            9.2\n145   24.31  12.13          1.96             75           17.5\n146   25.70   9.92          2.05             74           23.4\n147   37.88   7.39          4.28             73           17.8\n148   14.04  26.97            NA             83            3.3\n149   41.60   4.76          4.22             63           53.2\n150   29.69   4.59          2.76             76            8.6\n151   43.54   4.57          5.02             61           59.6\n152   16.45  20.52          1.37             74            6.6\n153   21.95  10.05          2.23             74           13.1\n154   41.74   4.41          4.86             47          181.6\n155   16.48  15.13          1.27             82            2.9\n156   15.00  18.60          1.37             76            7.5\n157   14.16  23.16          1.49             80            3.1\n158   40.37   5.10          4.17             70           31.1\n159   47.35   4.46          6.77             50          147.4\n160   29.53   8.44          2.44             58           44.6\n161   42.28   5.26          5.10             54          104.0\n162   15.20  22.86          1.47             82            4.5\n163   25.15  12.40          2.35             75            9.6\n164   41.48   4.99          4.56             62           73.1\n165   27.83   9.55          2.32             72           20.8\n166   38.05   5.34          3.48             50           79.7\n167   16.71  25.32          1.93             82            2.9\n168   14.79  23.25          1.51             83            4.3\n169   35.35   6.09          3.04             75           15.1\n170   35.75   4.80          3.81             68           58.3\n171   18.47  13.96          1.43             74           13.2\n172   16.89  17.56          1.44             75            7.4\n173   46.33   5.16          6.11             64           56.7\n174   41.89   4.44          4.75             56           95.5\n175   37.33   7.96          3.86             72           12.8\n176   20.73  13.18          1.80             71           20.7\n177   23.22  10.49          2.04             76           16.1\n178   26.00  10.56          2.08             76           14.2\n179   28.65   6.30          2.38             63           52.8\n180   30.61   9.07            NA             64           29.7\n181   48.54   3.72          6.06             56           68.9\n182   14.18  20.76          1.45             71           10.7\n183   14.41   0.81          1.84             76            8.4\n184   17.54  23.06          1.90             80            4.8\n185   44.85   4.89          5.36             59           54.0\n186   19.63  19.31          2.00             79            7.1\n187   22.05  18.59          2.07             77            7.2\n188   28.90   6.38          2.38             68           39.6\n189   37.37   6.02          3.46             72           17.9\n190   28.84   9.17          2.44             75           15.3\n191   22.87   9.32          1.79             75           23.0\n192   40.72   4.54          4.35             64           60.0\n193   46.73   3.95          5.77             55           88.5\n194   40.24   5.68          3.64             54           89.8\n    CellularSubscribers LiteracyRate   GNI PrimarySchoolEnrollmentMale\n1                 54.26           NA  1140                          NA\n2                 96.39           NA  8820                          NA\n3                 98.99           NA  8310                        98.2\n4                 75.49           NA    NA                        78.4\n5                 48.38         70.1  5230                        93.1\n6                196.41         99.0 17900                        91.1\n7                134.92         97.8 17130                          NA\n8                103.57         99.6  6100                          NA\n9                108.34           NA 38110                        96.9\n10               154.78           NA 42050                          NA\n11               108.75           NA  8960                        85.3\n12                86.06           NA    NA                          NA\n13               127.96         91.9    NA                          NA\n14                56.06         56.8  1940                          NA\n15               127.01           NA    NA                          NA\n16               111.88           NA 14460                          NA\n17               116.61           NA 39190                        98.9\n18                69.96           NA  6090                          NA\n19                85.33         42.4  1620                          NA\n20                65.58           NA  5570                        88.3\n21                82.82           NA  4890                        91.2\n22                84.52         97.9  9190                        86.5\n23               142.82         84.5 14550                          NA\n24               124.26           NA 11420                          NA\n25               109.17         95.2    NA                          NA\n26               140.68           NA 14160                        99.3\n27                45.27           NA  1300                        60.7\n28                22.33         67.2   610                          NA\n29                96.17           NA  2230                        96.4\n30                52.35           NA  2330                        99.6\n31                79.73           NA 39660                          NA\n32                79.19         84.3  3980                        94.6\n33                40.65         56.0   810                        81.3\n34                31.80         34.5  1360                          NA\n35               129.71           NA 16330                        94.3\n36                73.19         94.3  8390                          NA\n37                98.45         93.4  9560                        91.7\n38                28.71         74.9  1110                          NA\n39                93.84           NA  3240                        92.3\n40                   NA           NA    NA                        97.6\n41                92.20         96.2 11860                          NA\n42                86.06         56.2  1710                          NA\n43               116.37         98.8 18760                        94.8\n44                11.69         99.8    NA                       100.0\n45                97.71         98.3    NA                        99.1\n46               123.44           NA 24370                          NA\n47                 4.09           NA    NA                          NA\n48                23.09         66.8   340                          NA\n49               128.47           NA 41900                        94.8\n50                21.32           NA    NA                          NA\n51               164.02           NA 13000                          NA\n52                87.22         89.5  9420                        95.5\n53               104.55         91.9  8510                          NA\n54               101.08         72.0  6120                          NA\n55               133.54         84.5  6640                        95.2\n56                59.15         93.9 25620                        56.5\n57                 4.47         67.8   580                        37.2\n58               138.98         99.8 20850                        97.7\n59                16.67           NA  1110                        84.8\n60                83.72           NA  4610                          NA\n61               166.02           NA 37670                        97.7\n62                94.79           NA 35910                        99.1\n63               117.32         88.4 13740                          NA\n64                78.89         50.0  1750                        68.2\n65               102.31         99.7  5350                          NA\n66               132.30           NA 40230                          NA\n67                84.78         67.3  1810                          NA\n68               106.48         97.2 25100                        98.8\n69                   NA           NA 10350                          NA\n70               140.38         75.2  4760                        98.6\n71                44.02         41.0  1020                        85.2\n72                56.18         54.2  1240                        76.7\n73                69.94           NA    NA                        82.4\n74                41.49           NA  1180                          NA\n75               103.97         84.8  3820                        94.8\n76               117.30         99.0 20310                        97.8\n77               106.08           NA 31020                        98.8\n78                72.00           NA  3590                          NA\n79               103.09           NA  4500                          NA\n80                74.93           NA    NA                          NA\n81                78.12         78.2  3750                          NA\n82               108.41           NA 34180                        99.4\n83               121.66           NA 27110                        97.0\n84               157.93         98.9 32400                        99.6\n85               108.12         86.6    NA                        83.4\n86               104.95           NA 35330                          NA\n87               118.20         92.6  5930                        90.8\n88               155.74         99.7 11250                          NA\n89                67.49         87.4  1710                          NA\n90                13.64           NA  3300                          NA\n91               175.09           NA    NA                          NA\n92               116.40           NA  2180                        95.5\n93                87.16           NA  2580                        98.1\n94               102.94         99.8 17700                        95.0\n95                78.65           NA 14470                        93.5\n96                56.17         89.6  2050                        72.2\n97                49.17         60.8   540                          NA\n98               155.70         89.2    NA                          NA\n99               151.30         99.7 19640                        95.6\n100              148.27           NA 64260                        93.6\n101               40.65           NA   950                          NA\n102               25.69         74.8   870                          NA\n103              127.04         93.1 15650                          NA\n104              165.72           NA  7430                        96.5\n105               68.32         31.1  1040                        70.6\n106              124.86           NA    NA                        93.3\n107                  NA           NA    NA                          NA\n108               93.60         58.0  2400                        72.8\n109               99.04         88.5 14330                          NA\n110               82.38         93.1 15390                        99.2\n111                  NA           NA  3580                          NA\n112               89.73           NA    NA                          NA\n113              105.08         97.4  4290                        99.6\n114                  NA         98.4 13700                          NA\n115              113.26           NA  4880                          NA\n116               32.83         56.1   970                        94.6\n117                2.57         92.3    NA                          NA\n118               96.39         88.8  6560                        83.8\n119               65.00           NA    NA                          NA\n120               43.81         60.3  1260                          NA\n121                  NA           NA 43140                          NA\n122              109.19           NA    NA                        99.3\n123               82.15           NA  3730                        93.2\n124               29.52           NA   720                        64.2\n125               58.58         61.3  2290                        60.1\n126                  NA           NA    NA                          NA\n127              115.62           NA 61460                        99.1\n128              168.97           NA    NA                          NA\n129               61.61           NA  2870                        81.3\n130               74.94           NA 11080                          NA\n131              188.60         94.1 14510                        99.1\n132               34.22         60.6  2570                          NA\n133               99.40         93.9  5390                        84.4\n134              110.41           NA  9440                        97.8\n135               99.30           NA  4140                          NA\n136              130.97         99.5 20430                        96.9\n137              115.39         95.2 24440                        99.1\n138              123.11         96.3 86440                        95.7\n139              108.50           NA 30370                        99.3\n140              104.80         98.5  3640                        90.1\n141              109.16         97.7 15120                        87.9\n142              179.31         99.6 20560                          NA\n143               40.63         71.1  1270                          NA\n144                  NA           NA 16470                        85.8\n145              123.00           NA 11220                        90.2\n146              120.52           NA 10440                          NA\n147                  NA         98.8  4270                        93.2\n148              111.75           NA    NA                          NA\n149               68.26         89.2  2080                          NA\n150              191.24         86.6 24700                        96.7\n151               73.25           NA  1940                        75.9\n152              125.39         97.9 11540                        94.7\n153              145.71         91.8 25140                          NA\n154               35.63         42.1   840                          NA\n155              150.24         95.9 59380                          NA\n156              109.35           NA 22130                          NA\n157              106.56         99.7 26510                        97.7\n158               49.77           NA  2350                        87.7\n159                6.85           NA    NA                          NA\n160              126.83           NA 10710                          NA\n161                  NA           NA    NA                          NA\n162              113.22         97.7 31400                        99.7\n163               87.05         91.2  5520                        93.9\n164               56.14         71.1  2120                          NA\n165              178.88         94.7    NA                          NA\n166               63.70         87.4  5930                          NA\n167              118.57           NA 42200                        99.7\n168              131.43           NA 52570                        98.9\n169               63.17         83.4    NA                          NA\n170               90.64         99.7  2300                        99.5\n171              111.63           NA  8360                          NA\n172              107.24         97.3 11090                        97.3\n173               53.23         58.3    NA                        86.2\n174               50.45           NA  1040                          NA\n175               52.63           NA  5000                          NA\n176              135.64         98.8    NA                        97.7\n177              116.93           NA  9030                          NA\n178               88.70           NA 16940                        99.5\n179               68.77         99.6  8690                          NA\n180               21.63           NA    NA                          NA\n181               48.38         73.2  1310                        89.7\n182              122.98         99.7  7040                        90.8\n183              148.62           NA 47890                          NA\n184              130.75           NA 36010                        99.8\n185               55.53         73.2  1500                          NA\n186               92.72           NA 48820                        95.4\n187              140.75         98.1 14640                          NA\n188               91.65         99.4  3420                        93.3\n189               55.76         82.6  4330                          NA\n190               97.78           NA 12430                        94.7\n191              143.39         93.2  3250                          NA\n192               47.05         63.9  2170                        85.5\n193               60.59         71.2  1490                        91.4\n194               72.13         92.2    NA                          NA\n    PrimarySchoolEnrollmentFemale\n1                              NA\n2                              NA\n3                            96.4\n4                            79.4\n5                            78.2\n6                            84.5\n7                              NA\n8                              NA\n9                            97.5\n10                             NA\n11                           84.1\n12                             NA\n13                             NA\n14                             NA\n15                             NA\n16                             NA\n17                           99.2\n18                             NA\n19                             NA\n20                           91.5\n21                           91.5\n22                           88.4\n23                             NA\n24                             NA\n25                             NA\n26                           99.7\n27                           55.9\n28                             NA\n29                           95.4\n30                           87.4\n31                             NA\n32                           92.4\n33                           60.6\n34                             NA\n35                           94.4\n36                             NA\n37                           91.3\n38                             NA\n39                           89.3\n40                           99.3\n41                             NA\n42                             NA\n43                           97.0\n44                           99.7\n45                           99.5\n46                             NA\n47                             NA\n48                             NA\n49                           96.9\n50                             NA\n51                             NA\n52                           90.4\n53                             NA\n54                             NA\n55                           95.5\n56                           56.0\n57                           32.5\n58                           97.0\n59                           79.5\n60                             NA\n61                           97.9\n62                           99.3\n63                             NA\n64                           70.4\n65                             NA\n66                             NA\n67                             NA\n68                           99.3\n69                             NA\n70                           97.5\n71                           72.1\n72                           73.3\n73                           85.9\n74                             NA\n75                           97.0\n76                           98.3\n77                           99.2\n78                             NA\n79                             NA\n80                             NA\n81                             NA\n82                          100.0\n83                           97.8\n84                           98.5\n85                           81.4\n86                             NA\n87                           90.7\n88                             NA\n89                             NA\n90                             NA\n91                             NA\n92                           95.1\n93                           95.4\n94                           96.8\n95                           92.9\n96                           75.3\n97                             NA\n98                             NA\n99                           95.8\n100                          95.7\n101                            NA\n102                            NA\n103                            NA\n104                          96.5\n105                          60.8\n106                          94.3\n107                            NA\n108                          76.0\n109                            NA\n110                          99.9\n111                            NA\n112                            NA\n113                          98.5\n114                            NA\n115                            NA\n116                          89.4\n117                            NA\n118                          88.5\n119                            NA\n120                            NA\n121                            NA\n122                          99.6\n123                          94.5\n124                          52.0\n125                          54.8\n126                            NA\n127                          99.2\n128                            NA\n129                          66.5\n130                            NA\n131                          98.2\n132                            NA\n133                          83.9\n134                          98.5\n135                            NA\n136                          96.7\n137                          99.7\n138                          96.6\n139                          98.4\n140                          90.1\n141                          87.3\n142                            NA\n143                            NA\n144                          86.2\n145                          89.2\n146                            NA\n147                          97.1\n148                            NA\n149                            NA\n150                          96.5\n151                          80.2\n152                          94.4\n153                            NA\n154                            NA\n155                            NA\n156                            NA\n157                          97.3\n158                          87.3\n159                            NA\n160                            NA\n161                            NA\n162                          99.8\n163                          94.4\n164                            NA\n165                            NA\n166                            NA\n167                          99.0\n168                          99.5\n169                            NA\n170                          96.0\n171                            NA\n172                          99.2\n173                          85.6\n174                            NA\n175                            NA\n176                          97.0\n177                            NA\n178                          98.3\n179                            NA\n180                            NA\n181                          92.3\n182                          91.5\n183                            NA\n184                          99.6\n185                            NA\n186                          96.1\n187                            NA\n188                          91.0\n189                            NA\n190                          95.1\n191                            NA\n192                          70.5\n193                          93.9\n194                            NA\n\n# Version that skips the first 2 columns\nWHO1 &lt;- read.csv(file.path(file_path, \"WHO.csv\"))[-c(1:2)]\nWHO1\n\n    Population Under15 Over60 FertilityRate LifeExpectancy ChildMortality\n1        29825   47.42   3.82          5.40             60           98.5\n2         3162   21.33  14.93          1.75             74           16.7\n3        38482   27.42   7.17          2.83             73           20.0\n4           78   15.20  22.86            NA             82            3.2\n5        20821   47.58   3.84          6.10             51          163.5\n6           89   25.96  12.35          2.12             75            9.9\n7        41087   24.42  14.97          2.20             76           14.2\n8         2969   20.34  14.06          1.74             71           16.4\n9        23050   18.95  19.46          1.89             82            4.9\n10        8464   14.51  23.52          1.44             81            4.0\n11        9309   22.25   8.24          1.96             71           35.2\n12         372   21.62  11.24          1.90             75           16.9\n13        1318   20.16   3.38          2.12             79            9.6\n14      155000   30.57   6.89          2.24             70           40.9\n15         283   18.99  15.78          1.84             78           18.4\n16        9405   15.10  19.31          1.47             71            5.2\n17       11060   16.88  23.81          1.85             80            4.2\n18         324   34.40   5.74          2.76             74           18.3\n19       10051   42.95   4.54          5.01             57           89.5\n20         742   28.53   6.90          2.32             67           44.6\n21       10496   35.23   7.28          3.31             67           41.4\n22        3834   16.35  20.52          1.26             76            6.7\n23        2004   33.75   5.63          2.71             66           53.3\n24      199000   24.56  10.81          1.82             74           14.4\n25         412   25.75   7.03          2.03             77            8.0\n26        7278   13.53  26.11          1.51             74           12.1\n27       16460   45.66   3.88          5.78             56          102.4\n28        9850   44.20   3.87          6.21             53          104.3\n29       14865   31.23   7.67          2.93             65           39.7\n30       21700   43.08   4.89          4.94             53           94.9\n31       34838   16.37  20.82          1.66             82            5.3\n32         494   30.17   7.05          2.38             72           22.2\n33        4525   40.07   5.74          4.54             48          128.6\n34       12448   48.52   3.80          6.49             51          149.8\n35       17465   21.38  13.80          1.84             79            9.1\n36     1390000   17.95  13.42          1.66             76           14.0\n37       47704   28.03   9.19          2.35             78           17.6\n38         718   42.17   4.50          4.85             62           77.6\n39        4337   42.37   5.13          5.05             58           96.0\n40          21   30.61   9.07            NA             77           10.6\n41        4805   23.94  10.15          1.83             79            9.9\n42       19840   41.48   5.10          4.91             56          107.6\n43        4307   14.98  24.69          1.48             77            4.7\n44       11271   16.58  17.95          1.46             78            5.5\n45        1129   17.16  16.92          1.47             81            3.2\n46       10660   14.56  23.23          1.53             78            3.8\n47       24763   21.98  12.74          2.00             69           28.8\n48       65705   45.11   4.51          6.15             49          145.7\n49        5598   17.66  23.90          1.88             79            3.7\n50         860   33.72   5.96          3.53             58           80.9\n51          72   25.96  12.35            NA             74           12.6\n52       10277   30.53   8.97          2.55             73           27.1\n53       15492   30.29   9.21          2.62             76           23.3\n54       80722   31.25   8.62          2.85             73           21.0\n55        6297   30.62   9.64          2.24             72           15.9\n56         736   38.95   4.53          5.04             54          100.3\n57        6131   43.10   3.73          4.88             61           51.8\n58        1291   15.69  23.92          1.62             76            3.6\n59       91729   43.29   5.17          4.77             60           68.3\n60         875   28.88   8.38          2.64             70           22.4\n61        5408   16.42  25.90          1.85             81            2.9\n62       63937   18.26  23.82          1.98             82            4.1\n63        1633   38.49   7.38          4.18             62           62.0\n64        1791   45.90   3.72          5.79             58           72.9\n65        4358   17.62  19.47          1.82             72           19.9\n66       82800   13.17  26.72          1.40             81            4.1\n67       25366   38.59   5.40          3.99             64           72.0\n68       11125   14.60  25.41          1.51             81            4.8\n69         105   26.96   9.72          2.22             74           13.5\n70       15083   40.80   6.56          3.91             69           32.0\n71       11451   42.46   5.03          5.09             55          101.2\n72        1664   41.55   5.06          5.05             50          129.1\n73         795   36.77   5.18          2.64             63           35.2\n74       10174   35.35   6.70          3.28             63           75.6\n75        7936   35.72   6.41          3.10             74           22.9\n76        9976   14.62  23.41          1.38             75            6.2\n77         326   20.71  17.62          2.11             82            2.3\n78     1240000   29.43   8.10          2.53             65           56.3\n79      247000   29.27   7.86          2.40             69           31.0\n80       76424   23.68   7.82          1.91             73           17.6\n81       32778   40.51   4.95          4.15             69           34.4\n82        4576   21.54  16.59          2.00             81            4.0\n83        7644   27.53  15.15          2.92             82            4.2\n84       60885   14.04  26.97          1.45             82            3.8\n85        2769   27.78  10.98          2.31             75           16.8\n86      127000   13.12  31.92          1.39             83            3.0\n87        7009   34.13   5.30          3.39             74           19.1\n88       16271   25.46  10.04          2.52             67           18.7\n89       43178   42.37   4.25          4.54             60           72.9\n90         101   30.10   8.84          3.01             67           59.9\n91        3250   24.90   3.80          2.65             80           11.0\n92        5474   30.21   6.34          3.03             69           26.6\n93        6646   35.61   5.76          3.20             68           71.8\n94        2060   14.57  24.24          1.57             74            8.7\n95        4647   21.64  12.03          1.50             74            9.3\n96        2052   36.75   6.31          3.15             50           99.6\n97        4190   43.06   4.76          4.95             59           74.8\n98        6155   29.45   6.96          2.47             65           15.4\n99        3028   15.13  20.57          1.49             74            5.4\n100        524   17.46  19.15          1.65             82            2.2\n101      22294   42.72   4.45          4.59             66           58.2\n102      15906   45.44   4.92          5.55             58           71.0\n103      29240   26.65   8.21          1.99             74            8.5\n104        338   29.03   6.65          2.31             77           10.5\n105      14854   47.14   4.29          6.85             51          128.0\n106        428   14.98  22.87          1.37             80            6.8\n107         53   30.10   8.84            NA             60           37.9\n108       3796   40.22   4.94          4.78             59           84.0\n109       1240   20.17  13.23          1.51             74           15.1\n110     121000   29.02   9.18          2.25             75           16.2\n111        103   35.81   6.67          3.40             69           38.5\n112         38   18.26  23.82            NA             82            3.8\n113       2796   27.05   5.80          2.45             68           27.5\n114        621   19.01  18.58          1.69             76            5.9\n115      32521   27.85   7.61          2.65             72           31.1\n116      25203   45.38   5.01          5.34             53           89.7\n117      52797   25.28   8.15          1.98             65           52.3\n118       2259   36.59   5.38          3.17             65           38.7\n119         10   30.10   8.84            NA             71           37.1\n120      27474   35.58   7.65          2.50             68           41.6\n121      16714   17.21  23.02          1.76             81            4.1\n122       4460   20.26  19.01          2.10             81            5.7\n123       5992   33.37   6.59          2.59             73           24.4\n124      17157   49.99   4.26          7.58             56          113.5\n125     169000   44.23   4.49          6.02             53          123.7\n126          1   30.61   9.07            NA             72           25.1\n127       4994   18.64  21.41          1.93             81            2.8\n128       3314   24.19   3.99          2.90             72           11.6\n129     179000   34.31   6.44          3.35             67           85.9\n130         21   30.10   8.84            NA             72           20.8\n131       3802   28.65  10.13          2.52             77           18.5\n132       7167   38.37   4.79          3.90             63           63.0\n133       6687   32.78   8.01          2.93             75           22.0\n134      29988   29.18   9.12          2.48             77           18.2\n135      96707   34.53   6.21          3.11             69           29.8\n136      38211   14.91  20.48          1.39             76            5.0\n137      10604   14.92  24.39          1.33             80            3.6\n138       2051   13.28   1.73          2.06             82            7.4\n139      49003   15.25  16.58          1.29             81            3.8\n140       3514   16.52  16.72          1.47             71           17.6\n141      21755   15.05  20.66          1.39             74           12.2\n142     143000   15.45  18.60          1.51             69           10.3\n143      11458   43.56   3.94          4.73             60           55.0\n144         54   25.96  12.35            NA             74            9.2\n145        181   24.31  12.13          1.96             75           17.5\n146        109   25.70   9.92          2.05             74           23.4\n147        189   37.88   7.39          4.28             73           17.8\n148         31   14.04  26.97            NA             83            3.3\n149        188   41.60   4.76          4.22             63           53.2\n150      28288   29.69   4.59          2.76             76            8.6\n151      13726   43.54   4.57          5.02             61           59.6\n152       9553   16.45  20.52          1.37             74            6.6\n153         92   21.95  10.05          2.23             74           13.1\n154       5979   41.74   4.41          4.86             47          181.6\n155       5303   16.48  15.13          1.27             82            2.9\n156       5446   15.00  18.60          1.37             76            7.5\n157       2068   14.16  23.16          1.49             80            3.1\n158        550   40.37   5.10          4.17             70           31.1\n159      10195   47.35   4.46          6.77             50          147.4\n160      52386   29.53   8.44          2.44             58           44.6\n161      10838   42.28   5.26          5.10             54          104.0\n162      46755   15.20  22.86          1.47             82            4.5\n163      21098   25.15  12.40          2.35             75            9.6\n164      37195   41.48   4.99          4.56             62           73.1\n165        535   27.83   9.55          2.32             72           20.8\n166       1231   38.05   5.34          3.48             50           79.7\n167       9511   16.71  25.32          1.93             82            2.9\n168       7997   14.79  23.25          1.51             83            4.3\n169      21890   35.35   6.09          3.04             75           15.1\n170       8009   35.75   4.80          3.81             68           58.3\n171      66785   18.47  13.96          1.43             74           13.2\n172       2106   16.89  17.56          1.44             75            7.4\n173       1114   46.33   5.16          6.11             64           56.7\n174       6643   41.89   4.44          4.75             56           95.5\n175        105   37.33   7.96          3.86             72           12.8\n176       1337   20.73  13.18          1.80             71           20.7\n177      10875   23.22  10.49          2.04             76           16.1\n178      73997   26.00  10.56          2.08             76           14.2\n179       5173   28.65   6.30          2.38             63           52.8\n180         10   30.61   9.07            NA             64           29.7\n181      36346   48.54   3.72          6.06             56           68.9\n182      45530   14.18  20.76          1.45             71           10.7\n183       9206   14.41   0.81          1.84             76            8.4\n184      62783   17.54  23.06          1.90             80            4.8\n185      47783   44.85   4.89          5.36             59           54.0\n186     318000   19.63  19.31          2.00             79            7.1\n187       3395   22.05  18.59          2.07             77            7.2\n188      28541   28.90   6.38          2.38             68           39.6\n189        247   37.37   6.02          3.46             72           17.9\n190      29955   28.84   9.17          2.44             75           15.3\n191      90796   22.87   9.32          1.79             75           23.0\n192      23852   40.72   4.54          4.35             64           60.0\n193      14075   46.73   3.95          5.77             55           88.5\n194      13724   40.24   5.68          3.64             54           89.8\n    CellularSubscribers LiteracyRate   GNI PrimarySchoolEnrollmentMale\n1                 54.26           NA  1140                          NA\n2                 96.39           NA  8820                          NA\n3                 98.99           NA  8310                        98.2\n4                 75.49           NA    NA                        78.4\n5                 48.38         70.1  5230                        93.1\n6                196.41         99.0 17900                        91.1\n7                134.92         97.8 17130                          NA\n8                103.57         99.6  6100                          NA\n9                108.34           NA 38110                        96.9\n10               154.78           NA 42050                          NA\n11               108.75           NA  8960                        85.3\n12                86.06           NA    NA                          NA\n13               127.96         91.9    NA                          NA\n14                56.06         56.8  1940                          NA\n15               127.01           NA    NA                          NA\n16               111.88           NA 14460                          NA\n17               116.61           NA 39190                        98.9\n18                69.96           NA  6090                          NA\n19                85.33         42.4  1620                          NA\n20                65.58           NA  5570                        88.3\n21                82.82           NA  4890                        91.2\n22                84.52         97.9  9190                        86.5\n23               142.82         84.5 14550                          NA\n24               124.26           NA 11420                          NA\n25               109.17         95.2    NA                          NA\n26               140.68           NA 14160                        99.3\n27                45.27           NA  1300                        60.7\n28                22.33         67.2   610                          NA\n29                96.17           NA  2230                        96.4\n30                52.35           NA  2330                        99.6\n31                79.73           NA 39660                          NA\n32                79.19         84.3  3980                        94.6\n33                40.65         56.0   810                        81.3\n34                31.80         34.5  1360                          NA\n35               129.71           NA 16330                        94.3\n36                73.19         94.3  8390                          NA\n37                98.45         93.4  9560                        91.7\n38                28.71         74.9  1110                          NA\n39                93.84           NA  3240                        92.3\n40                   NA           NA    NA                        97.6\n41                92.20         96.2 11860                          NA\n42                86.06         56.2  1710                          NA\n43               116.37         98.8 18760                        94.8\n44                11.69         99.8    NA                       100.0\n45                97.71         98.3    NA                        99.1\n46               123.44           NA 24370                          NA\n47                 4.09           NA    NA                          NA\n48                23.09         66.8   340                          NA\n49               128.47           NA 41900                        94.8\n50                21.32           NA    NA                          NA\n51               164.02           NA 13000                          NA\n52                87.22         89.5  9420                        95.5\n53               104.55         91.9  8510                          NA\n54               101.08         72.0  6120                          NA\n55               133.54         84.5  6640                        95.2\n56                59.15         93.9 25620                        56.5\n57                 4.47         67.8   580                        37.2\n58               138.98         99.8 20850                        97.7\n59                16.67           NA  1110                        84.8\n60                83.72           NA  4610                          NA\n61               166.02           NA 37670                        97.7\n62                94.79           NA 35910                        99.1\n63               117.32         88.4 13740                          NA\n64                78.89         50.0  1750                        68.2\n65               102.31         99.7  5350                          NA\n66               132.30           NA 40230                          NA\n67                84.78         67.3  1810                          NA\n68               106.48         97.2 25100                        98.8\n69                   NA           NA 10350                          NA\n70               140.38         75.2  4760                        98.6\n71                44.02         41.0  1020                        85.2\n72                56.18         54.2  1240                        76.7\n73                69.94           NA    NA                        82.4\n74                41.49           NA  1180                          NA\n75               103.97         84.8  3820                        94.8\n76               117.30         99.0 20310                        97.8\n77               106.08           NA 31020                        98.8\n78                72.00           NA  3590                          NA\n79               103.09           NA  4500                          NA\n80                74.93           NA    NA                          NA\n81                78.12         78.2  3750                          NA\n82               108.41           NA 34180                        99.4\n83               121.66           NA 27110                        97.0\n84               157.93         98.9 32400                        99.6\n85               108.12         86.6    NA                        83.4\n86               104.95           NA 35330                          NA\n87               118.20         92.6  5930                        90.8\n88               155.74         99.7 11250                          NA\n89                67.49         87.4  1710                          NA\n90                13.64           NA  3300                          NA\n91               175.09           NA    NA                          NA\n92               116.40           NA  2180                        95.5\n93                87.16           NA  2580                        98.1\n94               102.94         99.8 17700                        95.0\n95                78.65           NA 14470                        93.5\n96                56.17         89.6  2050                        72.2\n97                49.17         60.8   540                          NA\n98               155.70         89.2    NA                          NA\n99               151.30         99.7 19640                        95.6\n100              148.27           NA 64260                        93.6\n101               40.65           NA   950                          NA\n102               25.69         74.8   870                          NA\n103              127.04         93.1 15650                          NA\n104              165.72           NA  7430                        96.5\n105               68.32         31.1  1040                        70.6\n106              124.86           NA    NA                        93.3\n107                  NA           NA    NA                          NA\n108               93.60         58.0  2400                        72.8\n109               99.04         88.5 14330                          NA\n110               82.38         93.1 15390                        99.2\n111                  NA           NA  3580                          NA\n112               89.73           NA    NA                          NA\n113              105.08         97.4  4290                        99.6\n114                  NA         98.4 13700                          NA\n115              113.26           NA  4880                          NA\n116               32.83         56.1   970                        94.6\n117                2.57         92.3    NA                          NA\n118               96.39         88.8  6560                        83.8\n119               65.00           NA    NA                          NA\n120               43.81         60.3  1260                          NA\n121                  NA           NA 43140                          NA\n122              109.19           NA    NA                        99.3\n123               82.15           NA  3730                        93.2\n124               29.52           NA   720                        64.2\n125               58.58         61.3  2290                        60.1\n126                  NA           NA    NA                          NA\n127              115.62           NA 61460                        99.1\n128              168.97           NA    NA                          NA\n129               61.61           NA  2870                        81.3\n130               74.94           NA 11080                          NA\n131              188.60         94.1 14510                        99.1\n132               34.22         60.6  2570                          NA\n133               99.40         93.9  5390                        84.4\n134              110.41           NA  9440                        97.8\n135               99.30           NA  4140                          NA\n136              130.97         99.5 20430                        96.9\n137              115.39         95.2 24440                        99.1\n138              123.11         96.3 86440                        95.7\n139              108.50           NA 30370                        99.3\n140              104.80         98.5  3640                        90.1\n141              109.16         97.7 15120                        87.9\n142              179.31         99.6 20560                          NA\n143               40.63         71.1  1270                          NA\n144                  NA           NA 16470                        85.8\n145              123.00           NA 11220                        90.2\n146              120.52           NA 10440                          NA\n147                  NA         98.8  4270                        93.2\n148              111.75           NA    NA                          NA\n149               68.26         89.2  2080                          NA\n150              191.24         86.6 24700                        96.7\n151               73.25           NA  1940                        75.9\n152              125.39         97.9 11540                        94.7\n153              145.71         91.8 25140                          NA\n154               35.63         42.1   840                          NA\n155              150.24         95.9 59380                          NA\n156              109.35           NA 22130                          NA\n157              106.56         99.7 26510                        97.7\n158               49.77           NA  2350                        87.7\n159                6.85           NA    NA                          NA\n160              126.83           NA 10710                          NA\n161                  NA           NA    NA                          NA\n162              113.22         97.7 31400                        99.7\n163               87.05         91.2  5520                        93.9\n164               56.14         71.1  2120                          NA\n165              178.88         94.7    NA                          NA\n166               63.70         87.4  5930                          NA\n167              118.57           NA 42200                        99.7\n168              131.43           NA 52570                        98.9\n169               63.17         83.4    NA                          NA\n170               90.64         99.7  2300                        99.5\n171              111.63           NA  8360                          NA\n172              107.24         97.3 11090                        97.3\n173               53.23         58.3    NA                        86.2\n174               50.45           NA  1040                          NA\n175               52.63           NA  5000                          NA\n176              135.64         98.8    NA                        97.7\n177              116.93           NA  9030                          NA\n178               88.70           NA 16940                        99.5\n179               68.77         99.6  8690                          NA\n180               21.63           NA    NA                          NA\n181               48.38         73.2  1310                        89.7\n182              122.98         99.7  7040                        90.8\n183              148.62           NA 47890                          NA\n184              130.75           NA 36010                        99.8\n185               55.53         73.2  1500                          NA\n186               92.72           NA 48820                        95.4\n187              140.75         98.1 14640                          NA\n188               91.65         99.4  3420                        93.3\n189               55.76         82.6  4330                          NA\n190               97.78           NA 12430                        94.7\n191              143.39         93.2  3250                          NA\n192               47.05         63.9  2170                        85.5\n193               60.59         71.2  1490                        91.4\n194               72.13         92.2    NA                          NA\n    PrimarySchoolEnrollmentFemale\n1                              NA\n2                              NA\n3                            96.4\n4                            79.4\n5                            78.2\n6                            84.5\n7                              NA\n8                              NA\n9                            97.5\n10                             NA\n11                           84.1\n12                             NA\n13                             NA\n14                             NA\n15                             NA\n16                             NA\n17                           99.2\n18                             NA\n19                             NA\n20                           91.5\n21                           91.5\n22                           88.4\n23                             NA\n24                             NA\n25                             NA\n26                           99.7\n27                           55.9\n28                             NA\n29                           95.4\n30                           87.4\n31                             NA\n32                           92.4\n33                           60.6\n34                             NA\n35                           94.4\n36                             NA\n37                           91.3\n38                             NA\n39                           89.3\n40                           99.3\n41                             NA\n42                             NA\n43                           97.0\n44                           99.7\n45                           99.5\n46                             NA\n47                             NA\n48                             NA\n49                           96.9\n50                             NA\n51                             NA\n52                           90.4\n53                             NA\n54                             NA\n55                           95.5\n56                           56.0\n57                           32.5\n58                           97.0\n59                           79.5\n60                             NA\n61                           97.9\n62                           99.3\n63                             NA\n64                           70.4\n65                             NA\n66                             NA\n67                             NA\n68                           99.3\n69                             NA\n70                           97.5\n71                           72.1\n72                           73.3\n73                           85.9\n74                             NA\n75                           97.0\n76                           98.3\n77                           99.2\n78                             NA\n79                             NA\n80                             NA\n81                             NA\n82                          100.0\n83                           97.8\n84                           98.5\n85                           81.4\n86                             NA\n87                           90.7\n88                             NA\n89                             NA\n90                             NA\n91                             NA\n92                           95.1\n93                           95.4\n94                           96.8\n95                           92.9\n96                           75.3\n97                             NA\n98                             NA\n99                           95.8\n100                          95.7\n101                            NA\n102                            NA\n103                            NA\n104                          96.5\n105                          60.8\n106                          94.3\n107                            NA\n108                          76.0\n109                            NA\n110                          99.9\n111                            NA\n112                            NA\n113                          98.5\n114                            NA\n115                            NA\n116                          89.4\n117                            NA\n118                          88.5\n119                            NA\n120                            NA\n121                            NA\n122                          99.6\n123                          94.5\n124                          52.0\n125                          54.8\n126                            NA\n127                          99.2\n128                            NA\n129                          66.5\n130                            NA\n131                          98.2\n132                            NA\n133                          83.9\n134                          98.5\n135                            NA\n136                          96.7\n137                          99.7\n138                          96.6\n139                          98.4\n140                          90.1\n141                          87.3\n142                            NA\n143                            NA\n144                          86.2\n145                          89.2\n146                            NA\n147                          97.1\n148                            NA\n149                            NA\n150                          96.5\n151                          80.2\n152                          94.4\n153                            NA\n154                            NA\n155                            NA\n156                            NA\n157                          97.3\n158                          87.3\n159                            NA\n160                            NA\n161                            NA\n162                          99.8\n163                          94.4\n164                            NA\n165                            NA\n166                            NA\n167                          99.0\n168                          99.5\n169                            NA\n170                          96.0\n171                            NA\n172                          99.2\n173                          85.6\n174                            NA\n175                            NA\n176                          97.0\n177                            NA\n178                          98.3\n179                            NA\n180                            NA\n181                          92.3\n182                          91.5\n183                            NA\n184                          99.6\n185                            NA\n186                          96.1\n187                            NA\n188                          91.0\n189                            NA\n190                          95.1\n191                            NA\n192                          70.5\n193                          93.9\n194                            NA\n\n# Version that removes the first row of data\nWHO2 &lt;- WHO[-1,]\nrownames(WHO2) &lt;- NULL\nWHO2\n\n                                      Country                Region Population\n1                                     Albania                Europe       3162\n2                                     Algeria                Africa      38482\n3                                     Andorra                Europe         78\n4                                      Angola                Africa      20821\n5                         Antigua and Barbuda              Americas         89\n6                                   Argentina              Americas      41087\n7                                     Armenia                Europe       2969\n8                                   Australia       Western Pacific      23050\n9                                     Austria                Europe       8464\n10                                 Azerbaijan                Europe       9309\n11                                    Bahamas              Americas        372\n12                                    Bahrain Eastern Mediterranean       1318\n13                                 Bangladesh       South-East Asia     155000\n14                                   Barbados              Americas        283\n15                                    Belarus                Europe       9405\n16                                    Belgium                Europe      11060\n17                                     Belize              Americas        324\n18                                      Benin                Africa      10051\n19                                     Bhutan       South-East Asia        742\n20           Bolivia (Plurinational State of)              Americas      10496\n21                     Bosnia and Herzegovina                Europe       3834\n22                                   Botswana                Africa       2004\n23                                     Brazil              Americas     199000\n24                          Brunei Darussalam       Western Pacific        412\n25                                   Bulgaria                Europe       7278\n26                               Burkina Faso                Africa      16460\n27                                    Burundi                Africa       9850\n28                                   Cambodia       Western Pacific      14865\n29                                   Cameroon                Africa      21700\n30                                     Canada              Americas      34838\n31                                 Cape Verde                Africa        494\n32                   Central African Republic                Africa       4525\n33                                       Chad                Africa      12448\n34                                      Chile              Americas      17465\n35                                      China       Western Pacific    1390000\n36                                   Colombia              Americas      47704\n37                                    Comoros                Africa        718\n38                                      Congo                Africa       4337\n39                               Cook Islands       Western Pacific         21\n40                                 Costa Rica              Americas       4805\n41                              Cote d'Ivoire                Africa      19840\n42                                    Croatia                Europe       4307\n43                                       Cuba              Americas      11271\n44                                     Cyprus                Europe       1129\n45                             Czech Republic                Europe      10660\n46      Democratic People's Republic of Korea       South-East Asia      24763\n47           Democratic Republic of the Congo                Africa      65705\n48                                    Denmark                Europe       5598\n49                                   Djibouti Eastern Mediterranean        860\n50                                   Dominica              Americas         72\n51                         Dominican Republic              Americas      10277\n52                                    Ecuador              Americas      15492\n53                                      Egypt Eastern Mediterranean      80722\n54                                El Salvador              Americas       6297\n55                          Equatorial Guinea                Africa        736\n56                                    Eritrea                Africa       6131\n57                                    Estonia                Europe       1291\n58                                   Ethiopia                Africa      91729\n59                                       Fiji       Western Pacific        875\n60                                    Finland                Europe       5408\n61                                     France                Europe      63937\n62                                      Gabon                Africa       1633\n63                                     Gambia                Africa       1791\n64                                    Georgia                Europe       4358\n65                                    Germany                Europe      82800\n66                                      Ghana                Africa      25366\n67                                     Greece                Europe      11125\n68                                    Grenada              Americas        105\n69                                  Guatemala              Americas      15083\n70                                     Guinea                Africa      11451\n71                              Guinea-Bissau                Africa       1664\n72                                     Guyana              Americas        795\n73                                      Haiti              Americas      10174\n74                                   Honduras              Americas       7936\n75                                    Hungary                Europe       9976\n76                                    Iceland                Europe        326\n77                                      India       South-East Asia    1240000\n78                                  Indonesia       South-East Asia     247000\n79                 Iran (Islamic Republic of) Eastern Mediterranean      76424\n80                                       Iraq Eastern Mediterranean      32778\n81                                    Ireland                Europe       4576\n82                                     Israel                Europe       7644\n83                                      Italy                Europe      60885\n84                                    Jamaica              Americas       2769\n85                                      Japan       Western Pacific     127000\n86                                     Jordan Eastern Mediterranean       7009\n87                                 Kazakhstan                Europe      16271\n88                                      Kenya                Africa      43178\n89                                   Kiribati       Western Pacific        101\n90                                     Kuwait Eastern Mediterranean       3250\n91                                 Kyrgyzstan                Europe       5474\n92           Lao People's Democratic Republic       Western Pacific       6646\n93                                     Latvia                Europe       2060\n94                                    Lebanon Eastern Mediterranean       4647\n95                                    Lesotho                Africa       2052\n96                                    Liberia                Africa       4190\n97                                      Libya Eastern Mediterranean       6155\n98                                  Lithuania                Europe       3028\n99                                 Luxembourg                Europe        524\n100                                Madagascar                Africa      22294\n101                                    Malawi                Africa      15906\n102                                  Malaysia       Western Pacific      29240\n103                                  Maldives       South-East Asia        338\n104                                      Mali                Africa      14854\n105                                     Malta                Europe        428\n106                          Marshall Islands       Western Pacific         53\n107                                Mauritania                Africa       3796\n108                                 Mauritius                Africa       1240\n109                                    Mexico              Americas     121000\n110          Micronesia (Federated States of)       Western Pacific        103\n111                                    Monaco                Europe         38\n112                                  Mongolia       Western Pacific       2796\n113                                Montenegro                Europe        621\n114                                   Morocco Eastern Mediterranean      32521\n115                                Mozambique                Africa      25203\n116                                   Myanmar       South-East Asia      52797\n117                                   Namibia                Africa       2259\n118                                     Nauru       Western Pacific         10\n119                                     Nepal       South-East Asia      27474\n120                               Netherlands                Europe      16714\n121                               New Zealand       Western Pacific       4460\n122                                 Nicaragua              Americas       5992\n123                                     Niger                Africa      17157\n124                                   Nigeria                Africa     169000\n125                                      Niue       Western Pacific          1\n126                                    Norway                Europe       4994\n127                                      Oman Eastern Mediterranean       3314\n128                                  Pakistan Eastern Mediterranean     179000\n129                                     Palau       Western Pacific         21\n130                                    Panama              Americas       3802\n131                          Papua New Guinea       Western Pacific       7167\n132                                  Paraguay              Americas       6687\n133                                      Peru              Americas      29988\n134                               Philippines       Western Pacific      96707\n135                                    Poland                Europe      38211\n136                                  Portugal                Europe      10604\n137                                     Qatar Eastern Mediterranean       2051\n138                         Republic of Korea       Western Pacific      49003\n139                       Republic of Moldova                Europe       3514\n140                                   Romania                Europe      21755\n141                        Russian Federation                Europe     143000\n142                                    Rwanda                Africa      11458\n143                     Saint Kitts and Nevis              Americas         54\n144                               Saint Lucia              Americas        181\n145          Saint Vincent and the Grenadines              Americas        109\n146                                     Samoa       Western Pacific        189\n147                                San Marino                Europe         31\n148                     Sao Tome and Principe                Africa        188\n149                              Saudi Arabia Eastern Mediterranean      28288\n150                                   Senegal                Africa      13726\n151                                    Serbia                Europe       9553\n152                                Seychelles                Africa         92\n153                              Sierra Leone                Africa       5979\n154                                 Singapore       Western Pacific       5303\n155                                  Slovakia                Europe       5446\n156                                  Slovenia                Europe       2068\n157                           Solomon Islands       Western Pacific        550\n158                                   Somalia Eastern Mediterranean      10195\n159                              South Africa                Africa      52386\n160                               South Sudan Eastern Mediterranean      10838\n161                                     Spain                Europe      46755\n162                                 Sri Lanka       South-East Asia      21098\n163                                     Sudan Eastern Mediterranean      37195\n164                                  Suriname              Americas        535\n165                                 Swaziland                Africa       1231\n166                                    Sweden                Europe       9511\n167                               Switzerland                Europe       7997\n168                      Syrian Arab Republic Eastern Mediterranean      21890\n169                                Tajikistan                Europe       8009\n170                                  Thailand       South-East Asia      66785\n171 The former Yugoslav Republic of Macedonia                Europe       2106\n172                               Timor-Leste       South-East Asia       1114\n173                                      Togo                Africa       6643\n174                                     Tonga       Western Pacific        105\n175                       Trinidad and Tobago              Americas       1337\n176                                   Tunisia Eastern Mediterranean      10875\n177                                    Turkey                Europe      73997\n178                              Turkmenistan                Europe       5173\n179                                    Tuvalu       Western Pacific         10\n180                                    Uganda                Africa      36346\n181                                   Ukraine                Europe      45530\n182                      United Arab Emirates Eastern Mediterranean       9206\n183                            United Kingdom                Europe      62783\n184               United Republic of Tanzania                Africa      47783\n185                  United States of America              Americas     318000\n186                                   Uruguay              Americas       3395\n187                                Uzbekistan                Europe      28541\n188                                   Vanuatu       Western Pacific        247\n189        Venezuela (Bolivarian Republic of)              Americas      29955\n190                                  Viet Nam       Western Pacific      90796\n191                                     Yemen Eastern Mediterranean      23852\n192                                    Zambia                Africa      14075\n193                                  Zimbabwe                Africa      13724\n    Under15 Over60 FertilityRate LifeExpectancy ChildMortality\n1     21.33  14.93          1.75             74           16.7\n2     27.42   7.17          2.83             73           20.0\n3     15.20  22.86            NA             82            3.2\n4     47.58   3.84          6.10             51          163.5\n5     25.96  12.35          2.12             75            9.9\n6     24.42  14.97          2.20             76           14.2\n7     20.34  14.06          1.74             71           16.4\n8     18.95  19.46          1.89             82            4.9\n9     14.51  23.52          1.44             81            4.0\n10    22.25   8.24          1.96             71           35.2\n11    21.62  11.24          1.90             75           16.9\n12    20.16   3.38          2.12             79            9.6\n13    30.57   6.89          2.24             70           40.9\n14    18.99  15.78          1.84             78           18.4\n15    15.10  19.31          1.47             71            5.2\n16    16.88  23.81          1.85             80            4.2\n17    34.40   5.74          2.76             74           18.3\n18    42.95   4.54          5.01             57           89.5\n19    28.53   6.90          2.32             67           44.6\n20    35.23   7.28          3.31             67           41.4\n21    16.35  20.52          1.26             76            6.7\n22    33.75   5.63          2.71             66           53.3\n23    24.56  10.81          1.82             74           14.4\n24    25.75   7.03          2.03             77            8.0\n25    13.53  26.11          1.51             74           12.1\n26    45.66   3.88          5.78             56          102.4\n27    44.20   3.87          6.21             53          104.3\n28    31.23   7.67          2.93             65           39.7\n29    43.08   4.89          4.94             53           94.9\n30    16.37  20.82          1.66             82            5.3\n31    30.17   7.05          2.38             72           22.2\n32    40.07   5.74          4.54             48          128.6\n33    48.52   3.80          6.49             51          149.8\n34    21.38  13.80          1.84             79            9.1\n35    17.95  13.42          1.66             76           14.0\n36    28.03   9.19          2.35             78           17.6\n37    42.17   4.50          4.85             62           77.6\n38    42.37   5.13          5.05             58           96.0\n39    30.61   9.07            NA             77           10.6\n40    23.94  10.15          1.83             79            9.9\n41    41.48   5.10          4.91             56          107.6\n42    14.98  24.69          1.48             77            4.7\n43    16.58  17.95          1.46             78            5.5\n44    17.16  16.92          1.47             81            3.2\n45    14.56  23.23          1.53             78            3.8\n46    21.98  12.74          2.00             69           28.8\n47    45.11   4.51          6.15             49          145.7\n48    17.66  23.90          1.88             79            3.7\n49    33.72   5.96          3.53             58           80.9\n50    25.96  12.35            NA             74           12.6\n51    30.53   8.97          2.55             73           27.1\n52    30.29   9.21          2.62             76           23.3\n53    31.25   8.62          2.85             73           21.0\n54    30.62   9.64          2.24             72           15.9\n55    38.95   4.53          5.04             54          100.3\n56    43.10   3.73          4.88             61           51.8\n57    15.69  23.92          1.62             76            3.6\n58    43.29   5.17          4.77             60           68.3\n59    28.88   8.38          2.64             70           22.4\n60    16.42  25.90          1.85             81            2.9\n61    18.26  23.82          1.98             82            4.1\n62    38.49   7.38          4.18             62           62.0\n63    45.90   3.72          5.79             58           72.9\n64    17.62  19.47          1.82             72           19.9\n65    13.17  26.72          1.40             81            4.1\n66    38.59   5.40          3.99             64           72.0\n67    14.60  25.41          1.51             81            4.8\n68    26.96   9.72          2.22             74           13.5\n69    40.80   6.56          3.91             69           32.0\n70    42.46   5.03          5.09             55          101.2\n71    41.55   5.06          5.05             50          129.1\n72    36.77   5.18          2.64             63           35.2\n73    35.35   6.70          3.28             63           75.6\n74    35.72   6.41          3.10             74           22.9\n75    14.62  23.41          1.38             75            6.2\n76    20.71  17.62          2.11             82            2.3\n77    29.43   8.10          2.53             65           56.3\n78    29.27   7.86          2.40             69           31.0\n79    23.68   7.82          1.91             73           17.6\n80    40.51   4.95          4.15             69           34.4\n81    21.54  16.59          2.00             81            4.0\n82    27.53  15.15          2.92             82            4.2\n83    14.04  26.97          1.45             82            3.8\n84    27.78  10.98          2.31             75           16.8\n85    13.12  31.92          1.39             83            3.0\n86    34.13   5.30          3.39             74           19.1\n87    25.46  10.04          2.52             67           18.7\n88    42.37   4.25          4.54             60           72.9\n89    30.10   8.84          3.01             67           59.9\n90    24.90   3.80          2.65             80           11.0\n91    30.21   6.34          3.03             69           26.6\n92    35.61   5.76          3.20             68           71.8\n93    14.57  24.24          1.57             74            8.7\n94    21.64  12.03          1.50             74            9.3\n95    36.75   6.31          3.15             50           99.6\n96    43.06   4.76          4.95             59           74.8\n97    29.45   6.96          2.47             65           15.4\n98    15.13  20.57          1.49             74            5.4\n99    17.46  19.15          1.65             82            2.2\n100   42.72   4.45          4.59             66           58.2\n101   45.44   4.92          5.55             58           71.0\n102   26.65   8.21          1.99             74            8.5\n103   29.03   6.65          2.31             77           10.5\n104   47.14   4.29          6.85             51          128.0\n105   14.98  22.87          1.37             80            6.8\n106   30.10   8.84            NA             60           37.9\n107   40.22   4.94          4.78             59           84.0\n108   20.17  13.23          1.51             74           15.1\n109   29.02   9.18          2.25             75           16.2\n110   35.81   6.67          3.40             69           38.5\n111   18.26  23.82            NA             82            3.8\n112   27.05   5.80          2.45             68           27.5\n113   19.01  18.58          1.69             76            5.9\n114   27.85   7.61          2.65             72           31.1\n115   45.38   5.01          5.34             53           89.7\n116   25.28   8.15          1.98             65           52.3\n117   36.59   5.38          3.17             65           38.7\n118   30.10   8.84            NA             71           37.1\n119   35.58   7.65          2.50             68           41.6\n120   17.21  23.02          1.76             81            4.1\n121   20.26  19.01          2.10             81            5.7\n122   33.37   6.59          2.59             73           24.4\n123   49.99   4.26          7.58             56          113.5\n124   44.23   4.49          6.02             53          123.7\n125   30.61   9.07            NA             72           25.1\n126   18.64  21.41          1.93             81            2.8\n127   24.19   3.99          2.90             72           11.6\n128   34.31   6.44          3.35             67           85.9\n129   30.10   8.84            NA             72           20.8\n130   28.65  10.13          2.52             77           18.5\n131   38.37   4.79          3.90             63           63.0\n132   32.78   8.01          2.93             75           22.0\n133   29.18   9.12          2.48             77           18.2\n134   34.53   6.21          3.11             69           29.8\n135   14.91  20.48          1.39             76            5.0\n136   14.92  24.39          1.33             80            3.6\n137   13.28   1.73          2.06             82            7.4\n138   15.25  16.58          1.29             81            3.8\n139   16.52  16.72          1.47             71           17.6\n140   15.05  20.66          1.39             74           12.2\n141   15.45  18.60          1.51             69           10.3\n142   43.56   3.94          4.73             60           55.0\n143   25.96  12.35            NA             74            9.2\n144   24.31  12.13          1.96             75           17.5\n145   25.70   9.92          2.05             74           23.4\n146   37.88   7.39          4.28             73           17.8\n147   14.04  26.97            NA             83            3.3\n148   41.60   4.76          4.22             63           53.2\n149   29.69   4.59          2.76             76            8.6\n150   43.54   4.57          5.02             61           59.6\n151   16.45  20.52          1.37             74            6.6\n152   21.95  10.05          2.23             74           13.1\n153   41.74   4.41          4.86             47          181.6\n154   16.48  15.13          1.27             82            2.9\n155   15.00  18.60          1.37             76            7.5\n156   14.16  23.16          1.49             80            3.1\n157   40.37   5.10          4.17             70           31.1\n158   47.35   4.46          6.77             50          147.4\n159   29.53   8.44          2.44             58           44.6\n160   42.28   5.26          5.10             54          104.0\n161   15.20  22.86          1.47             82            4.5\n162   25.15  12.40          2.35             75            9.6\n163   41.48   4.99          4.56             62           73.1\n164   27.83   9.55          2.32             72           20.8\n165   38.05   5.34          3.48             50           79.7\n166   16.71  25.32          1.93             82            2.9\n167   14.79  23.25          1.51             83            4.3\n168   35.35   6.09          3.04             75           15.1\n169   35.75   4.80          3.81             68           58.3\n170   18.47  13.96          1.43             74           13.2\n171   16.89  17.56          1.44             75            7.4\n172   46.33   5.16          6.11             64           56.7\n173   41.89   4.44          4.75             56           95.5\n174   37.33   7.96          3.86             72           12.8\n175   20.73  13.18          1.80             71           20.7\n176   23.22  10.49          2.04             76           16.1\n177   26.00  10.56          2.08             76           14.2\n178   28.65   6.30          2.38             63           52.8\n179   30.61   9.07            NA             64           29.7\n180   48.54   3.72          6.06             56           68.9\n181   14.18  20.76          1.45             71           10.7\n182   14.41   0.81          1.84             76            8.4\n183   17.54  23.06          1.90             80            4.8\n184   44.85   4.89          5.36             59           54.0\n185   19.63  19.31          2.00             79            7.1\n186   22.05  18.59          2.07             77            7.2\n187   28.90   6.38          2.38             68           39.6\n188   37.37   6.02          3.46             72           17.9\n189   28.84   9.17          2.44             75           15.3\n190   22.87   9.32          1.79             75           23.0\n191   40.72   4.54          4.35             64           60.0\n192   46.73   3.95          5.77             55           88.5\n193   40.24   5.68          3.64             54           89.8\n    CellularSubscribers LiteracyRate   GNI PrimarySchoolEnrollmentMale\n1                 96.39           NA  8820                          NA\n2                 98.99           NA  8310                        98.2\n3                 75.49           NA    NA                        78.4\n4                 48.38         70.1  5230                        93.1\n5                196.41         99.0 17900                        91.1\n6                134.92         97.8 17130                          NA\n7                103.57         99.6  6100                          NA\n8                108.34           NA 38110                        96.9\n9                154.78           NA 42050                          NA\n10               108.75           NA  8960                        85.3\n11                86.06           NA    NA                          NA\n12               127.96         91.9    NA                          NA\n13                56.06         56.8  1940                          NA\n14               127.01           NA    NA                          NA\n15               111.88           NA 14460                          NA\n16               116.61           NA 39190                        98.9\n17                69.96           NA  6090                          NA\n18                85.33         42.4  1620                          NA\n19                65.58           NA  5570                        88.3\n20                82.82           NA  4890                        91.2\n21                84.52         97.9  9190                        86.5\n22               142.82         84.5 14550                          NA\n23               124.26           NA 11420                          NA\n24               109.17         95.2    NA                          NA\n25               140.68           NA 14160                        99.3\n26                45.27           NA  1300                        60.7\n27                22.33         67.2   610                          NA\n28                96.17           NA  2230                        96.4\n29                52.35           NA  2330                        99.6\n30                79.73           NA 39660                          NA\n31                79.19         84.3  3980                        94.6\n32                40.65         56.0   810                        81.3\n33                31.80         34.5  1360                          NA\n34               129.71           NA 16330                        94.3\n35                73.19         94.3  8390                          NA\n36                98.45         93.4  9560                        91.7\n37                28.71         74.9  1110                          NA\n38                93.84           NA  3240                        92.3\n39                   NA           NA    NA                        97.6\n40                92.20         96.2 11860                          NA\n41                86.06         56.2  1710                          NA\n42               116.37         98.8 18760                        94.8\n43                11.69         99.8    NA                       100.0\n44                97.71         98.3    NA                        99.1\n45               123.44           NA 24370                          NA\n46                 4.09           NA    NA                          NA\n47                23.09         66.8   340                          NA\n48               128.47           NA 41900                        94.8\n49                21.32           NA    NA                          NA\n50               164.02           NA 13000                          NA\n51                87.22         89.5  9420                        95.5\n52               104.55         91.9  8510                          NA\n53               101.08         72.0  6120                          NA\n54               133.54         84.5  6640                        95.2\n55                59.15         93.9 25620                        56.5\n56                 4.47         67.8   580                        37.2\n57               138.98         99.8 20850                        97.7\n58                16.67           NA  1110                        84.8\n59                83.72           NA  4610                          NA\n60               166.02           NA 37670                        97.7\n61                94.79           NA 35910                        99.1\n62               117.32         88.4 13740                          NA\n63                78.89         50.0  1750                        68.2\n64               102.31         99.7  5350                          NA\n65               132.30           NA 40230                          NA\n66                84.78         67.3  1810                          NA\n67               106.48         97.2 25100                        98.8\n68                   NA           NA 10350                          NA\n69               140.38         75.2  4760                        98.6\n70                44.02         41.0  1020                        85.2\n71                56.18         54.2  1240                        76.7\n72                69.94           NA    NA                        82.4\n73                41.49           NA  1180                          NA\n74               103.97         84.8  3820                        94.8\n75               117.30         99.0 20310                        97.8\n76               106.08           NA 31020                        98.8\n77                72.00           NA  3590                          NA\n78               103.09           NA  4500                          NA\n79                74.93           NA    NA                          NA\n80                78.12         78.2  3750                          NA\n81               108.41           NA 34180                        99.4\n82               121.66           NA 27110                        97.0\n83               157.93         98.9 32400                        99.6\n84               108.12         86.6    NA                        83.4\n85               104.95           NA 35330                          NA\n86               118.20         92.6  5930                        90.8\n87               155.74         99.7 11250                          NA\n88                67.49         87.4  1710                          NA\n89                13.64           NA  3300                          NA\n90               175.09           NA    NA                          NA\n91               116.40           NA  2180                        95.5\n92                87.16           NA  2580                        98.1\n93               102.94         99.8 17700                        95.0\n94                78.65           NA 14470                        93.5\n95                56.17         89.6  2050                        72.2\n96                49.17         60.8   540                          NA\n97               155.70         89.2    NA                          NA\n98               151.30         99.7 19640                        95.6\n99               148.27           NA 64260                        93.6\n100               40.65           NA   950                          NA\n101               25.69         74.8   870                          NA\n102              127.04         93.1 15650                          NA\n103              165.72           NA  7430                        96.5\n104               68.32         31.1  1040                        70.6\n105              124.86           NA    NA                        93.3\n106                  NA           NA    NA                          NA\n107               93.60         58.0  2400                        72.8\n108               99.04         88.5 14330                          NA\n109               82.38         93.1 15390                        99.2\n110                  NA           NA  3580                          NA\n111               89.73           NA    NA                          NA\n112              105.08         97.4  4290                        99.6\n113                  NA         98.4 13700                          NA\n114              113.26           NA  4880                          NA\n115               32.83         56.1   970                        94.6\n116                2.57         92.3    NA                          NA\n117               96.39         88.8  6560                        83.8\n118               65.00           NA    NA                          NA\n119               43.81         60.3  1260                          NA\n120                  NA           NA 43140                          NA\n121              109.19           NA    NA                        99.3\n122               82.15           NA  3730                        93.2\n123               29.52           NA   720                        64.2\n124               58.58         61.3  2290                        60.1\n125                  NA           NA    NA                          NA\n126              115.62           NA 61460                        99.1\n127              168.97           NA    NA                          NA\n128               61.61           NA  2870                        81.3\n129               74.94           NA 11080                          NA\n130              188.60         94.1 14510                        99.1\n131               34.22         60.6  2570                          NA\n132               99.40         93.9  5390                        84.4\n133              110.41           NA  9440                        97.8\n134               99.30           NA  4140                          NA\n135              130.97         99.5 20430                        96.9\n136              115.39         95.2 24440                        99.1\n137              123.11         96.3 86440                        95.7\n138              108.50           NA 30370                        99.3\n139              104.80         98.5  3640                        90.1\n140              109.16         97.7 15120                        87.9\n141              179.31         99.6 20560                          NA\n142               40.63         71.1  1270                          NA\n143                  NA           NA 16470                        85.8\n144              123.00           NA 11220                        90.2\n145              120.52           NA 10440                          NA\n146                  NA         98.8  4270                        93.2\n147              111.75           NA    NA                          NA\n148               68.26         89.2  2080                          NA\n149              191.24         86.6 24700                        96.7\n150               73.25           NA  1940                        75.9\n151              125.39         97.9 11540                        94.7\n152              145.71         91.8 25140                          NA\n153               35.63         42.1   840                          NA\n154              150.24         95.9 59380                          NA\n155              109.35           NA 22130                          NA\n156              106.56         99.7 26510                        97.7\n157               49.77           NA  2350                        87.7\n158                6.85           NA    NA                          NA\n159              126.83           NA 10710                          NA\n160                  NA           NA    NA                          NA\n161              113.22         97.7 31400                        99.7\n162               87.05         91.2  5520                        93.9\n163               56.14         71.1  2120                          NA\n164              178.88         94.7    NA                          NA\n165               63.70         87.4  5930                          NA\n166              118.57           NA 42200                        99.7\n167              131.43           NA 52570                        98.9\n168               63.17         83.4    NA                          NA\n169               90.64         99.7  2300                        99.5\n170              111.63           NA  8360                          NA\n171              107.24         97.3 11090                        97.3\n172               53.23         58.3    NA                        86.2\n173               50.45           NA  1040                          NA\n174               52.63           NA  5000                          NA\n175              135.64         98.8    NA                        97.7\n176              116.93           NA  9030                          NA\n177               88.70           NA 16940                        99.5\n178               68.77         99.6  8690                          NA\n179               21.63           NA    NA                          NA\n180               48.38         73.2  1310                        89.7\n181              122.98         99.7  7040                        90.8\n182              148.62           NA 47890                          NA\n183              130.75           NA 36010                        99.8\n184               55.53         73.2  1500                          NA\n185               92.72           NA 48820                        95.4\n186              140.75         98.1 14640                          NA\n187               91.65         99.4  3420                        93.3\n188               55.76         82.6  4330                          NA\n189               97.78           NA 12430                        94.7\n190              143.39         93.2  3250                          NA\n191               47.05         63.9  2170                        85.5\n192               60.59         71.2  1490                        91.4\n193               72.13         92.2    NA                          NA\n    PrimarySchoolEnrollmentFemale\n1                              NA\n2                            96.4\n3                            79.4\n4                            78.2\n5                            84.5\n6                              NA\n7                              NA\n8                            97.5\n9                              NA\n10                           84.1\n11                             NA\n12                             NA\n13                             NA\n14                             NA\n15                             NA\n16                           99.2\n17                             NA\n18                             NA\n19                           91.5\n20                           91.5\n21                           88.4\n22                             NA\n23                             NA\n24                             NA\n25                           99.7\n26                           55.9\n27                             NA\n28                           95.4\n29                           87.4\n30                             NA\n31                           92.4\n32                           60.6\n33                             NA\n34                           94.4\n35                             NA\n36                           91.3\n37                             NA\n38                           89.3\n39                           99.3\n40                             NA\n41                             NA\n42                           97.0\n43                           99.7\n44                           99.5\n45                             NA\n46                             NA\n47                             NA\n48                           96.9\n49                             NA\n50                             NA\n51                           90.4\n52                             NA\n53                             NA\n54                           95.5\n55                           56.0\n56                           32.5\n57                           97.0\n58                           79.5\n59                             NA\n60                           97.9\n61                           99.3\n62                             NA\n63                           70.4\n64                             NA\n65                             NA\n66                             NA\n67                           99.3\n68                             NA\n69                           97.5\n70                           72.1\n71                           73.3\n72                           85.9\n73                             NA\n74                           97.0\n75                           98.3\n76                           99.2\n77                             NA\n78                             NA\n79                             NA\n80                             NA\n81                          100.0\n82                           97.8\n83                           98.5\n84                           81.4\n85                             NA\n86                           90.7\n87                             NA\n88                             NA\n89                             NA\n90                             NA\n91                           95.1\n92                           95.4\n93                           96.8\n94                           92.9\n95                           75.3\n96                             NA\n97                             NA\n98                           95.8\n99                           95.7\n100                            NA\n101                            NA\n102                            NA\n103                          96.5\n104                          60.8\n105                          94.3\n106                            NA\n107                          76.0\n108                            NA\n109                          99.9\n110                            NA\n111                            NA\n112                          98.5\n113                            NA\n114                            NA\n115                          89.4\n116                            NA\n117                          88.5\n118                            NA\n119                            NA\n120                            NA\n121                          99.6\n122                          94.5\n123                          52.0\n124                          54.8\n125                            NA\n126                          99.2\n127                            NA\n128                          66.5\n129                            NA\n130                          98.2\n131                            NA\n132                          83.9\n133                          98.5\n134                            NA\n135                          96.7\n136                          99.7\n137                          96.6\n138                          98.4\n139                          90.1\n140                          87.3\n141                            NA\n142                            NA\n143                          86.2\n144                          89.2\n145                            NA\n146                          97.1\n147                            NA\n148                            NA\n149                          96.5\n150                          80.2\n151                          94.4\n152                            NA\n153                            NA\n154                            NA\n155                            NA\n156                          97.3\n157                          87.3\n158                            NA\n159                            NA\n160                            NA\n161                          99.8\n162                          94.4\n163                            NA\n164                            NA\n165                            NA\n166                          99.0\n167                          99.5\n168                            NA\n169                          96.0\n170                            NA\n171                          99.2\n172                          85.6\n173                            NA\n174                            NA\n175                          97.0\n176                            NA\n177                          98.3\n178                            NA\n179                            NA\n180                          92.3\n181                          91.5\n182                            NA\n183                          99.6\n184                            NA\n185                          96.1\n186                            NA\n187                          91.0\n188                            NA\n189                          95.1\n190                            NA\n191                          70.5\n192                          93.9\n193                            NA\n\ndata &lt;- read.csv(file.path(file_path, \"2023_WorldBank.csv\"), stringsAsFactors = FALSE)\nhead(data)\n\n          Country.Name Country.Code                          Indicator.Name\n1 Hong Kong SAR, China          HKG Life expectancy at birth, total (years)\n2     Macao SAR, China          MAC Life expectancy at birth, total (years)\n3                Japan          JPN Life expectancy at birth, total (years)\n4        Liechtenstein          LIE Life expectancy at birth, total (years)\n5          Switzerland          CHE Life expectancy at birth, total (years)\n6          Korea, Rep.          KOR Life expectancy at birth, total (years)\n  Indicator.Code    X1960    X1961    X1962    X1963    X1964    X1965    X1966\n1 SP.DYN.LE00.IN 65.86629 66.55888 66.97717 67.68573 68.44610 69.25122 69.53888\n2 SP.DYN.LE00.IN 64.96500 65.48500 65.94600 66.38600 66.80000 67.19900 67.64700\n3 SP.DYN.LE00.IN 67.69561 68.35195 68.63488 69.71244 70.20659 70.26683 70.91585\n4 SP.DYN.LE00.IN       NA       NA       NA       NA       NA       NA       NA\n5 SP.DYN.LE00.IN 71.31341 71.64488 71.19610 71.18756 72.07780 72.20171 72.33561\n6 SP.DYN.LE00.IN 54.32024 54.92400 55.51951 55.97488 57.17478 58.24049 59.50471\n     X1967    X1968    X1969    X1970    X1971    X1972    X1973    X1974\n1 69.92544 70.35583 70.56856 71.04995 71.45854 71.45610 72.10976 72.61220\n2 68.02800 68.44000 68.84500 69.19800 69.58200 70.04400 70.56800 70.99500\n3 71.46610 71.61098 71.85805 71.91976 72.80902 73.15366 73.29512 73.67220\n4       NA       NA       NA       NA       NA       NA       NA       NA\n5 72.63659 72.59024 72.61268 73.02024 73.13073 73.64439 73.94098 74.28707\n6 61.28812 61.55900 62.05102 62.16341 62.61220 63.00976 63.40732 63.80488\n     X1975    X1976    X1977    X1978    X1979    X1980    X1981    X1982\n1 73.36829 72.81951 73.31951 73.57561 73.67317 74.67317 75.32439 75.42927\n2 71.41900 71.85000 72.26300 72.69000 73.07000 73.50400 73.93200 74.34200\n3 74.24707 74.68659 75.25585 75.58463 76.10878 75.98902 76.39488 76.87366\n4       NA       NA       NA       NA       NA       NA       NA       NA\n5 74.66561 74.78537 75.23805 75.18732 75.46610 75.45927 75.69317 76.03390\n6 64.15366 64.50244 64.90000 65.19756 65.54634 66.04634 66.54634 67.09512\n     X1983    X1984    X1985    X1986    X1987    X1988    X1989    X1990\n1 75.27561 76.02927 76.43415 76.68537 76.88293 77.08293 77.02927 77.38049\n2 74.70300 75.08000 75.47800 75.86200 76.27200 76.60300 77.03500 77.42400\n3 76.92195 77.29122 77.56049 78.01049 78.42951 78.34976 78.76854 78.83707\n4       NA       NA       NA       NA       NA       NA       NA       NA\n5 76.03122 76.60854 76.73366 76.89902 77.19756 77.22659 77.42122 77.24244\n6 67.54634 68.19512 68.79512 69.44634 69.99756 70.54878 71.04878 71.59756\n     X1991    X1992    X1993    X1994    X1995    X1996    X1997    X1998\n1 77.88293 77.67805 78.03171 78.52927 78.68293 79.62683 80.12683 80.13171\n2 77.90400 78.28000 78.63000 78.99300 79.34900 79.97100 80.16200 80.35200\n3 79.03683 79.08024 79.30366 79.69683 79.53610 80.21976 80.42415 80.50146\n4       NA       NA       NA 78.42195 77.39024 76.83659 76.04634 77.74634\n5 77.51463 77.80610 78.08537 78.35000 78.41707 78.89610 79.07951 79.32439\n6 72.04634 72.49756 72.99756 73.39756 73.70000 74.15122 74.60244 75.00488\n     X1999    X2000    X2001    X2002    X2003    X2004    X2005    X2006\n1 80.38293 80.87805 81.42439 81.42683 81.37805 81.82927 81.62927 82.37561\n2 80.65200 80.95900 81.17900 81.29300 81.50100 81.69100 82.03300 82.25700\n3 80.46098 81.07610 81.41634 81.69073 81.76000 82.03024 81.95512 82.32195\n4 79.10976 76.82683 79.27561 79.63659 79.96098 81.77073 80.66829 80.94878\n5 79.58049 79.68049 80.18049 80.38537 80.53659 81.08780 81.23659 81.49024\n6 75.40976 75.90976 76.41220 76.76585 77.21463 77.66585 78.16829 78.66829\n     X2007    X2008    X2009    X2010    X2011    X2012    X2013    X2014\n1 82.32683 82.37561 82.77561 82.97805 83.42195 83.48049 83.83171 83.98049\n2 82.54300 82.89300 83.27600 83.10900 83.22900 83.32600 83.72700 83.88300\n3 82.50707 82.58756 82.93146 82.84268 82.59122 83.09610 83.33195 83.58780\n4 81.29512 82.68293 81.50000 81.84146 81.79268 82.38293 82.26098 82.07317\n5 81.74146 81.99268 82.04390 82.24634 82.69512 82.69756 82.79756 83.19756\n6 79.11951 79.51707 79.96829 80.11707 80.56829 80.81951 81.27073 81.72195\n     X2015    X2016    X2017    X2018    X2019    X2020    X2021\n1 84.27805 84.22683 84.68049 84.93415 85.18049 85.49756 85.49268\n2 83.98400 84.23100 84.56300 84.92800 84.97800 85.18400 85.39900\n3 83.79390 83.98488 84.09976 84.21098 84.35634 84.56000 84.44561\n4 82.65610 82.25854 83.74634 83.04146 84.16098 81.65854 84.40244\n5 82.89756 83.60244 83.55122 83.75366 83.90488 83.00000 83.85122\n6 82.02439 82.27561 82.62683 82.62683 83.22683 83.42683 83.52683\n\nstr(data)\n\n'data.frame':   266 obs. of  66 variables:\n $ Country.Name  : chr  \"Hong Kong SAR, China\" \"Macao SAR, China\" \"Japan\" \"Liechtenstein\" ...\n $ Country.Code  : chr  \"HKG\" \"MAC\" \"JPN\" \"LIE\" ...\n $ Indicator.Name: chr  \"Life expectancy at birth, total (years)\" \"Life expectancy at birth, total (years)\" \"Life expectancy at birth, total (years)\" \"Life expectancy at birth, total (years)\" ...\n $ Indicator.Code: chr  \"SP.DYN.LE00.IN\" \"SP.DYN.LE00.IN\" \"SP.DYN.LE00.IN\" \"SP.DYN.LE00.IN\" ...\n $ X1960         : num  65.9 65 67.7 NA 71.3 ...\n $ X1961         : num  66.6 65.5 68.4 NA 71.6 ...\n $ X1962         : num  67 65.9 68.6 NA 71.2 ...\n $ X1963         : num  67.7 66.4 69.7 NA 71.2 ...\n $ X1964         : num  68.4 66.8 70.2 NA 72.1 ...\n $ X1965         : num  69.3 67.2 70.3 NA 72.2 ...\n $ X1966         : num  69.5 67.6 70.9 NA 72.3 ...\n $ X1967         : num  69.9 68 71.5 NA 72.6 ...\n $ X1968         : num  70.4 68.4 71.6 NA 72.6 ...\n $ X1969         : num  70.6 68.8 71.9 NA 72.6 ...\n $ X1970         : num  71 69.2 71.9 NA 73 ...\n $ X1971         : num  71.5 69.6 72.8 NA 73.1 ...\n $ X1972         : num  71.5 70 73.2 NA 73.6 ...\n $ X1973         : num  72.1 70.6 73.3 NA 73.9 ...\n $ X1974         : num  72.6 71 73.7 NA 74.3 ...\n $ X1975         : num  73.4 71.4 74.2 NA 74.7 ...\n $ X1976         : num  72.8 71.8 74.7 NA 74.8 ...\n $ X1977         : num  73.3 72.3 75.3 NA 75.2 ...\n $ X1978         : num  73.6 72.7 75.6 NA 75.2 ...\n $ X1979         : num  73.7 73.1 76.1 NA 75.5 ...\n $ X1980         : num  74.7 73.5 76 NA 75.5 ...\n $ X1981         : num  75.3 73.9 76.4 NA 75.7 ...\n $ X1982         : num  75.4 74.3 76.9 NA 76 ...\n $ X1983         : num  75.3 74.7 76.9 NA 76 ...\n $ X1984         : num  76 75.1 77.3 NA 76.6 ...\n $ X1985         : num  76.4 75.5 77.6 NA 76.7 ...\n $ X1986         : num  76.7 75.9 78 NA 76.9 ...\n $ X1987         : num  76.9 76.3 78.4 NA 77.2 ...\n $ X1988         : num  77.1 76.6 78.3 NA 77.2 ...\n $ X1989         : num  77 77 78.8 NA 77.4 ...\n $ X1990         : num  77.4 77.4 78.8 NA 77.2 ...\n $ X1991         : num  77.9 77.9 79 NA 77.5 ...\n $ X1992         : num  77.7 78.3 79.1 NA 77.8 ...\n $ X1993         : num  78 78.6 79.3 NA 78.1 ...\n $ X1994         : num  78.5 79 79.7 78.4 78.3 ...\n $ X1995         : num  78.7 79.3 79.5 77.4 78.4 ...\n $ X1996         : num  79.6 80 80.2 76.8 78.9 ...\n $ X1997         : num  80.1 80.2 80.4 76 79.1 ...\n $ X1998         : num  80.1 80.4 80.5 77.7 79.3 ...\n $ X1999         : num  80.4 80.7 80.5 79.1 79.6 ...\n $ X2000         : num  80.9 81 81.1 76.8 79.7 ...\n $ X2001         : num  81.4 81.2 81.4 79.3 80.2 ...\n $ X2002         : num  81.4 81.3 81.7 79.6 80.4 ...\n $ X2003         : num  81.4 81.5 81.8 80 80.5 ...\n $ X2004         : num  81.8 81.7 82 81.8 81.1 ...\n $ X2005         : num  81.6 82 82 80.7 81.2 ...\n $ X2006         : num  82.4 82.3 82.3 80.9 81.5 ...\n $ X2007         : num  82.3 82.5 82.5 81.3 81.7 ...\n $ X2008         : num  82.4 82.9 82.6 82.7 82 ...\n $ X2009         : num  82.8 83.3 82.9 81.5 82 ...\n $ X2010         : num  83 83.1 82.8 81.8 82.2 ...\n $ X2011         : num  83.4 83.2 82.6 81.8 82.7 ...\n $ X2012         : num  83.5 83.3 83.1 82.4 82.7 ...\n $ X2013         : num  83.8 83.7 83.3 82.3 82.8 ...\n $ X2014         : num  84 83.9 83.6 82.1 83.2 ...\n $ X2015         : num  84.3 84 83.8 82.7 82.9 ...\n $ X2016         : num  84.2 84.2 84 82.3 83.6 ...\n $ X2017         : num  84.7 84.6 84.1 83.7 83.6 ...\n $ X2018         : num  84.9 84.9 84.2 83 83.8 ...\n $ X2019         : num  85.2 85 84.4 84.2 83.9 ...\n $ X2020         : num  85.5 85.2 84.6 81.7 83 ...\n $ X2021         : num  85.5 85.4 84.4 84.4 83.9 ...\n\ncolnames(data)\n\n [1] \"Country.Name\"   \"Country.Code\"   \"Indicator.Name\" \"Indicator.Code\"\n [5] \"X1960\"          \"X1961\"          \"X1962\"          \"X1963\"         \n [9] \"X1964\"          \"X1965\"          \"X1966\"          \"X1967\"         \n[13] \"X1968\"          \"X1969\"          \"X1970\"          \"X1971\"         \n[17] \"X1972\"          \"X1973\"          \"X1974\"          \"X1975\"         \n[21] \"X1976\"          \"X1977\"          \"X1978\"          \"X1979\"         \n[25] \"X1980\"          \"X1981\"          \"X1982\"          \"X1983\"         \n[29] \"X1984\"          \"X1985\"          \"X1986\"          \"X1987\"         \n[33] \"X1988\"          \"X1989\"          \"X1990\"          \"X1991\"         \n[37] \"X1992\"          \"X1993\"          \"X1994\"          \"X1995\"         \n[41] \"X1996\"          \"X1997\"          \"X1998\"          \"X1999\"         \n[45] \"X2000\"          \"X2001\"          \"X2002\"          \"X2003\"         \n[49] \"X2004\"          \"X2005\"          \"X2006\"          \"X2007\"         \n[53] \"X2008\"          \"X2009\"          \"X2010\"          \"X2011\"         \n[57] \"X2012\"          \"X2013\"          \"X2014\"          \"X2015\"         \n[61] \"X2016\"          \"X2017\"          \"X2018\"          \"X2019\"         \n[65] \"X2020\"          \"X2021\"         \n\nsummary(data)\n\n Country.Name       Country.Code       Indicator.Name     Indicator.Code    \n Length:266         Length:266         Length:266         Length:266        \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n                                                                            \n     X1960           X1961           X1962           X1963      \n Min.   :28.66   Min.   :28.84   Min.   :29.12   Min.   :28.83  \n 1st Qu.:43.93   1st Qu.:45.34   1st Qu.:45.80   1st Qu.:46.17  \n Median :53.72   Median :54.32   Median :55.09   Median :55.57  \n Mean   :53.55   Mean   :54.19   Mean   :54.83   Mean   :55.13  \n 3rd Qu.:64.18   3rd Qu.:64.51   3rd Qu.:64.58   3rd Qu.:64.90  \n Max.   :73.76   Max.   :73.65   Max.   :73.72   Max.   :73.56  \n NA's   :14      NA's   :13      NA's   :13      NA's   :14     \n     X1964           X1965           X1966           X1967      \n Min.   :30.42   Min.   :29.29   Min.   :26.08   Min.   :26.41  \n 1st Qu.:47.36   1st Qu.:47.62   1st Qu.:48.17   1st Qu.:48.09  \n Median :56.17   Median :56.84   Median :57.39   Median :57.83  \n Mean   :55.74   Mean   :56.00   Mean   :56.44   Mean   :56.86  \n 3rd Qu.:65.35   3rd Qu.:65.96   3rd Qu.:66.07   3rd Qu.:66.52  \n Max.   :73.73   Max.   :73.87   Max.   :74.08   Max.   :74.12  \n NA's   :14      NA's   :14      NA's   :13      NA's   :13     \n     X1968           X1969           X1970           X1971      \n Min.   :26.71   Min.   :26.09   Min.   :26.40   Min.   :26.00  \n 1st Qu.:48.44   1st Qu.:49.17   1st Qu.:49.44   1st Qu.:49.50  \n Median :58.01   Median :58.38   Median :58.63   Median :59.35  \n Mean   :57.18   Mean   :57.42   Mean   :57.74   Mean   :58.05  \n 3rd Qu.:66.76   3rd Qu.:66.70   3rd Qu.:67.48   3rd Qu.:67.97  \n Max.   :74.01   Max.   :74.08   Max.   :74.65   Max.   :74.62  \n NA's   :13      NA's   :13      NA's   :13      NA's   :13     \n     X1972           X1973           X1974           X1975      \n Min.   :25.61   Min.   :34.56   Min.   :35.43   Min.   :11.99  \n 1st Qu.:49.92   1st Qu.:51.08   1st Qu.:51.84   1st Qu.:52.52  \n Median :59.80   Median :60.27   Median :60.80   Median :61.08  \n Mean   :58.55   Mean   :59.16   Mean   :59.42   Mean   :59.68  \n 3rd Qu.:68.32   3rd Qu.:68.51   3rd Qu.:68.78   3rd Qu.:69.17  \n Max.   :74.72   Max.   :74.87   Max.   :74.98   Max.   :75.58  \n NA's   :13      NA's   :12      NA's   :13      NA's   :13     \n     X1976           X1977           X1978           X1979      \n Min.   :12.01   Min.   :24.43   Min.   :21.84   Min.   :22.53  \n 1st Qu.:52.29   1st Qu.:53.37   1st Qu.:53.49   1st Qu.:54.05  \n Median :61.64   Median :62.15   Median :62.53   Median :62.89  \n Mean   :59.95   Mean   :60.59   Mean   :60.98   Mean   :61.31  \n 3rd Qu.:69.39   3rd Qu.:69.74   3rd Qu.:69.99   3rd Qu.:69.73  \n Max.   :76.97   Max.   :76.37   Max.   :76.65   Max.   :76.77  \n NA's   :13      NA's   :13      NA's   :11      NA's   :12     \n     X1980           X1981           X1982           X1983      \n Min.   :28.45   Min.   :29.57   Min.   :30.82   Min.   :31.64  \n 1st Qu.:54.71   1st Qu.:55.38   1st Qu.:54.89   1st Qu.:56.33  \n Median :63.36   Median :63.83   Median :64.17   Median :64.63  \n Mean   :61.74   Mean   :62.09   Mean   :62.33   Mean   :62.62  \n 3rd Qu.:70.01   3rd Qu.:70.36   3rd Qu.:70.44   3rd Qu.:70.51  \n Max.   :76.85   Max.   :76.52   Max.   :77.04   Max.   :76.92  \n NA's   :11      NA's   :11      NA's   :11      NA's   :11     \n     X1984           X1985           X1986           X1987      \n Min.   :32.67   Min.   :33.15   Min.   :33.63   Min.   :21.91  \n 1st Qu.:56.41   1st Qu.:56.93   1st Qu.:57.55   1st Qu.:57.60  \n Median :65.24   Median :65.69   Median :66.14   Median :66.43  \n Mean   :62.93   Mean   :63.22   Mean   :63.67   Mean   :63.93  \n 3rd Qu.:70.76   3rd Qu.:70.98   3rd Qu.:71.42   3rd Qu.:71.50  \n Max.   :77.58   Max.   :77.60   Max.   :78.01   Max.   :78.43  \n NA's   :11      NA's   :11      NA's   :10      NA's   :10     \n     X1988           X1989           X1990           X1991      \n Min.   :12.41   Min.   :29.68   Min.   :29.93   Min.   :26.57  \n 1st Qu.:57.77   1st Qu.:58.32   1st Qu.:58.72   1st Qu.:59.05  \n Median :66.91   Median :67.28   Median :67.63   Median :67.77  \n Mean   :64.04   Mean   :64.52   Mean   :64.72   Mean   :64.84  \n 3rd Qu.:71.61   3rd Qu.:71.76   3rd Qu.:71.95   3rd Qu.:72.15  \n Max.   :78.35   Max.   :78.77   Max.   :78.84   Max.   :79.04  \n NA's   :10      NA's   :10      NA's   :8       NA's   :9      \n     X1992           X1993           X1994           X1995      \n Min.   :22.72   Min.   :22.70   Min.   :14.10   Min.   :30.95  \n 1st Qu.:58.55   1st Qu.:58.42   1st Qu.:59.17   1st Qu.:59.52  \n Median :67.83   Median :67.72   Median :67.84   Median :68.17  \n Mean   :64.86   Mean   :65.07   Mean   :65.38   Mean   :65.57  \n 3rd Qu.:72.31   3rd Qu.:72.45   3rd Qu.:72.58   3rd Qu.:72.54  \n Max.   :79.08   Max.   :79.30   Max.   :79.70   Max.   :79.54  \n NA's   :9       NA's   :9       NA's   :8       NA's   :7      \n     X1996           X1997           X1998           X1999      \n Min.   :31.30   Min.   :32.24   Min.   :18.39   Min.   :42.07  \n 1st Qu.:60.07   1st Qu.:60.62   1st Qu.:60.61   1st Qu.:60.80  \n Median :68.73   Median :68.94   Median :69.10   Median :69.35  \n Mean   :65.79   Mean   :66.01   Mean   :66.10   Mean   :66.48  \n 3rd Qu.:72.84   3rd Qu.:73.08   3rd Qu.:73.48   3rd Qu.:73.67  \n Max.   :80.22   Max.   :80.42   Max.   :80.66   Max.   :81.53  \n NA's   :8       NA's   :8       NA's   :8       NA's   :8      \n     X2000           X2001           X2002           X2003      \n Min.   :44.52   Min.   :41.96   Min.   :44.49   Min.   :43.35  \n 1st Qu.:60.90   1st Qu.:60.85   1st Qu.:61.24   1st Qu.:61.70  \n Median :69.74   Median :69.89   Median :70.32   Median :70.31  \n Mean   :66.95   Mean   :67.26   Mean   :67.53   Mean   :67.82  \n 3rd Qu.:74.04   3rd Qu.:74.39   3rd Qu.:74.71   3rd Qu.:74.88  \n Max.   :81.37   Max.   :81.42   Max.   :81.69   Max.   :81.76  \n NA's   :7       NA's   :8       NA's   :8       NA's   :8      \n     X2004           X2005           X2006           X2007      \n Min.   :42.54   Min.   :42.12   Min.   :42.91   Min.   :43.12  \n 1st Qu.:61.78   1st Qu.:62.14   1st Qu.:62.55   1st Qu.:62.80  \n Median :70.70   Median :71.04   Median :71.13   Median :71.27  \n Mean   :68.18   Mean   :68.50   Mean   :68.87   Mean   :69.18  \n 3rd Qu.:75.43   3rd Qu.:75.48   3rd Qu.:75.82   3rd Qu.:75.86  \n Max.   :82.03   Max.   :82.03   Max.   :82.38   Max.   :82.54  \n NA's   :8       NA's   :7       NA's   :8       NA's   :8      \n     X2008           X2009           X2010           X2011      \n Min.   :43.57   Min.   :44.03   Min.   :45.60   Min.   :46.69  \n 1st Qu.:63.24   1st Qu.:63.84   1st Qu.:64.09   1st Qu.:64.67  \n Median :71.47   Median :71.83   Median :72.12   Median :72.37  \n Mean   :69.50   Mean   :69.91   Mean   :70.22   Mean   :70.62  \n 3rd Qu.:76.36   3rd Qu.:76.59   3rd Qu.:76.73   3rd Qu.:76.76  \n Max.   :82.89   Max.   :83.28   Max.   :83.11   Max.   :83.42  \n NA's   :8       NA's   :8       NA's   :8       NA's   :8      \n     X2012           X2013           X2014           X2015      \n Min.   :47.84   Min.   :49.00   Min.   :50.03   Min.   :51.10  \n 1st Qu.:64.97   1st Qu.:65.09   1st Qu.:65.36   1st Qu.:65.74  \n Median :72.43   Median :72.70   Median :72.86   Median :72.99  \n Mean   :70.92   Mean   :71.19   Mean   :71.47   Mean   :71.67  \n 3rd Qu.:77.06   3rd Qu.:77.14   3rd Qu.:77.40   3rd Qu.:77.48  \n Max.   :83.48   Max.   :83.83   Max.   :83.98   Max.   :84.28  \n NA's   :8       NA's   :8       NA's   :8       NA's   :8      \n     X2016           X2017           X2018           X2019      \n Min.   :52.04   Min.   :52.30   Min.   :52.55   Min.   :52.91  \n 1st Qu.:66.01   1st Qu.:66.58   1st Qu.:66.53   1st Qu.:66.99  \n Median :73.20   Median :73.56   Median :73.57   Median :73.56  \n Mean   :71.97   Mean   :72.20   Mean   :72.41   Mean   :72.63  \n 3rd Qu.:77.65   3rd Qu.:77.79   3rd Qu.:77.91   3rd Qu.:78.00  \n Max.   :84.23   Max.   :84.68   Max.   :84.93   Max.   :85.18  \n NA's   :8       NA's   :8       NA's   :9       NA's   :9      \n     X2020           X2021      \n Min.   :52.78   Min.   :52.52  \n 1st Qu.:66.77   1st Qu.:66.07  \n Median :72.58   Median :71.90  \n Mean   :71.98   Mean   :71.37  \n 3rd Qu.:76.99   3rd Qu.:76.46  \n Max.   :85.50   Max.   :85.49  \n NA's   :9       NA's   :9      \n\n\n“Country.Code”, “Indicator.Name”, “Indicator.Code” are not important. We drop them with dplyr select statement. You can also use baseR alternative: data &lt;- data[, !names(data) %in% c(\"Country.Code\", \"Indicator.Name\", \"Indicator.Code\")]\nData appears to be in wide format, each year is in a column. We can use tidyr to make this into a tidy data and recode column names as the year of observation.\ntidyr is another R package from the tidyverse family, designed to help users clean and organize data into a tidy format. The primary goal of tidyr is to make data “tidy,” meaning that each variable is a column, each observation is a row, and each value is a single cell. tidyr works closely with other packages like dplyr to simplify data manipulation workflows.\nKey functions of tidyr include: gather() / pivot_longer(): Converts wide data (where columns are variables) into long format (where each row represents a single observation of a variable). spread() / pivot_wider(): The reverse of pivot_longer(), it converts long data into wide format. separate(): Splits a single column into multiple columns based on a delimiter. unite(): Combines multiple columns into a single column.\n\ndata &lt;- dplyr::select(data, -c(Country.Code, Indicator.Name, Indicator.Code))\n\n# Pivot to tidy format where each Column is a Variable and each Row is an Observation (Life Expentancy)\ndata_long &lt;- pivot_longer(data, \n                          cols = X1960:X2021, \n                          names_to = \"Year\", \n                          values_to = \"Life.Exp\")\n\n# The 'Year' column will have year names as characters starting with X. We remove the \"X\" and convert them to integers\ndata_long$Year &lt;- as.integer(sub(\"X\", \"\", data_long$Year))\n\nstr(data_long)\n\ntibble [16,492 × 3] (S3: tbl_df/tbl/data.frame)\n $ Country.Name: chr [1:16492] \"Hong Kong SAR, China\" \"Hong Kong SAR, China\" \"Hong Kong SAR, China\" \"Hong Kong SAR, China\" ...\n $ Year        : int [1:16492] 1960 1961 1962 1963 1964 1965 1966 1967 1968 1969 ...\n $ Life.Exp    : num [1:16492] 65.9 66.6 67 67.7 68.4 ...\n\ncolnames(data_long)\n\n[1] \"Country.Name\" \"Year\"         \"Life.Exp\"    \n\n\ndplyr is an R package used for data manipulation and transformation. It is part of the tidyverse, a collection of R packages designed for data science. dplyr provides a set of functions that make it easier to work with data frames and manipulate them in a clear, concise, and efficient way.\nKey features of dplyr include: Pipes (%&gt;%): Allows chaining multiple operations in a readable manner.\nCore Functions: select(): Choose columns. filter(): Filter rows based on conditions. mutate(): Create new columns or modify existing ones. summarize(): Aggregate data, often combined with group_by() to create group-wise summaries. group_by(): Group data by one or more variables, which is useful for applying functions like summarize().\n\ndata_long %&gt;%\n  summarise_all(~ sum(is.na(.)))\n\n# A tibble: 1 × 3\n  Country.Name  Year Life.Exp\n         &lt;int&gt; &lt;int&gt;    &lt;int&gt;\n1            0     0      626\n\n# Seems like all the missing values appear in Life.Exp. We check the unique values for Country.Name and Year first\nunique(data_long$Country.Name)\n\n  [1] \"Hong Kong SAR, China\"                                \n  [2] \"Macao SAR, China\"                                    \n  [3] \"Japan\"                                               \n  [4] \"Liechtenstein\"                                       \n  [5] \"Switzerland\"                                         \n  [6] \"Korea, Rep.\"                                         \n  [7] \"Faroe Islands\"                                       \n  [8] \"Singapore\"                                           \n  [9] \"Australia\"                                           \n [10] \"Spain\"                                               \n [11] \"Norway\"                                              \n [12] \"Sweden\"                                              \n [13] \"Iceland\"                                             \n [14] \"Malta\"                                               \n [15] \"Italy\"                                               \n [16] \"Luxembourg\"                                          \n [17] \"Canada\"                                              \n [18] \"Israel\"                                              \n [19] \"France\"                                              \n [20] \"New Zealand\"                                         \n [21] \"Ireland\"                                             \n [22] \"Finland\"                                             \n [23] \"Belgium\"                                             \n [24] \"Euro area\"                                           \n [25] \"Netherlands\"                                         \n [26] \"Denmark\"                                             \n [27] \"Austria\"                                             \n [28] \"Channel Islands\"                                     \n [29] \"Cyprus\"                                              \n [30] \"Portugal\"                                            \n [31] \"Germany\"                                             \n [32] \"Slovenia\"                                            \n [33] \"United Kingdom\"                                      \n [34] \"Isle of Man\"                                         \n [35] \"European Union\"                                      \n [36] \"St. Martin (French part)\"                            \n [37] \"Greece\"                                              \n [38] \"Puerto Rico\"                                         \n [39] \"Virgin Islands (U.S.)\"                               \n [40] \"High income\"                                         \n [41] \"Maldives\"                                            \n [42] \"Post-demographic dividend\"                           \n [43] \"French Polynesia\"                                    \n [44] \"Gibraltar\"                                           \n [45] \"Bermuda\"                                             \n [46] \"Qatar\"                                               \n [47] \"New Caledonia\"                                       \n [48] \"Chile\"                                               \n [49] \"Bahrain\"                                             \n [50] \"Thailand\"                                            \n [51] \"OECD members\"                                        \n [52] \"United Arab Emirates\"                                \n [53] \"Kuwait\"                                              \n [54] \"Antigua and Barbuda\"                                 \n [55] \"China\"                                               \n [56] \"Barbados\"                                            \n [57] \"Czechia\"                                             \n [58] \"Costa Rica\"                                          \n [59] \"North America\"                                       \n [60] \"Saudi Arabia\"                                        \n [61] \"Kosovo\"                                              \n [62] \"Estonia\"                                             \n [63] \"Guam\"                                                \n [64] \"Europe & Central Asia\"                               \n [65] \"Albania\"                                             \n [66] \"Croatia\"                                             \n [67] \"Sri Lanka\"                                           \n [68] \"East Asia & Pacific\"                                 \n [69] \"Algeria\"                                             \n [70] \"Late-demographic dividend\"                           \n [71] \"United States\"                                       \n [72] \"Panama\"                                              \n [73] \"Turkiye\"                                             \n [74] \"Poland\"                                              \n [75] \"East Asia & Pacific (IDA & IBRD countries)\"          \n [76] \"East Asia & Pacific (excluding high income)\"         \n [77] \"Uruguay\"                                             \n [78] \"Argentina\"                                           \n [79] \"Bosnia and Herzegovina\"                              \n [80] \"Lebanon\"                                             \n [81] \"Grenada\"                                             \n [82] \"Central Europe and the Baltics\"                      \n [83] \"Malaysia\"                                            \n [84] \"Slovak Republic\"                                     \n [85] \"Upper middle income\"                                 \n [86] \"Brunei Darussalam\"                                   \n [87] \"Aruba\"                                               \n [88] \"Turks and Caicos Islands\"                            \n [89] \"North Macedonia\"                                     \n [90] \"British Virgin Islands\"                              \n [91] \"Hungary\"                                             \n [92] \"Lithuania\"                                           \n [93] \"Jordan\"                                              \n [94] \"Cabo Verde\"                                          \n [95] \"Morocco\"                                             \n [96] \"Sint Maarten (Dutch part)\"                           \n [97] \"Iran, Islamic Rep.\"                                  \n [98] \"Nicaragua\"                                           \n [99] \"Montenegro\"                                          \n[100] \"Tunisia\"                                             \n[101] \"Cuba\"                                                \n[102] \"Mauritius\"                                           \n[103] \"Ecuador\"                                             \n[104] \"Vietnam\"                                             \n[105] \"West Bank and Gaza\"                                  \n[106] \"Seychelles\"                                          \n[107] \"Korea, Dem. People's Rep.\"                           \n[108] \"Latvia\"                                              \n[109] \"Trinidad and Tobago\"                                 \n[110] \"Romania\"                                             \n[111] \"Colombia\"                                            \n[112] \"Dominica\"                                            \n[113] \"Samoa\"                                               \n[114] \"Brazil\"                                              \n[115] \"Middle East & North Africa\"                          \n[116] \"Serbia\"                                              \n[117] \"Dominican Republic\"                                  \n[118] \"Oman\"                                                \n[119] \"Bangladesh\"                                          \n[120] \"Peru\"                                                \n[121] \"Belarus\"                                             \n[122] \"Latin America & Caribbean\"                           \n[123] \"IBRD only\"                                           \n[124] \"Latin America & the Caribbean (IDA & IBRD countries)\"\n[125] \"Syrian Arab Republic\"                                \n[126] \"Armenia\"                                             \n[127] \"Libya\"                                               \n[128] \"Latin America & Caribbean (excluding high income)\"   \n[129] \"Kyrgyz Republic\"                                     \n[130] \"Middle East & North Africa (excluding high income)\"  \n[131] \"Middle East & North Africa (IDA & IBRD countries)\"   \n[132] \"Europe & Central Asia (IDA & IBRD countries)\"        \n[133] \"Bhutan\"                                              \n[134] \"Georgia\"                                             \n[135] \"St. Kitts and Nevis\"                                 \n[136] \"Bahamas, The\"                                        \n[137] \"Tajikistan\"                                          \n[138] \"Bulgaria\"                                            \n[139] \"Europe & Central Asia (excluding high income)\"       \n[140] \"World\"                                               \n[141] \"Greenland\"                                           \n[142] \"St. Lucia\"                                           \n[143] \"Caribbean small states\"                              \n[144] \"Tonga\"                                               \n[145] \"Mongolia\"                                            \n[146] \"Uzbekistan\"                                          \n[147] \"Arab World\"                                          \n[148] \"El Salvador\"                                         \n[149] \"Micronesia, Fed. Sts.\"                               \n[150] \"Venezuela, RB\"                                       \n[151] \"Middle income\"                                       \n[152] \"Jamaica\"                                             \n[153] \"Belize\"                                              \n[154] \"Vanuatu\"                                             \n[155] \"Iraq\"                                                \n[156] \"Solomon Islands\"                                     \n[157] \"Suriname\"                                            \n[158] \"Paraguay\"                                            \n[159] \"Kazakhstan\"                                          \n[160] \"Egypt, Arab Rep.\"                                    \n[161] \"Mexico\"                                              \n[162] \"Honduras\"                                            \n[163] \"IDA & IBRD total\"                                    \n[164] \"Low & middle income\"                                 \n[165] \"Ukraine\"                                             \n[166] \"St. Vincent and the Grenadines\"                      \n[167] \"Cambodia\"                                            \n[168] \"Azerbaijan\"                                          \n[169] \"Russian Federation\"                                  \n[170] \"Philippines\"                                         \n[171] \"Turkmenistan\"                                        \n[172] \"Guatemala\"                                           \n[173] \"Pacific island small states\"                         \n[174] \"Moldova\"                                             \n[175] \"Early-demographic dividend\"                          \n[176] \"Nepal\"                                               \n[177] \"Lao PDR\"                                             \n[178] \"Small states\"                                        \n[179] \"Timor-Leste\"                                         \n[180] \"Sao Tome and Principe\"                               \n[181] \"South Asia\"                                          \n[182] \"South Asia (IDA & IBRD)\"                             \n[183] \"Indonesia\"                                           \n[184] \"Kiribati\"                                            \n[185] \"India\"                                               \n[186] \"Fiji\"                                                \n[187] \"Senegal\"                                             \n[188] \"Other small states\"                                  \n[189] \"Lower middle income\"                                 \n[190] \"Eritrea\"                                             \n[191] \"Tanzania\"                                            \n[192] \"Pakistan\"                                            \n[193] \"Rwanda\"                                              \n[194] \"Gabon\"                                               \n[195] \"Guyana\"                                              \n[196] \"Myanmar\"                                             \n[197] \"Papua New Guinea\"                                    \n[198] \"Marshall Islands\"                                    \n[199] \"Sudan\"                                               \n[200] \"Ethiopia\"                                            \n[201] \"IDA only\"                                            \n[202] \"Tuvalu\"                                              \n[203] \"Madagascar\"                                          \n[204] \"Mauritania\"                                          \n[205] \"Least developed countries: UN classification\"        \n[206] \"Ghana\"                                               \n[207] \"Yemen, Rep.\"                                         \n[208] \"Bolivia\"                                             \n[209] \"Nauru\"                                               \n[210] \"Congo, Rep.\"                                         \n[211] \"Comoros\"                                             \n[212] \"IDA total\"                                           \n[213] \"Haiti\"                                               \n[214] \"Malawi\"                                              \n[215] \"Uganda\"                                              \n[216] \"Low income\"                                          \n[217] \"Africa Eastern and Southern\"                         \n[218] \"South Africa\"                                        \n[219] \"Djibouti\"                                            \n[220] \"Heavily indebted poor countries (HIPC)\"              \n[221] \"Gambia, The\"                                         \n[222] \"Afghanistan\"                                         \n[223] \"Burundi\"                                             \n[224] \"Angola\"                                              \n[225] \"Togo\"                                                \n[226] \"Niger\"                                               \n[227] \"Kenya\"                                               \n[228] \"Fragile and conflict affected situations\"            \n[229] \"Zambia\"                                              \n[230] \"Botswana\"                                            \n[231] \"Liberia\"                                             \n[232] \"IDA blend\"                                           \n[233] \"Equatorial Guinea\"                                   \n[234] \"Cameroon\"                                            \n[235] \"Sub-Saharan Africa\"                                  \n[236] \"Sub-Saharan Africa (IDA & IBRD countries)\"           \n[237] \"Sub-Saharan Africa (excluding high income)\"          \n[238] \"Sierra Leone\"                                        \n[239] \"Pre-demographic dividend\"                            \n[240] \"Benin\"                                               \n[241] \"Guinea-Bissau\"                                       \n[242] \"Mozambique\"                                          \n[243] \"Burkina Faso\"                                        \n[244] \"Namibia\"                                             \n[245] \"Zimbabwe\"                                            \n[246] \"Congo, Dem. Rep.\"                                    \n[247] \"Mali\"                                                \n[248] \"Guinea\"                                              \n[249] \"Cote d'Ivoire\"                                       \n[250] \"Eswatini\"                                            \n[251] \"Africa Western and Central\"                          \n[252] \"Somalia\"                                             \n[253] \"South Sudan\"                                         \n[254] \"Central African Republic\"                            \n[255] \"Lesotho\"                                             \n[256] \"Nigeria\"                                             \n[257] \"Chad\"                                                \n[258] \"Andorra\"                                             \n[259] \"American Samoa\"                                      \n[260] \"Curacao\"                                             \n[261] \"Cayman Islands\"                                      \n[262] \"Not classified\"                                      \n[263] \"Monaco\"                                              \n[264] \"Northern Mariana Islands\"                            \n[265] \"Palau\"                                               \n[266] \"San Marino\"                                          \n\nunique(data_long$Year)\n\n [1] 1960 1961 1962 1963 1964 1965 1966 1967 1968 1969 1970 1971 1972 1973 1974\n[16] 1975 1976 1977 1978 1979 1980 1981 1982 1983 1984 1985 1986 1987 1988 1989\n[31] 1990 1991 1992 1993 1994 1995 1996 1997 1998 1999 2000 2001 2002 2003 2004\n[46] 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019\n[61] 2020 2021\n\n# Since all the values look correct, we check the missing value across each Country for Life.Exp column\ntemp_df &lt;-data_long %&gt;%\n  group_by(Country.Name) %&gt;%\n  summarise(Missing_Life_Exp = sum(is.na(Life.Exp)))\ntemp_df\n\n# A tibble: 266 × 2\n   Country.Name                Missing_Life_Exp\n   &lt;chr&gt;                                  &lt;int&gt;\n 1 Afghanistan                                0\n 2 Africa Eastern and Southern                0\n 3 Africa Western and Central                 0\n 4 Albania                                    0\n 5 Algeria                                    0\n 6 American Samoa                            62\n 7 Andorra                                   62\n 8 Angola                                     0\n 9 Antigua and Barbuda                        0\n10 Arab World                                 0\n# ℹ 256 more rows\n\n# To show only the rows with non-zero Missing Counts\ndata_long %&gt;%\n  group_by(Country.Name) %&gt;%\n  summarise(Missing_Life_Exp = sum(is.na(Life.Exp))) %&gt;%\n  filter(Missing_Life_Exp &gt; 0)\n\n# A tibble: 15 × 2\n   Country.Name             Missing_Life_Exp\n   &lt;chr&gt;                               &lt;int&gt;\n 1 American Samoa                         62\n 2 Andorra                                62\n 3 Cayman Islands                         61\n 4 Curacao                                 5\n 5 Faroe Islands                          24\n 6 Greenland                              18\n 7 Israel                                  4\n 8 Liechtenstein                          34\n 9 Monaco                                 62\n10 Northern Mariana Islands               62\n11 Not classified                         62\n12 Palau                                  58\n13 San Marino                             62\n14 Seychelles                             20\n15 West Bank and Gaza                     30\n\n# Here we remove all rows with missing Life.Exp as they are not important for our analysis. na.omit is using baseR.\ndata_long &lt;- na.omit(data_long)\nlength(unique(data_long$Country.Name))\n\n[1] 260\n\nlength(unique(data_long$Year))\n\n[1] 62\n\ndata_long\n\n# A tibble: 15,866 × 3\n   Country.Name          Year Life.Exp\n   &lt;chr&gt;                &lt;int&gt;    &lt;dbl&gt;\n 1 Hong Kong SAR, China  1960     65.9\n 2 Hong Kong SAR, China  1961     66.6\n 3 Hong Kong SAR, China  1962     67.0\n 4 Hong Kong SAR, China  1963     67.7\n 5 Hong Kong SAR, China  1964     68.4\n 6 Hong Kong SAR, China  1965     69.3\n 7 Hong Kong SAR, China  1966     69.5\n 8 Hong Kong SAR, China  1967     69.9\n 9 Hong Kong SAR, China  1968     70.4\n10 Hong Kong SAR, China  1969     70.6\n# ℹ 15,856 more rows\n\n\n\n# Outlier Detection with boxplot\nggplot(data_long, aes(x = Country.Name, y = Life.Exp)) +\n  geom_boxplot() +\n  theme(axis.text.x = element_text(angle = 90, hjust = 1)) \n\n\n\n\nOutlier Detection: There are 260 countries in the remaining dataset. It is hard to visualize with a boxplot. Here we use Tukey Outlier Detection method to identify the countries. We use the Tukey fence method to help to identify the countries with outliers.\n\nQ1Q3Quantiles &lt;- data_long %&gt;%\n  group_by(Country.Name) %&gt;%\n  summarize(Q1 = quantile(Life.Exp, 0.25, na.rm = TRUE),\n            Q3 = quantile(Life.Exp, 0.75, na.rm = TRUE),\n            IQR = IQR(Life.Exp, na.rm = TRUE)) %&gt;%\n  mutate(Lower_Bound = Q1 - 1.5 * IQR,\n         Upper_Bound = Q3 + 1.5 * IQR) \n\nQ1Q3Quantiles\n\n# A tibble: 260 × 6\n   Country.Name                   Q1    Q3   IQR Lower_Bound Upper_Bound\n   &lt;chr&gt;                       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;\n 1 Afghanistan                  38.3  58.6 20.4         7.72        89.1\n 2 Africa Eastern and Southern  47.9  54.9  7.01       37.4         65.4\n 3 Africa Western and Central   44.4  52.7  8.31       31.9         65.2\n 4 Albania                      68.4  76.6  8.16       56.2         88.8\n 5 Algeria                      47.2  72.3 25.0         9.66       110. \n 6 Angola                       41.2  52.2 11.0        24.8         68.6\n 7 Antigua and Barbuda          72.1  75.8  3.74       66.5         81.4\n 8 Arab World                   53.8  68.5 14.7        31.8         90.5\n 9 Argentina                    67.1  75.1  7.99       55.1         87.1\n10 Armenia                      64.9  71.9  7.08       54.2         82.6\n# ℹ 250 more rows\n\ndata_long_with_bounds &lt;- left_join(data_long, Q1Q3Quantiles, by = \"Country.Name\")\noutliers_detected &lt;- data_long_with_bounds %&gt;%\n                        filter(Life.Exp &lt; Lower_Bound | Life.Exp &gt; Upper_Bound)\n\nAfter checking the list of countries with outliers, they can be removed for our analysis. This decision depends on what is the objective of our analysis. Here we do not remove them.\nNext we check the summary statistics for the data across all countries. We again use group_by and summarize functions in dplyr. We can then use the summary statistics table to check with domain experts on the validity of the data.\n\ncountry_summary_stats &lt;- data_long %&gt;%\n  group_by(Country.Name) %&gt;%\n  summarize(\n    Mean = mean(Life.Exp, na.rm = TRUE),\n    Median = median(Life.Exp, na.rm = TRUE),\n    SD = sd(Life.Exp, na.rm = TRUE),\n    Min = min(Life.Exp, na.rm = TRUE),\n    Max = max(Life.Exp, na.rm = TRUE),\n    Count = n(),\n    Missing = sum(is.na(Life.Exp))\n  )\n\nprint(country_summary_stats)\n\n# A tibble: 260 × 8\n   Country.Name                 Mean Median    SD   Min   Max Count Missing\n   &lt;chr&gt;                       &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;   &lt;int&gt;\n 1 Afghanistan                  47.9   46.3 10.8   32.5  63.6    62       0\n 2 Africa Eastern and Southern  51.9   50.3  5.66  44.1  63.8    62       0\n 3 Africa Western and Central   48.3   48.7  5.72  37.8  57.6    62       0\n 4 Albania                      71.5   73.3  6.58  54.4  79.3    62       0\n 5 Algeria                      61.4   67.4 12.9   39.3  76.5    62       0\n 6 Angola                       46.7   42.8  7.92  37.3  62.4    62       0\n 7 Antigua and Barbuda          73.2   73.5  4.11  61.6  78.8    62       0\n 8 Arab World                   61.1   63.1  8.41  45.0  71.8    62       0\n 9 Argentina                    71.1   72.1  4.37  64.0  77.3    62       0\n10 Armenia                      68.3   68.7  4.41  53.9  75.4    62       0\n# ℹ 250 more rows\n\nlength(unique(data_long$Country.Name))\n\n[1] 260\n\n\nThere should be 62 years of data for each country. We remove countries with less than 62 years of data. The pull() function extracts a specific column from the filtered data. Here, it pulls the values of the Country.Name column from the filtered rows where Count is less than 62.\n\n# 1. Filter out country names with Count &lt; 62\ncountries_to_remove &lt;- country_summary_stats %&gt;%\n  filter(Count &lt; 62) %&gt;%\n  pull(Country.Name)\n\ncountries_to_remove\n\n[1] \"Cayman Islands\"     \"Curacao\"            \"Faroe Islands\"     \n[4] \"Greenland\"          \"Israel\"             \"Liechtenstein\"     \n[7] \"Palau\"              \"Seychelles\"         \"West Bank and Gaza\"\n\n# 2. Filter out these countries from data_long\ndata_long_filtered &lt;- data_long %&gt;%\n  filter(!Country.Name %in% countries_to_remove)\nlength(unique(data_long_filtered$Country.Name))\n\n[1] 251\n\n\nWe can also plot some charts using ggplot to visualize the data and use it to discuss with domain experts. We can plot with ggplot: 1. Histogram of Life.Exp for all the data 2. Boxplot of Life.Exp by Year 3. Boxplot of Life.Exp by Country for selected Countries 4. Time series plots for selected countries\n\n# Histogram\nggplot(data_long_filtered, aes(x = Life.Exp)) +\n  geom_histogram(binwidth = 1, fill = \"blue\", color = \"black\") +\n  theme_minimal() +\n  labs(title = \"Histogram of Life Expectancy\", x = \"Life Expectancy\", y = \"Count\")\n\n\n\n\n\n# Boxplot of Life.Exp by Year\nggplot(data_long_filtered, aes(x = as.factor(Year), y = Life.Exp)) +\n  geom_boxplot() +\n  theme(axis.text.x = element_text(angle = 90)) +\n  labs(title = \"Life Expectancy by Year\", x = \"Year\", y = \"Life Expectancy\")\n\n\n\n\n\n# Boxplot of Life.Exp by Country for top 20 highest Mean Life Expectancy across the years\n# 1. Extract the Top 20 countries' Country.Name with `dplyr`\ntop_20 &lt;- data_long_filtered %&gt;%\n  group_by(Country.Name) %&gt;%\n  summarize(MeanLifeExp = mean(Life.Exp, na.rm = TRUE)) %&gt;%\n  arrange(desc(MeanLifeExp)) %&gt;%\n  top_n(20, MeanLifeExp) %&gt;%\n  pull(Country.Name)\ntop_20\n\n [1] \"Iceland\"              \"Japan\"                \"Sweden\"              \n [4] \"Switzerland\"          \"Norway\"               \"Hong Kong SAR, China\"\n [7] \"Netherlands\"          \"Canada\"               \"Spain\"               \n[10] \"Italy\"                \"Australia\"            \"Macao SAR, China\"    \n[13] \"France\"               \"Channel Islands\"      \"Greece\"              \n[16] \"Gibraltar\"            \"New Zealand\"          \"United Kingdom\"      \n[19] \"Euro area\"            \"Denmark\"             \n\n# 2. Filter these countries with `dplyr`\ndata_top_20 &lt;- data_long_filtered%&gt;%\n  filter(Country.Name %in% top_20)\nunique(data_top_20$Country.Name)\n\n [1] \"Hong Kong SAR, China\" \"Macao SAR, China\"     \"Japan\"               \n [4] \"Switzerland\"          \"Australia\"            \"Spain\"               \n [7] \"Norway\"               \"Sweden\"               \"Iceland\"             \n[10] \"Italy\"                \"Canada\"               \"France\"              \n[13] \"New Zealand\"          \"Euro area\"            \"Netherlands\"         \n[16] \"Denmark\"              \"Channel Islands\"      \"United Kingdom\"      \n[19] \"Greece\"               \"Gibraltar\"           \n\ndata_top_20[data_top_20$Country.Name=='Singapore',]\n\n# A tibble: 0 × 3\n# ℹ 3 variables: Country.Name &lt;chr&gt;, Year &lt;int&gt;, Life.Exp &lt;dbl&gt;\n\ndata_top_20_sg &lt;- data_long_filtered %&gt;%\n  filter(Country.Name %in% top_20 | Country.Name == 'Singapore')\n\n# 3. Plot the Boxplot for Top 20 countries and Singapore\nggplot(data_top_20_sg, aes(x = Country.Name, y = Life.Exp)) +\n  geom_boxplot() +\n  theme(axis.text.x = element_text(angle = 90, hjust = 1)) +\n  labs(title = \"Top 20 Countries by Mean Life Expectancy\", x = \"Country\", y = \"Life Expectancy\")\n\n\n\n# Reorder by descending mean Life.Exp (`-Life,Exp` for descending)\nggplot(data_top_20_sg, aes(x = reorder(Country.Name, -Life.Exp, FUN = mean), y = Life.Exp)) +\n  geom_boxplot() +\n  theme(axis.text.x = element_text(angle = 90, hjust = 1)) +\n  labs(title = \"Top 20 Countries by Mean Life Expectancy\", x = \"Country\", y = \"Life Expectancy\")\n\n\n\n\nWe can also plot time series for the Top 20 countries to visualize the trends.\n\n# Create the time series plot\ntseries &lt;-ggplot(data_top_20, aes(x = Year, y = Life.Exp, color = Country.Name)) +\n  geom_line() +\n  theme_minimal() +\n  labs(title = \"Life Expectancy Over Time\",\n       x = \"Year\",\n       y = \"Life Expectancy\",\n       color = \"Country\") \ntseries\n\n\n\n\n\ntseries + \n  geom_line(data = filter(data_top_20_sg, Country.Name == \"Singapore\"), \n            aes(x = Year, y = Life.Exp), \n            color = \"black\", \n            size = 1.5)\n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n\n\n\n\n\nCongratulations! We have completed a quick introduction to dplyr, tidyr and ggplot. Remember, the best way to learn is to get your hands dirty, google for sample codes, read R documentation and learn when you are trying to solve problems."
  }
]