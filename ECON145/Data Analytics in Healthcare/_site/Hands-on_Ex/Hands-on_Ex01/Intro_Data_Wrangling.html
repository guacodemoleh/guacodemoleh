<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="ECON145 Instructor">
<meta name="dcterms.date" content="2024-01-24">

<title>Data Analytics in Healthcare - More in Data Wrangling</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Data Analytics in Healthcare</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-hands-on-exercises" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Hands-on Exercises</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-hands-on-exercises">    
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex01/Introduction.html" rel="" target="">
 <span class="dropdown-text">1. Introduction</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">More in Data Wrangling</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>ECON145 Instructor </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 24, 2024</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p>“dplyr” and “tidyr” packages are powerful R packages for data manipulation.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'ggplot2' was built under R version 4.3.3</code></pre>
</div>
</div>
<p>Core tidyverse Packages: ggplot2: For data visualization, creating graphics and plots based on the grammar of graphics. dplyr: For data manipulation, including filtering, selecting, mutating, summarizing, and arranging data. tidyr: For tidying data, making datasets easy to manipulate (e.g., reshaping data, handling missing values).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>file_path <span class="ot">&lt;-</span> <span class="st">"C://guacodemoleh/ECON145/Data Analytics in Healthcare/Hands-on_Ex/Hands-on_Ex01"</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>WHO <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="fu">file.path</span>(file_path, <span class="st">"WHO.csv"</span>))</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>WHO</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                      Country                Region Population
1                                 Afghanistan Eastern Mediterranean      29825
2                                     Albania                Europe       3162
3                                     Algeria                Africa      38482
4                                     Andorra                Europe         78
5                                      Angola                Africa      20821
6                         Antigua and Barbuda              Americas         89
7                                   Argentina              Americas      41087
8                                     Armenia                Europe       2969
9                                   Australia       Western Pacific      23050
10                                    Austria                Europe       8464
11                                 Azerbaijan                Europe       9309
12                                    Bahamas              Americas        372
13                                    Bahrain Eastern Mediterranean       1318
14                                 Bangladesh       South-East Asia     155000
15                                   Barbados              Americas        283
16                                    Belarus                Europe       9405
17                                    Belgium                Europe      11060
18                                     Belize              Americas        324
19                                      Benin                Africa      10051
20                                     Bhutan       South-East Asia        742
21           Bolivia (Plurinational State of)              Americas      10496
22                     Bosnia and Herzegovina                Europe       3834
23                                   Botswana                Africa       2004
24                                     Brazil              Americas     199000
25                          Brunei Darussalam       Western Pacific        412
26                                   Bulgaria                Europe       7278
27                               Burkina Faso                Africa      16460
28                                    Burundi                Africa       9850
29                                   Cambodia       Western Pacific      14865
30                                   Cameroon                Africa      21700
31                                     Canada              Americas      34838
32                                 Cape Verde                Africa        494
33                   Central African Republic                Africa       4525
34                                       Chad                Africa      12448
35                                      Chile              Americas      17465
36                                      China       Western Pacific    1390000
37                                   Colombia              Americas      47704
38                                    Comoros                Africa        718
39                                      Congo                Africa       4337
40                               Cook Islands       Western Pacific         21
41                                 Costa Rica              Americas       4805
42                              Cote d'Ivoire                Africa      19840
43                                    Croatia                Europe       4307
44                                       Cuba              Americas      11271
45                                     Cyprus                Europe       1129
46                             Czech Republic                Europe      10660
47      Democratic People's Republic of Korea       South-East Asia      24763
48           Democratic Republic of the Congo                Africa      65705
49                                    Denmark                Europe       5598
50                                   Djibouti Eastern Mediterranean        860
51                                   Dominica              Americas         72
52                         Dominican Republic              Americas      10277
53                                    Ecuador              Americas      15492
54                                      Egypt Eastern Mediterranean      80722
55                                El Salvador              Americas       6297
56                          Equatorial Guinea                Africa        736
57                                    Eritrea                Africa       6131
58                                    Estonia                Europe       1291
59                                   Ethiopia                Africa      91729
60                                       Fiji       Western Pacific        875
61                                    Finland                Europe       5408
62                                     France                Europe      63937
63                                      Gabon                Africa       1633
64                                     Gambia                Africa       1791
65                                    Georgia                Europe       4358
66                                    Germany                Europe      82800
67                                      Ghana                Africa      25366
68                                     Greece                Europe      11125
69                                    Grenada              Americas        105
70                                  Guatemala              Americas      15083
71                                     Guinea                Africa      11451
72                              Guinea-Bissau                Africa       1664
73                                     Guyana              Americas        795
74                                      Haiti              Americas      10174
75                                   Honduras              Americas       7936
76                                    Hungary                Europe       9976
77                                    Iceland                Europe        326
78                                      India       South-East Asia    1240000
79                                  Indonesia       South-East Asia     247000
80                 Iran (Islamic Republic of) Eastern Mediterranean      76424
81                                       Iraq Eastern Mediterranean      32778
82                                    Ireland                Europe       4576
83                                     Israel                Europe       7644
84                                      Italy                Europe      60885
85                                    Jamaica              Americas       2769
86                                      Japan       Western Pacific     127000
87                                     Jordan Eastern Mediterranean       7009
88                                 Kazakhstan                Europe      16271
89                                      Kenya                Africa      43178
90                                   Kiribati       Western Pacific        101
91                                     Kuwait Eastern Mediterranean       3250
92                                 Kyrgyzstan                Europe       5474
93           Lao People's Democratic Republic       Western Pacific       6646
94                                     Latvia                Europe       2060
95                                    Lebanon Eastern Mediterranean       4647
96                                    Lesotho                Africa       2052
97                                    Liberia                Africa       4190
98                                      Libya Eastern Mediterranean       6155
99                                  Lithuania                Europe       3028
100                                Luxembourg                Europe        524
101                                Madagascar                Africa      22294
102                                    Malawi                Africa      15906
103                                  Malaysia       Western Pacific      29240
104                                  Maldives       South-East Asia        338
105                                      Mali                Africa      14854
106                                     Malta                Europe        428
107                          Marshall Islands       Western Pacific         53
108                                Mauritania                Africa       3796
109                                 Mauritius                Africa       1240
110                                    Mexico              Americas     121000
111          Micronesia (Federated States of)       Western Pacific        103
112                                    Monaco                Europe         38
113                                  Mongolia       Western Pacific       2796
114                                Montenegro                Europe        621
115                                   Morocco Eastern Mediterranean      32521
116                                Mozambique                Africa      25203
117                                   Myanmar       South-East Asia      52797
118                                   Namibia                Africa       2259
119                                     Nauru       Western Pacific         10
120                                     Nepal       South-East Asia      27474
121                               Netherlands                Europe      16714
122                               New Zealand       Western Pacific       4460
123                                 Nicaragua              Americas       5992
124                                     Niger                Africa      17157
125                                   Nigeria                Africa     169000
126                                      Niue       Western Pacific          1
127                                    Norway                Europe       4994
128                                      Oman Eastern Mediterranean       3314
129                                  Pakistan Eastern Mediterranean     179000
130                                     Palau       Western Pacific         21
131                                    Panama              Americas       3802
132                          Papua New Guinea       Western Pacific       7167
133                                  Paraguay              Americas       6687
134                                      Peru              Americas      29988
135                               Philippines       Western Pacific      96707
136                                    Poland                Europe      38211
137                                  Portugal                Europe      10604
138                                     Qatar Eastern Mediterranean       2051
139                         Republic of Korea       Western Pacific      49003
140                       Republic of Moldova                Europe       3514
141                                   Romania                Europe      21755
142                        Russian Federation                Europe     143000
143                                    Rwanda                Africa      11458
144                     Saint Kitts and Nevis              Americas         54
145                               Saint Lucia              Americas        181
146          Saint Vincent and the Grenadines              Americas        109
147                                     Samoa       Western Pacific        189
148                                San Marino                Europe         31
149                     Sao Tome and Principe                Africa        188
150                              Saudi Arabia Eastern Mediterranean      28288
151                                   Senegal                Africa      13726
152                                    Serbia                Europe       9553
153                                Seychelles                Africa         92
154                              Sierra Leone                Africa       5979
155                                 Singapore       Western Pacific       5303
156                                  Slovakia                Europe       5446
157                                  Slovenia                Europe       2068
158                           Solomon Islands       Western Pacific        550
159                                   Somalia Eastern Mediterranean      10195
160                              South Africa                Africa      52386
161                               South Sudan Eastern Mediterranean      10838
162                                     Spain                Europe      46755
163                                 Sri Lanka       South-East Asia      21098
164                                     Sudan Eastern Mediterranean      37195
165                                  Suriname              Americas        535
166                                 Swaziland                Africa       1231
167                                    Sweden                Europe       9511
168                               Switzerland                Europe       7997
169                      Syrian Arab Republic Eastern Mediterranean      21890
170                                Tajikistan                Europe       8009
171                                  Thailand       South-East Asia      66785
172 The former Yugoslav Republic of Macedonia                Europe       2106
173                               Timor-Leste       South-East Asia       1114
174                                      Togo                Africa       6643
175                                     Tonga       Western Pacific        105
176                       Trinidad and Tobago              Americas       1337
177                                   Tunisia Eastern Mediterranean      10875
178                                    Turkey                Europe      73997
179                              Turkmenistan                Europe       5173
180                                    Tuvalu       Western Pacific         10
181                                    Uganda                Africa      36346
182                                   Ukraine                Europe      45530
183                      United Arab Emirates Eastern Mediterranean       9206
184                            United Kingdom                Europe      62783
185               United Republic of Tanzania                Africa      47783
186                  United States of America              Americas     318000
187                                   Uruguay              Americas       3395
188                                Uzbekistan                Europe      28541
189                                   Vanuatu       Western Pacific        247
190        Venezuela (Bolivarian Republic of)              Americas      29955
191                                  Viet Nam       Western Pacific      90796
192                                     Yemen Eastern Mediterranean      23852
193                                    Zambia                Africa      14075
194                                  Zimbabwe                Africa      13724
    Under15 Over60 FertilityRate LifeExpectancy ChildMortality
1     47.42   3.82          5.40             60           98.5
2     21.33  14.93          1.75             74           16.7
3     27.42   7.17          2.83             73           20.0
4     15.20  22.86            NA             82            3.2
5     47.58   3.84          6.10             51          163.5
6     25.96  12.35          2.12             75            9.9
7     24.42  14.97          2.20             76           14.2
8     20.34  14.06          1.74             71           16.4
9     18.95  19.46          1.89             82            4.9
10    14.51  23.52          1.44             81            4.0
11    22.25   8.24          1.96             71           35.2
12    21.62  11.24          1.90             75           16.9
13    20.16   3.38          2.12             79            9.6
14    30.57   6.89          2.24             70           40.9
15    18.99  15.78          1.84             78           18.4
16    15.10  19.31          1.47             71            5.2
17    16.88  23.81          1.85             80            4.2
18    34.40   5.74          2.76             74           18.3
19    42.95   4.54          5.01             57           89.5
20    28.53   6.90          2.32             67           44.6
21    35.23   7.28          3.31             67           41.4
22    16.35  20.52          1.26             76            6.7
23    33.75   5.63          2.71             66           53.3
24    24.56  10.81          1.82             74           14.4
25    25.75   7.03          2.03             77            8.0
26    13.53  26.11          1.51             74           12.1
27    45.66   3.88          5.78             56          102.4
28    44.20   3.87          6.21             53          104.3
29    31.23   7.67          2.93             65           39.7
30    43.08   4.89          4.94             53           94.9
31    16.37  20.82          1.66             82            5.3
32    30.17   7.05          2.38             72           22.2
33    40.07   5.74          4.54             48          128.6
34    48.52   3.80          6.49             51          149.8
35    21.38  13.80          1.84             79            9.1
36    17.95  13.42          1.66             76           14.0
37    28.03   9.19          2.35             78           17.6
38    42.17   4.50          4.85             62           77.6
39    42.37   5.13          5.05             58           96.0
40    30.61   9.07            NA             77           10.6
41    23.94  10.15          1.83             79            9.9
42    41.48   5.10          4.91             56          107.6
43    14.98  24.69          1.48             77            4.7
44    16.58  17.95          1.46             78            5.5
45    17.16  16.92          1.47             81            3.2
46    14.56  23.23          1.53             78            3.8
47    21.98  12.74          2.00             69           28.8
48    45.11   4.51          6.15             49          145.7
49    17.66  23.90          1.88             79            3.7
50    33.72   5.96          3.53             58           80.9
51    25.96  12.35            NA             74           12.6
52    30.53   8.97          2.55             73           27.1
53    30.29   9.21          2.62             76           23.3
54    31.25   8.62          2.85             73           21.0
55    30.62   9.64          2.24             72           15.9
56    38.95   4.53          5.04             54          100.3
57    43.10   3.73          4.88             61           51.8
58    15.69  23.92          1.62             76            3.6
59    43.29   5.17          4.77             60           68.3
60    28.88   8.38          2.64             70           22.4
61    16.42  25.90          1.85             81            2.9
62    18.26  23.82          1.98             82            4.1
63    38.49   7.38          4.18             62           62.0
64    45.90   3.72          5.79             58           72.9
65    17.62  19.47          1.82             72           19.9
66    13.17  26.72          1.40             81            4.1
67    38.59   5.40          3.99             64           72.0
68    14.60  25.41          1.51             81            4.8
69    26.96   9.72          2.22             74           13.5
70    40.80   6.56          3.91             69           32.0
71    42.46   5.03          5.09             55          101.2
72    41.55   5.06          5.05             50          129.1
73    36.77   5.18          2.64             63           35.2
74    35.35   6.70          3.28             63           75.6
75    35.72   6.41          3.10             74           22.9
76    14.62  23.41          1.38             75            6.2
77    20.71  17.62          2.11             82            2.3
78    29.43   8.10          2.53             65           56.3
79    29.27   7.86          2.40             69           31.0
80    23.68   7.82          1.91             73           17.6
81    40.51   4.95          4.15             69           34.4
82    21.54  16.59          2.00             81            4.0
83    27.53  15.15          2.92             82            4.2
84    14.04  26.97          1.45             82            3.8
85    27.78  10.98          2.31             75           16.8
86    13.12  31.92          1.39             83            3.0
87    34.13   5.30          3.39             74           19.1
88    25.46  10.04          2.52             67           18.7
89    42.37   4.25          4.54             60           72.9
90    30.10   8.84          3.01             67           59.9
91    24.90   3.80          2.65             80           11.0
92    30.21   6.34          3.03             69           26.6
93    35.61   5.76          3.20             68           71.8
94    14.57  24.24          1.57             74            8.7
95    21.64  12.03          1.50             74            9.3
96    36.75   6.31          3.15             50           99.6
97    43.06   4.76          4.95             59           74.8
98    29.45   6.96          2.47             65           15.4
99    15.13  20.57          1.49             74            5.4
100   17.46  19.15          1.65             82            2.2
101   42.72   4.45          4.59             66           58.2
102   45.44   4.92          5.55             58           71.0
103   26.65   8.21          1.99             74            8.5
104   29.03   6.65          2.31             77           10.5
105   47.14   4.29          6.85             51          128.0
106   14.98  22.87          1.37             80            6.8
107   30.10   8.84            NA             60           37.9
108   40.22   4.94          4.78             59           84.0
109   20.17  13.23          1.51             74           15.1
110   29.02   9.18          2.25             75           16.2
111   35.81   6.67          3.40             69           38.5
112   18.26  23.82            NA             82            3.8
113   27.05   5.80          2.45             68           27.5
114   19.01  18.58          1.69             76            5.9
115   27.85   7.61          2.65             72           31.1
116   45.38   5.01          5.34             53           89.7
117   25.28   8.15          1.98             65           52.3
118   36.59   5.38          3.17             65           38.7
119   30.10   8.84            NA             71           37.1
120   35.58   7.65          2.50             68           41.6
121   17.21  23.02          1.76             81            4.1
122   20.26  19.01          2.10             81            5.7
123   33.37   6.59          2.59             73           24.4
124   49.99   4.26          7.58             56          113.5
125   44.23   4.49          6.02             53          123.7
126   30.61   9.07            NA             72           25.1
127   18.64  21.41          1.93             81            2.8
128   24.19   3.99          2.90             72           11.6
129   34.31   6.44          3.35             67           85.9
130   30.10   8.84            NA             72           20.8
131   28.65  10.13          2.52             77           18.5
132   38.37   4.79          3.90             63           63.0
133   32.78   8.01          2.93             75           22.0
134   29.18   9.12          2.48             77           18.2
135   34.53   6.21          3.11             69           29.8
136   14.91  20.48          1.39             76            5.0
137   14.92  24.39          1.33             80            3.6
138   13.28   1.73          2.06             82            7.4
139   15.25  16.58          1.29             81            3.8
140   16.52  16.72          1.47             71           17.6
141   15.05  20.66          1.39             74           12.2
142   15.45  18.60          1.51             69           10.3
143   43.56   3.94          4.73             60           55.0
144   25.96  12.35            NA             74            9.2
145   24.31  12.13          1.96             75           17.5
146   25.70   9.92          2.05             74           23.4
147   37.88   7.39          4.28             73           17.8
148   14.04  26.97            NA             83            3.3
149   41.60   4.76          4.22             63           53.2
150   29.69   4.59          2.76             76            8.6
151   43.54   4.57          5.02             61           59.6
152   16.45  20.52          1.37             74            6.6
153   21.95  10.05          2.23             74           13.1
154   41.74   4.41          4.86             47          181.6
155   16.48  15.13          1.27             82            2.9
156   15.00  18.60          1.37             76            7.5
157   14.16  23.16          1.49             80            3.1
158   40.37   5.10          4.17             70           31.1
159   47.35   4.46          6.77             50          147.4
160   29.53   8.44          2.44             58           44.6
161   42.28   5.26          5.10             54          104.0
162   15.20  22.86          1.47             82            4.5
163   25.15  12.40          2.35             75            9.6
164   41.48   4.99          4.56             62           73.1
165   27.83   9.55          2.32             72           20.8
166   38.05   5.34          3.48             50           79.7
167   16.71  25.32          1.93             82            2.9
168   14.79  23.25          1.51             83            4.3
169   35.35   6.09          3.04             75           15.1
170   35.75   4.80          3.81             68           58.3
171   18.47  13.96          1.43             74           13.2
172   16.89  17.56          1.44             75            7.4
173   46.33   5.16          6.11             64           56.7
174   41.89   4.44          4.75             56           95.5
175   37.33   7.96          3.86             72           12.8
176   20.73  13.18          1.80             71           20.7
177   23.22  10.49          2.04             76           16.1
178   26.00  10.56          2.08             76           14.2
179   28.65   6.30          2.38             63           52.8
180   30.61   9.07            NA             64           29.7
181   48.54   3.72          6.06             56           68.9
182   14.18  20.76          1.45             71           10.7
183   14.41   0.81          1.84             76            8.4
184   17.54  23.06          1.90             80            4.8
185   44.85   4.89          5.36             59           54.0
186   19.63  19.31          2.00             79            7.1
187   22.05  18.59          2.07             77            7.2
188   28.90   6.38          2.38             68           39.6
189   37.37   6.02          3.46             72           17.9
190   28.84   9.17          2.44             75           15.3
191   22.87   9.32          1.79             75           23.0
192   40.72   4.54          4.35             64           60.0
193   46.73   3.95          5.77             55           88.5
194   40.24   5.68          3.64             54           89.8
    CellularSubscribers LiteracyRate   GNI PrimarySchoolEnrollmentMale
1                 54.26           NA  1140                          NA
2                 96.39           NA  8820                          NA
3                 98.99           NA  8310                        98.2
4                 75.49           NA    NA                        78.4
5                 48.38         70.1  5230                        93.1
6                196.41         99.0 17900                        91.1
7                134.92         97.8 17130                          NA
8                103.57         99.6  6100                          NA
9                108.34           NA 38110                        96.9
10               154.78           NA 42050                          NA
11               108.75           NA  8960                        85.3
12                86.06           NA    NA                          NA
13               127.96         91.9    NA                          NA
14                56.06         56.8  1940                          NA
15               127.01           NA    NA                          NA
16               111.88           NA 14460                          NA
17               116.61           NA 39190                        98.9
18                69.96           NA  6090                          NA
19                85.33         42.4  1620                          NA
20                65.58           NA  5570                        88.3
21                82.82           NA  4890                        91.2
22                84.52         97.9  9190                        86.5
23               142.82         84.5 14550                          NA
24               124.26           NA 11420                          NA
25               109.17         95.2    NA                          NA
26               140.68           NA 14160                        99.3
27                45.27           NA  1300                        60.7
28                22.33         67.2   610                          NA
29                96.17           NA  2230                        96.4
30                52.35           NA  2330                        99.6
31                79.73           NA 39660                          NA
32                79.19         84.3  3980                        94.6
33                40.65         56.0   810                        81.3
34                31.80         34.5  1360                          NA
35               129.71           NA 16330                        94.3
36                73.19         94.3  8390                          NA
37                98.45         93.4  9560                        91.7
38                28.71         74.9  1110                          NA
39                93.84           NA  3240                        92.3
40                   NA           NA    NA                        97.6
41                92.20         96.2 11860                          NA
42                86.06         56.2  1710                          NA
43               116.37         98.8 18760                        94.8
44                11.69         99.8    NA                       100.0
45                97.71         98.3    NA                        99.1
46               123.44           NA 24370                          NA
47                 4.09           NA    NA                          NA
48                23.09         66.8   340                          NA
49               128.47           NA 41900                        94.8
50                21.32           NA    NA                          NA
51               164.02           NA 13000                          NA
52                87.22         89.5  9420                        95.5
53               104.55         91.9  8510                          NA
54               101.08         72.0  6120                          NA
55               133.54         84.5  6640                        95.2
56                59.15         93.9 25620                        56.5
57                 4.47         67.8   580                        37.2
58               138.98         99.8 20850                        97.7
59                16.67           NA  1110                        84.8
60                83.72           NA  4610                          NA
61               166.02           NA 37670                        97.7
62                94.79           NA 35910                        99.1
63               117.32         88.4 13740                          NA
64                78.89         50.0  1750                        68.2
65               102.31         99.7  5350                          NA
66               132.30           NA 40230                          NA
67                84.78         67.3  1810                          NA
68               106.48         97.2 25100                        98.8
69                   NA           NA 10350                          NA
70               140.38         75.2  4760                        98.6
71                44.02         41.0  1020                        85.2
72                56.18         54.2  1240                        76.7
73                69.94           NA    NA                        82.4
74                41.49           NA  1180                          NA
75               103.97         84.8  3820                        94.8
76               117.30         99.0 20310                        97.8
77               106.08           NA 31020                        98.8
78                72.00           NA  3590                          NA
79               103.09           NA  4500                          NA
80                74.93           NA    NA                          NA
81                78.12         78.2  3750                          NA
82               108.41           NA 34180                        99.4
83               121.66           NA 27110                        97.0
84               157.93         98.9 32400                        99.6
85               108.12         86.6    NA                        83.4
86               104.95           NA 35330                          NA
87               118.20         92.6  5930                        90.8
88               155.74         99.7 11250                          NA
89                67.49         87.4  1710                          NA
90                13.64           NA  3300                          NA
91               175.09           NA    NA                          NA
92               116.40           NA  2180                        95.5
93                87.16           NA  2580                        98.1
94               102.94         99.8 17700                        95.0
95                78.65           NA 14470                        93.5
96                56.17         89.6  2050                        72.2
97                49.17         60.8   540                          NA
98               155.70         89.2    NA                          NA
99               151.30         99.7 19640                        95.6
100              148.27           NA 64260                        93.6
101               40.65           NA   950                          NA
102               25.69         74.8   870                          NA
103              127.04         93.1 15650                          NA
104              165.72           NA  7430                        96.5
105               68.32         31.1  1040                        70.6
106              124.86           NA    NA                        93.3
107                  NA           NA    NA                          NA
108               93.60         58.0  2400                        72.8
109               99.04         88.5 14330                          NA
110               82.38         93.1 15390                        99.2
111                  NA           NA  3580                          NA
112               89.73           NA    NA                          NA
113              105.08         97.4  4290                        99.6
114                  NA         98.4 13700                          NA
115              113.26           NA  4880                          NA
116               32.83         56.1   970                        94.6
117                2.57         92.3    NA                          NA
118               96.39         88.8  6560                        83.8
119               65.00           NA    NA                          NA
120               43.81         60.3  1260                          NA
121                  NA           NA 43140                          NA
122              109.19           NA    NA                        99.3
123               82.15           NA  3730                        93.2
124               29.52           NA   720                        64.2
125               58.58         61.3  2290                        60.1
126                  NA           NA    NA                          NA
127              115.62           NA 61460                        99.1
128              168.97           NA    NA                          NA
129               61.61           NA  2870                        81.3
130               74.94           NA 11080                          NA
131              188.60         94.1 14510                        99.1
132               34.22         60.6  2570                          NA
133               99.40         93.9  5390                        84.4
134              110.41           NA  9440                        97.8
135               99.30           NA  4140                          NA
136              130.97         99.5 20430                        96.9
137              115.39         95.2 24440                        99.1
138              123.11         96.3 86440                        95.7
139              108.50           NA 30370                        99.3
140              104.80         98.5  3640                        90.1
141              109.16         97.7 15120                        87.9
142              179.31         99.6 20560                          NA
143               40.63         71.1  1270                          NA
144                  NA           NA 16470                        85.8
145              123.00           NA 11220                        90.2
146              120.52           NA 10440                          NA
147                  NA         98.8  4270                        93.2
148              111.75           NA    NA                          NA
149               68.26         89.2  2080                          NA
150              191.24         86.6 24700                        96.7
151               73.25           NA  1940                        75.9
152              125.39         97.9 11540                        94.7
153              145.71         91.8 25140                          NA
154               35.63         42.1   840                          NA
155              150.24         95.9 59380                          NA
156              109.35           NA 22130                          NA
157              106.56         99.7 26510                        97.7
158               49.77           NA  2350                        87.7
159                6.85           NA    NA                          NA
160              126.83           NA 10710                          NA
161                  NA           NA    NA                          NA
162              113.22         97.7 31400                        99.7
163               87.05         91.2  5520                        93.9
164               56.14         71.1  2120                          NA
165              178.88         94.7    NA                          NA
166               63.70         87.4  5930                          NA
167              118.57           NA 42200                        99.7
168              131.43           NA 52570                        98.9
169               63.17         83.4    NA                          NA
170               90.64         99.7  2300                        99.5
171              111.63           NA  8360                          NA
172              107.24         97.3 11090                        97.3
173               53.23         58.3    NA                        86.2
174               50.45           NA  1040                          NA
175               52.63           NA  5000                          NA
176              135.64         98.8    NA                        97.7
177              116.93           NA  9030                          NA
178               88.70           NA 16940                        99.5
179               68.77         99.6  8690                          NA
180               21.63           NA    NA                          NA
181               48.38         73.2  1310                        89.7
182              122.98         99.7  7040                        90.8
183              148.62           NA 47890                          NA
184              130.75           NA 36010                        99.8
185               55.53         73.2  1500                          NA
186               92.72           NA 48820                        95.4
187              140.75         98.1 14640                          NA
188               91.65         99.4  3420                        93.3
189               55.76         82.6  4330                          NA
190               97.78           NA 12430                        94.7
191              143.39         93.2  3250                          NA
192               47.05         63.9  2170                        85.5
193               60.59         71.2  1490                        91.4
194               72.13         92.2    NA                          NA
    PrimarySchoolEnrollmentFemale
1                              NA
2                              NA
3                            96.4
4                            79.4
5                            78.2
6                            84.5
7                              NA
8                              NA
9                            97.5
10                             NA
11                           84.1
12                             NA
13                             NA
14                             NA
15                             NA
16                             NA
17                           99.2
18                             NA
19                             NA
20                           91.5
21                           91.5
22                           88.4
23                             NA
24                             NA
25                             NA
26                           99.7
27                           55.9
28                             NA
29                           95.4
30                           87.4
31                             NA
32                           92.4
33                           60.6
34                             NA
35                           94.4
36                             NA
37                           91.3
38                             NA
39                           89.3
40                           99.3
41                             NA
42                             NA
43                           97.0
44                           99.7
45                           99.5
46                             NA
47                             NA
48                             NA
49                           96.9
50                             NA
51                             NA
52                           90.4
53                             NA
54                             NA
55                           95.5
56                           56.0
57                           32.5
58                           97.0
59                           79.5
60                             NA
61                           97.9
62                           99.3
63                             NA
64                           70.4
65                             NA
66                             NA
67                             NA
68                           99.3
69                             NA
70                           97.5
71                           72.1
72                           73.3
73                           85.9
74                             NA
75                           97.0
76                           98.3
77                           99.2
78                             NA
79                             NA
80                             NA
81                             NA
82                          100.0
83                           97.8
84                           98.5
85                           81.4
86                             NA
87                           90.7
88                             NA
89                             NA
90                             NA
91                             NA
92                           95.1
93                           95.4
94                           96.8
95                           92.9
96                           75.3
97                             NA
98                             NA
99                           95.8
100                          95.7
101                            NA
102                            NA
103                            NA
104                          96.5
105                          60.8
106                          94.3
107                            NA
108                          76.0
109                            NA
110                          99.9
111                            NA
112                            NA
113                          98.5
114                            NA
115                            NA
116                          89.4
117                            NA
118                          88.5
119                            NA
120                            NA
121                            NA
122                          99.6
123                          94.5
124                          52.0
125                          54.8
126                            NA
127                          99.2
128                            NA
129                          66.5
130                            NA
131                          98.2
132                            NA
133                          83.9
134                          98.5
135                            NA
136                          96.7
137                          99.7
138                          96.6
139                          98.4
140                          90.1
141                          87.3
142                            NA
143                            NA
144                          86.2
145                          89.2
146                            NA
147                          97.1
148                            NA
149                            NA
150                          96.5
151                          80.2
152                          94.4
153                            NA
154                            NA
155                            NA
156                            NA
157                          97.3
158                          87.3
159                            NA
160                            NA
161                            NA
162                          99.8
163                          94.4
164                            NA
165                            NA
166                            NA
167                          99.0
168                          99.5
169                            NA
170                          96.0
171                            NA
172                          99.2
173                          85.6
174                            NA
175                            NA
176                          97.0
177                            NA
178                          98.3
179                            NA
180                            NA
181                          92.3
182                          91.5
183                            NA
184                          99.6
185                            NA
186                          96.1
187                            NA
188                          91.0
189                            NA
190                          95.1
191                            NA
192                          70.5
193                          93.9
194                            NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Version that skips the first 2 columns</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>WHO1 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="fu">file.path</span>(file_path, <span class="st">"WHO.csv"</span>))[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)]</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>WHO1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Population Under15 Over60 FertilityRate LifeExpectancy ChildMortality
1        29825   47.42   3.82          5.40             60           98.5
2         3162   21.33  14.93          1.75             74           16.7
3        38482   27.42   7.17          2.83             73           20.0
4           78   15.20  22.86            NA             82            3.2
5        20821   47.58   3.84          6.10             51          163.5
6           89   25.96  12.35          2.12             75            9.9
7        41087   24.42  14.97          2.20             76           14.2
8         2969   20.34  14.06          1.74             71           16.4
9        23050   18.95  19.46          1.89             82            4.9
10        8464   14.51  23.52          1.44             81            4.0
11        9309   22.25   8.24          1.96             71           35.2
12         372   21.62  11.24          1.90             75           16.9
13        1318   20.16   3.38          2.12             79            9.6
14      155000   30.57   6.89          2.24             70           40.9
15         283   18.99  15.78          1.84             78           18.4
16        9405   15.10  19.31          1.47             71            5.2
17       11060   16.88  23.81          1.85             80            4.2
18         324   34.40   5.74          2.76             74           18.3
19       10051   42.95   4.54          5.01             57           89.5
20         742   28.53   6.90          2.32             67           44.6
21       10496   35.23   7.28          3.31             67           41.4
22        3834   16.35  20.52          1.26             76            6.7
23        2004   33.75   5.63          2.71             66           53.3
24      199000   24.56  10.81          1.82             74           14.4
25         412   25.75   7.03          2.03             77            8.0
26        7278   13.53  26.11          1.51             74           12.1
27       16460   45.66   3.88          5.78             56          102.4
28        9850   44.20   3.87          6.21             53          104.3
29       14865   31.23   7.67          2.93             65           39.7
30       21700   43.08   4.89          4.94             53           94.9
31       34838   16.37  20.82          1.66             82            5.3
32         494   30.17   7.05          2.38             72           22.2
33        4525   40.07   5.74          4.54             48          128.6
34       12448   48.52   3.80          6.49             51          149.8
35       17465   21.38  13.80          1.84             79            9.1
36     1390000   17.95  13.42          1.66             76           14.0
37       47704   28.03   9.19          2.35             78           17.6
38         718   42.17   4.50          4.85             62           77.6
39        4337   42.37   5.13          5.05             58           96.0
40          21   30.61   9.07            NA             77           10.6
41        4805   23.94  10.15          1.83             79            9.9
42       19840   41.48   5.10          4.91             56          107.6
43        4307   14.98  24.69          1.48             77            4.7
44       11271   16.58  17.95          1.46             78            5.5
45        1129   17.16  16.92          1.47             81            3.2
46       10660   14.56  23.23          1.53             78            3.8
47       24763   21.98  12.74          2.00             69           28.8
48       65705   45.11   4.51          6.15             49          145.7
49        5598   17.66  23.90          1.88             79            3.7
50         860   33.72   5.96          3.53             58           80.9
51          72   25.96  12.35            NA             74           12.6
52       10277   30.53   8.97          2.55             73           27.1
53       15492   30.29   9.21          2.62             76           23.3
54       80722   31.25   8.62          2.85             73           21.0
55        6297   30.62   9.64          2.24             72           15.9
56         736   38.95   4.53          5.04             54          100.3
57        6131   43.10   3.73          4.88             61           51.8
58        1291   15.69  23.92          1.62             76            3.6
59       91729   43.29   5.17          4.77             60           68.3
60         875   28.88   8.38          2.64             70           22.4
61        5408   16.42  25.90          1.85             81            2.9
62       63937   18.26  23.82          1.98             82            4.1
63        1633   38.49   7.38          4.18             62           62.0
64        1791   45.90   3.72          5.79             58           72.9
65        4358   17.62  19.47          1.82             72           19.9
66       82800   13.17  26.72          1.40             81            4.1
67       25366   38.59   5.40          3.99             64           72.0
68       11125   14.60  25.41          1.51             81            4.8
69         105   26.96   9.72          2.22             74           13.5
70       15083   40.80   6.56          3.91             69           32.0
71       11451   42.46   5.03          5.09             55          101.2
72        1664   41.55   5.06          5.05             50          129.1
73         795   36.77   5.18          2.64             63           35.2
74       10174   35.35   6.70          3.28             63           75.6
75        7936   35.72   6.41          3.10             74           22.9
76        9976   14.62  23.41          1.38             75            6.2
77         326   20.71  17.62          2.11             82            2.3
78     1240000   29.43   8.10          2.53             65           56.3
79      247000   29.27   7.86          2.40             69           31.0
80       76424   23.68   7.82          1.91             73           17.6
81       32778   40.51   4.95          4.15             69           34.4
82        4576   21.54  16.59          2.00             81            4.0
83        7644   27.53  15.15          2.92             82            4.2
84       60885   14.04  26.97          1.45             82            3.8
85        2769   27.78  10.98          2.31             75           16.8
86      127000   13.12  31.92          1.39             83            3.0
87        7009   34.13   5.30          3.39             74           19.1
88       16271   25.46  10.04          2.52             67           18.7
89       43178   42.37   4.25          4.54             60           72.9
90         101   30.10   8.84          3.01             67           59.9
91        3250   24.90   3.80          2.65             80           11.0
92        5474   30.21   6.34          3.03             69           26.6
93        6646   35.61   5.76          3.20             68           71.8
94        2060   14.57  24.24          1.57             74            8.7
95        4647   21.64  12.03          1.50             74            9.3
96        2052   36.75   6.31          3.15             50           99.6
97        4190   43.06   4.76          4.95             59           74.8
98        6155   29.45   6.96          2.47             65           15.4
99        3028   15.13  20.57          1.49             74            5.4
100        524   17.46  19.15          1.65             82            2.2
101      22294   42.72   4.45          4.59             66           58.2
102      15906   45.44   4.92          5.55             58           71.0
103      29240   26.65   8.21          1.99             74            8.5
104        338   29.03   6.65          2.31             77           10.5
105      14854   47.14   4.29          6.85             51          128.0
106        428   14.98  22.87          1.37             80            6.8
107         53   30.10   8.84            NA             60           37.9
108       3796   40.22   4.94          4.78             59           84.0
109       1240   20.17  13.23          1.51             74           15.1
110     121000   29.02   9.18          2.25             75           16.2
111        103   35.81   6.67          3.40             69           38.5
112         38   18.26  23.82            NA             82            3.8
113       2796   27.05   5.80          2.45             68           27.5
114        621   19.01  18.58          1.69             76            5.9
115      32521   27.85   7.61          2.65             72           31.1
116      25203   45.38   5.01          5.34             53           89.7
117      52797   25.28   8.15          1.98             65           52.3
118       2259   36.59   5.38          3.17             65           38.7
119         10   30.10   8.84            NA             71           37.1
120      27474   35.58   7.65          2.50             68           41.6
121      16714   17.21  23.02          1.76             81            4.1
122       4460   20.26  19.01          2.10             81            5.7
123       5992   33.37   6.59          2.59             73           24.4
124      17157   49.99   4.26          7.58             56          113.5
125     169000   44.23   4.49          6.02             53          123.7
126          1   30.61   9.07            NA             72           25.1
127       4994   18.64  21.41          1.93             81            2.8
128       3314   24.19   3.99          2.90             72           11.6
129     179000   34.31   6.44          3.35             67           85.9
130         21   30.10   8.84            NA             72           20.8
131       3802   28.65  10.13          2.52             77           18.5
132       7167   38.37   4.79          3.90             63           63.0
133       6687   32.78   8.01          2.93             75           22.0
134      29988   29.18   9.12          2.48             77           18.2
135      96707   34.53   6.21          3.11             69           29.8
136      38211   14.91  20.48          1.39             76            5.0
137      10604   14.92  24.39          1.33             80            3.6
138       2051   13.28   1.73          2.06             82            7.4
139      49003   15.25  16.58          1.29             81            3.8
140       3514   16.52  16.72          1.47             71           17.6
141      21755   15.05  20.66          1.39             74           12.2
142     143000   15.45  18.60          1.51             69           10.3
143      11458   43.56   3.94          4.73             60           55.0
144         54   25.96  12.35            NA             74            9.2
145        181   24.31  12.13          1.96             75           17.5
146        109   25.70   9.92          2.05             74           23.4
147        189   37.88   7.39          4.28             73           17.8
148         31   14.04  26.97            NA             83            3.3
149        188   41.60   4.76          4.22             63           53.2
150      28288   29.69   4.59          2.76             76            8.6
151      13726   43.54   4.57          5.02             61           59.6
152       9553   16.45  20.52          1.37             74            6.6
153         92   21.95  10.05          2.23             74           13.1
154       5979   41.74   4.41          4.86             47          181.6
155       5303   16.48  15.13          1.27             82            2.9
156       5446   15.00  18.60          1.37             76            7.5
157       2068   14.16  23.16          1.49             80            3.1
158        550   40.37   5.10          4.17             70           31.1
159      10195   47.35   4.46          6.77             50          147.4
160      52386   29.53   8.44          2.44             58           44.6
161      10838   42.28   5.26          5.10             54          104.0
162      46755   15.20  22.86          1.47             82            4.5
163      21098   25.15  12.40          2.35             75            9.6
164      37195   41.48   4.99          4.56             62           73.1
165        535   27.83   9.55          2.32             72           20.8
166       1231   38.05   5.34          3.48             50           79.7
167       9511   16.71  25.32          1.93             82            2.9
168       7997   14.79  23.25          1.51             83            4.3
169      21890   35.35   6.09          3.04             75           15.1
170       8009   35.75   4.80          3.81             68           58.3
171      66785   18.47  13.96          1.43             74           13.2
172       2106   16.89  17.56          1.44             75            7.4
173       1114   46.33   5.16          6.11             64           56.7
174       6643   41.89   4.44          4.75             56           95.5
175        105   37.33   7.96          3.86             72           12.8
176       1337   20.73  13.18          1.80             71           20.7
177      10875   23.22  10.49          2.04             76           16.1
178      73997   26.00  10.56          2.08             76           14.2
179       5173   28.65   6.30          2.38             63           52.8
180         10   30.61   9.07            NA             64           29.7
181      36346   48.54   3.72          6.06             56           68.9
182      45530   14.18  20.76          1.45             71           10.7
183       9206   14.41   0.81          1.84             76            8.4
184      62783   17.54  23.06          1.90             80            4.8
185      47783   44.85   4.89          5.36             59           54.0
186     318000   19.63  19.31          2.00             79            7.1
187       3395   22.05  18.59          2.07             77            7.2
188      28541   28.90   6.38          2.38             68           39.6
189        247   37.37   6.02          3.46             72           17.9
190      29955   28.84   9.17          2.44             75           15.3
191      90796   22.87   9.32          1.79             75           23.0
192      23852   40.72   4.54          4.35             64           60.0
193      14075   46.73   3.95          5.77             55           88.5
194      13724   40.24   5.68          3.64             54           89.8
    CellularSubscribers LiteracyRate   GNI PrimarySchoolEnrollmentMale
1                 54.26           NA  1140                          NA
2                 96.39           NA  8820                          NA
3                 98.99           NA  8310                        98.2
4                 75.49           NA    NA                        78.4
5                 48.38         70.1  5230                        93.1
6                196.41         99.0 17900                        91.1
7                134.92         97.8 17130                          NA
8                103.57         99.6  6100                          NA
9                108.34           NA 38110                        96.9
10               154.78           NA 42050                          NA
11               108.75           NA  8960                        85.3
12                86.06           NA    NA                          NA
13               127.96         91.9    NA                          NA
14                56.06         56.8  1940                          NA
15               127.01           NA    NA                          NA
16               111.88           NA 14460                          NA
17               116.61           NA 39190                        98.9
18                69.96           NA  6090                          NA
19                85.33         42.4  1620                          NA
20                65.58           NA  5570                        88.3
21                82.82           NA  4890                        91.2
22                84.52         97.9  9190                        86.5
23               142.82         84.5 14550                          NA
24               124.26           NA 11420                          NA
25               109.17         95.2    NA                          NA
26               140.68           NA 14160                        99.3
27                45.27           NA  1300                        60.7
28                22.33         67.2   610                          NA
29                96.17           NA  2230                        96.4
30                52.35           NA  2330                        99.6
31                79.73           NA 39660                          NA
32                79.19         84.3  3980                        94.6
33                40.65         56.0   810                        81.3
34                31.80         34.5  1360                          NA
35               129.71           NA 16330                        94.3
36                73.19         94.3  8390                          NA
37                98.45         93.4  9560                        91.7
38                28.71         74.9  1110                          NA
39                93.84           NA  3240                        92.3
40                   NA           NA    NA                        97.6
41                92.20         96.2 11860                          NA
42                86.06         56.2  1710                          NA
43               116.37         98.8 18760                        94.8
44                11.69         99.8    NA                       100.0
45                97.71         98.3    NA                        99.1
46               123.44           NA 24370                          NA
47                 4.09           NA    NA                          NA
48                23.09         66.8   340                          NA
49               128.47           NA 41900                        94.8
50                21.32           NA    NA                          NA
51               164.02           NA 13000                          NA
52                87.22         89.5  9420                        95.5
53               104.55         91.9  8510                          NA
54               101.08         72.0  6120                          NA
55               133.54         84.5  6640                        95.2
56                59.15         93.9 25620                        56.5
57                 4.47         67.8   580                        37.2
58               138.98         99.8 20850                        97.7
59                16.67           NA  1110                        84.8
60                83.72           NA  4610                          NA
61               166.02           NA 37670                        97.7
62                94.79           NA 35910                        99.1
63               117.32         88.4 13740                          NA
64                78.89         50.0  1750                        68.2
65               102.31         99.7  5350                          NA
66               132.30           NA 40230                          NA
67                84.78         67.3  1810                          NA
68               106.48         97.2 25100                        98.8
69                   NA           NA 10350                          NA
70               140.38         75.2  4760                        98.6
71                44.02         41.0  1020                        85.2
72                56.18         54.2  1240                        76.7
73                69.94           NA    NA                        82.4
74                41.49           NA  1180                          NA
75               103.97         84.8  3820                        94.8
76               117.30         99.0 20310                        97.8
77               106.08           NA 31020                        98.8
78                72.00           NA  3590                          NA
79               103.09           NA  4500                          NA
80                74.93           NA    NA                          NA
81                78.12         78.2  3750                          NA
82               108.41           NA 34180                        99.4
83               121.66           NA 27110                        97.0
84               157.93         98.9 32400                        99.6
85               108.12         86.6    NA                        83.4
86               104.95           NA 35330                          NA
87               118.20         92.6  5930                        90.8
88               155.74         99.7 11250                          NA
89                67.49         87.4  1710                          NA
90                13.64           NA  3300                          NA
91               175.09           NA    NA                          NA
92               116.40           NA  2180                        95.5
93                87.16           NA  2580                        98.1
94               102.94         99.8 17700                        95.0
95                78.65           NA 14470                        93.5
96                56.17         89.6  2050                        72.2
97                49.17         60.8   540                          NA
98               155.70         89.2    NA                          NA
99               151.30         99.7 19640                        95.6
100              148.27           NA 64260                        93.6
101               40.65           NA   950                          NA
102               25.69         74.8   870                          NA
103              127.04         93.1 15650                          NA
104              165.72           NA  7430                        96.5
105               68.32         31.1  1040                        70.6
106              124.86           NA    NA                        93.3
107                  NA           NA    NA                          NA
108               93.60         58.0  2400                        72.8
109               99.04         88.5 14330                          NA
110               82.38         93.1 15390                        99.2
111                  NA           NA  3580                          NA
112               89.73           NA    NA                          NA
113              105.08         97.4  4290                        99.6
114                  NA         98.4 13700                          NA
115              113.26           NA  4880                          NA
116               32.83         56.1   970                        94.6
117                2.57         92.3    NA                          NA
118               96.39         88.8  6560                        83.8
119               65.00           NA    NA                          NA
120               43.81         60.3  1260                          NA
121                  NA           NA 43140                          NA
122              109.19           NA    NA                        99.3
123               82.15           NA  3730                        93.2
124               29.52           NA   720                        64.2
125               58.58         61.3  2290                        60.1
126                  NA           NA    NA                          NA
127              115.62           NA 61460                        99.1
128              168.97           NA    NA                          NA
129               61.61           NA  2870                        81.3
130               74.94           NA 11080                          NA
131              188.60         94.1 14510                        99.1
132               34.22         60.6  2570                          NA
133               99.40         93.9  5390                        84.4
134              110.41           NA  9440                        97.8
135               99.30           NA  4140                          NA
136              130.97         99.5 20430                        96.9
137              115.39         95.2 24440                        99.1
138              123.11         96.3 86440                        95.7
139              108.50           NA 30370                        99.3
140              104.80         98.5  3640                        90.1
141              109.16         97.7 15120                        87.9
142              179.31         99.6 20560                          NA
143               40.63         71.1  1270                          NA
144                  NA           NA 16470                        85.8
145              123.00           NA 11220                        90.2
146              120.52           NA 10440                          NA
147                  NA         98.8  4270                        93.2
148              111.75           NA    NA                          NA
149               68.26         89.2  2080                          NA
150              191.24         86.6 24700                        96.7
151               73.25           NA  1940                        75.9
152              125.39         97.9 11540                        94.7
153              145.71         91.8 25140                          NA
154               35.63         42.1   840                          NA
155              150.24         95.9 59380                          NA
156              109.35           NA 22130                          NA
157              106.56         99.7 26510                        97.7
158               49.77           NA  2350                        87.7
159                6.85           NA    NA                          NA
160              126.83           NA 10710                          NA
161                  NA           NA    NA                          NA
162              113.22         97.7 31400                        99.7
163               87.05         91.2  5520                        93.9
164               56.14         71.1  2120                          NA
165              178.88         94.7    NA                          NA
166               63.70         87.4  5930                          NA
167              118.57           NA 42200                        99.7
168              131.43           NA 52570                        98.9
169               63.17         83.4    NA                          NA
170               90.64         99.7  2300                        99.5
171              111.63           NA  8360                          NA
172              107.24         97.3 11090                        97.3
173               53.23         58.3    NA                        86.2
174               50.45           NA  1040                          NA
175               52.63           NA  5000                          NA
176              135.64         98.8    NA                        97.7
177              116.93           NA  9030                          NA
178               88.70           NA 16940                        99.5
179               68.77         99.6  8690                          NA
180               21.63           NA    NA                          NA
181               48.38         73.2  1310                        89.7
182              122.98         99.7  7040                        90.8
183              148.62           NA 47890                          NA
184              130.75           NA 36010                        99.8
185               55.53         73.2  1500                          NA
186               92.72           NA 48820                        95.4
187              140.75         98.1 14640                          NA
188               91.65         99.4  3420                        93.3
189               55.76         82.6  4330                          NA
190               97.78           NA 12430                        94.7
191              143.39         93.2  3250                          NA
192               47.05         63.9  2170                        85.5
193               60.59         71.2  1490                        91.4
194               72.13         92.2    NA                          NA
    PrimarySchoolEnrollmentFemale
1                              NA
2                              NA
3                            96.4
4                            79.4
5                            78.2
6                            84.5
7                              NA
8                              NA
9                            97.5
10                             NA
11                           84.1
12                             NA
13                             NA
14                             NA
15                             NA
16                             NA
17                           99.2
18                             NA
19                             NA
20                           91.5
21                           91.5
22                           88.4
23                             NA
24                             NA
25                             NA
26                           99.7
27                           55.9
28                             NA
29                           95.4
30                           87.4
31                             NA
32                           92.4
33                           60.6
34                             NA
35                           94.4
36                             NA
37                           91.3
38                             NA
39                           89.3
40                           99.3
41                             NA
42                             NA
43                           97.0
44                           99.7
45                           99.5
46                             NA
47                             NA
48                             NA
49                           96.9
50                             NA
51                             NA
52                           90.4
53                             NA
54                             NA
55                           95.5
56                           56.0
57                           32.5
58                           97.0
59                           79.5
60                             NA
61                           97.9
62                           99.3
63                             NA
64                           70.4
65                             NA
66                             NA
67                             NA
68                           99.3
69                             NA
70                           97.5
71                           72.1
72                           73.3
73                           85.9
74                             NA
75                           97.0
76                           98.3
77                           99.2
78                             NA
79                             NA
80                             NA
81                             NA
82                          100.0
83                           97.8
84                           98.5
85                           81.4
86                             NA
87                           90.7
88                             NA
89                             NA
90                             NA
91                             NA
92                           95.1
93                           95.4
94                           96.8
95                           92.9
96                           75.3
97                             NA
98                             NA
99                           95.8
100                          95.7
101                            NA
102                            NA
103                            NA
104                          96.5
105                          60.8
106                          94.3
107                            NA
108                          76.0
109                            NA
110                          99.9
111                            NA
112                            NA
113                          98.5
114                            NA
115                            NA
116                          89.4
117                            NA
118                          88.5
119                            NA
120                            NA
121                            NA
122                          99.6
123                          94.5
124                          52.0
125                          54.8
126                            NA
127                          99.2
128                            NA
129                          66.5
130                            NA
131                          98.2
132                            NA
133                          83.9
134                          98.5
135                            NA
136                          96.7
137                          99.7
138                          96.6
139                          98.4
140                          90.1
141                          87.3
142                            NA
143                            NA
144                          86.2
145                          89.2
146                            NA
147                          97.1
148                            NA
149                            NA
150                          96.5
151                          80.2
152                          94.4
153                            NA
154                            NA
155                            NA
156                            NA
157                          97.3
158                          87.3
159                            NA
160                            NA
161                            NA
162                          99.8
163                          94.4
164                            NA
165                            NA
166                            NA
167                          99.0
168                          99.5
169                            NA
170                          96.0
171                            NA
172                          99.2
173                          85.6
174                            NA
175                            NA
176                          97.0
177                            NA
178                          98.3
179                            NA
180                            NA
181                          92.3
182                          91.5
183                            NA
184                          99.6
185                            NA
186                          96.1
187                            NA
188                          91.0
189                            NA
190                          95.1
191                            NA
192                          70.5
193                          93.9
194                            NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Version that removes the first row of data</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>WHO2 <span class="ot">&lt;-</span> WHO[<span class="sc">-</span><span class="dv">1</span>,]</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(WHO2) <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>WHO2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                      Country                Region Population
1                                     Albania                Europe       3162
2                                     Algeria                Africa      38482
3                                     Andorra                Europe         78
4                                      Angola                Africa      20821
5                         Antigua and Barbuda              Americas         89
6                                   Argentina              Americas      41087
7                                     Armenia                Europe       2969
8                                   Australia       Western Pacific      23050
9                                     Austria                Europe       8464
10                                 Azerbaijan                Europe       9309
11                                    Bahamas              Americas        372
12                                    Bahrain Eastern Mediterranean       1318
13                                 Bangladesh       South-East Asia     155000
14                                   Barbados              Americas        283
15                                    Belarus                Europe       9405
16                                    Belgium                Europe      11060
17                                     Belize              Americas        324
18                                      Benin                Africa      10051
19                                     Bhutan       South-East Asia        742
20           Bolivia (Plurinational State of)              Americas      10496
21                     Bosnia and Herzegovina                Europe       3834
22                                   Botswana                Africa       2004
23                                     Brazil              Americas     199000
24                          Brunei Darussalam       Western Pacific        412
25                                   Bulgaria                Europe       7278
26                               Burkina Faso                Africa      16460
27                                    Burundi                Africa       9850
28                                   Cambodia       Western Pacific      14865
29                                   Cameroon                Africa      21700
30                                     Canada              Americas      34838
31                                 Cape Verde                Africa        494
32                   Central African Republic                Africa       4525
33                                       Chad                Africa      12448
34                                      Chile              Americas      17465
35                                      China       Western Pacific    1390000
36                                   Colombia              Americas      47704
37                                    Comoros                Africa        718
38                                      Congo                Africa       4337
39                               Cook Islands       Western Pacific         21
40                                 Costa Rica              Americas       4805
41                              Cote d'Ivoire                Africa      19840
42                                    Croatia                Europe       4307
43                                       Cuba              Americas      11271
44                                     Cyprus                Europe       1129
45                             Czech Republic                Europe      10660
46      Democratic People's Republic of Korea       South-East Asia      24763
47           Democratic Republic of the Congo                Africa      65705
48                                    Denmark                Europe       5598
49                                   Djibouti Eastern Mediterranean        860
50                                   Dominica              Americas         72
51                         Dominican Republic              Americas      10277
52                                    Ecuador              Americas      15492
53                                      Egypt Eastern Mediterranean      80722
54                                El Salvador              Americas       6297
55                          Equatorial Guinea                Africa        736
56                                    Eritrea                Africa       6131
57                                    Estonia                Europe       1291
58                                   Ethiopia                Africa      91729
59                                       Fiji       Western Pacific        875
60                                    Finland                Europe       5408
61                                     France                Europe      63937
62                                      Gabon                Africa       1633
63                                     Gambia                Africa       1791
64                                    Georgia                Europe       4358
65                                    Germany                Europe      82800
66                                      Ghana                Africa      25366
67                                     Greece                Europe      11125
68                                    Grenada              Americas        105
69                                  Guatemala              Americas      15083
70                                     Guinea                Africa      11451
71                              Guinea-Bissau                Africa       1664
72                                     Guyana              Americas        795
73                                      Haiti              Americas      10174
74                                   Honduras              Americas       7936
75                                    Hungary                Europe       9976
76                                    Iceland                Europe        326
77                                      India       South-East Asia    1240000
78                                  Indonesia       South-East Asia     247000
79                 Iran (Islamic Republic of) Eastern Mediterranean      76424
80                                       Iraq Eastern Mediterranean      32778
81                                    Ireland                Europe       4576
82                                     Israel                Europe       7644
83                                      Italy                Europe      60885
84                                    Jamaica              Americas       2769
85                                      Japan       Western Pacific     127000
86                                     Jordan Eastern Mediterranean       7009
87                                 Kazakhstan                Europe      16271
88                                      Kenya                Africa      43178
89                                   Kiribati       Western Pacific        101
90                                     Kuwait Eastern Mediterranean       3250
91                                 Kyrgyzstan                Europe       5474
92           Lao People's Democratic Republic       Western Pacific       6646
93                                     Latvia                Europe       2060
94                                    Lebanon Eastern Mediterranean       4647
95                                    Lesotho                Africa       2052
96                                    Liberia                Africa       4190
97                                      Libya Eastern Mediterranean       6155
98                                  Lithuania                Europe       3028
99                                 Luxembourg                Europe        524
100                                Madagascar                Africa      22294
101                                    Malawi                Africa      15906
102                                  Malaysia       Western Pacific      29240
103                                  Maldives       South-East Asia        338
104                                      Mali                Africa      14854
105                                     Malta                Europe        428
106                          Marshall Islands       Western Pacific         53
107                                Mauritania                Africa       3796
108                                 Mauritius                Africa       1240
109                                    Mexico              Americas     121000
110          Micronesia (Federated States of)       Western Pacific        103
111                                    Monaco                Europe         38
112                                  Mongolia       Western Pacific       2796
113                                Montenegro                Europe        621
114                                   Morocco Eastern Mediterranean      32521
115                                Mozambique                Africa      25203
116                                   Myanmar       South-East Asia      52797
117                                   Namibia                Africa       2259
118                                     Nauru       Western Pacific         10
119                                     Nepal       South-East Asia      27474
120                               Netherlands                Europe      16714
121                               New Zealand       Western Pacific       4460
122                                 Nicaragua              Americas       5992
123                                     Niger                Africa      17157
124                                   Nigeria                Africa     169000
125                                      Niue       Western Pacific          1
126                                    Norway                Europe       4994
127                                      Oman Eastern Mediterranean       3314
128                                  Pakistan Eastern Mediterranean     179000
129                                     Palau       Western Pacific         21
130                                    Panama              Americas       3802
131                          Papua New Guinea       Western Pacific       7167
132                                  Paraguay              Americas       6687
133                                      Peru              Americas      29988
134                               Philippines       Western Pacific      96707
135                                    Poland                Europe      38211
136                                  Portugal                Europe      10604
137                                     Qatar Eastern Mediterranean       2051
138                         Republic of Korea       Western Pacific      49003
139                       Republic of Moldova                Europe       3514
140                                   Romania                Europe      21755
141                        Russian Federation                Europe     143000
142                                    Rwanda                Africa      11458
143                     Saint Kitts and Nevis              Americas         54
144                               Saint Lucia              Americas        181
145          Saint Vincent and the Grenadines              Americas        109
146                                     Samoa       Western Pacific        189
147                                San Marino                Europe         31
148                     Sao Tome and Principe                Africa        188
149                              Saudi Arabia Eastern Mediterranean      28288
150                                   Senegal                Africa      13726
151                                    Serbia                Europe       9553
152                                Seychelles                Africa         92
153                              Sierra Leone                Africa       5979
154                                 Singapore       Western Pacific       5303
155                                  Slovakia                Europe       5446
156                                  Slovenia                Europe       2068
157                           Solomon Islands       Western Pacific        550
158                                   Somalia Eastern Mediterranean      10195
159                              South Africa                Africa      52386
160                               South Sudan Eastern Mediterranean      10838
161                                     Spain                Europe      46755
162                                 Sri Lanka       South-East Asia      21098
163                                     Sudan Eastern Mediterranean      37195
164                                  Suriname              Americas        535
165                                 Swaziland                Africa       1231
166                                    Sweden                Europe       9511
167                               Switzerland                Europe       7997
168                      Syrian Arab Republic Eastern Mediterranean      21890
169                                Tajikistan                Europe       8009
170                                  Thailand       South-East Asia      66785
171 The former Yugoslav Republic of Macedonia                Europe       2106
172                               Timor-Leste       South-East Asia       1114
173                                      Togo                Africa       6643
174                                     Tonga       Western Pacific        105
175                       Trinidad and Tobago              Americas       1337
176                                   Tunisia Eastern Mediterranean      10875
177                                    Turkey                Europe      73997
178                              Turkmenistan                Europe       5173
179                                    Tuvalu       Western Pacific         10
180                                    Uganda                Africa      36346
181                                   Ukraine                Europe      45530
182                      United Arab Emirates Eastern Mediterranean       9206
183                            United Kingdom                Europe      62783
184               United Republic of Tanzania                Africa      47783
185                  United States of America              Americas     318000
186                                   Uruguay              Americas       3395
187                                Uzbekistan                Europe      28541
188                                   Vanuatu       Western Pacific        247
189        Venezuela (Bolivarian Republic of)              Americas      29955
190                                  Viet Nam       Western Pacific      90796
191                                     Yemen Eastern Mediterranean      23852
192                                    Zambia                Africa      14075
193                                  Zimbabwe                Africa      13724
    Under15 Over60 FertilityRate LifeExpectancy ChildMortality
1     21.33  14.93          1.75             74           16.7
2     27.42   7.17          2.83             73           20.0
3     15.20  22.86            NA             82            3.2
4     47.58   3.84          6.10             51          163.5
5     25.96  12.35          2.12             75            9.9
6     24.42  14.97          2.20             76           14.2
7     20.34  14.06          1.74             71           16.4
8     18.95  19.46          1.89             82            4.9
9     14.51  23.52          1.44             81            4.0
10    22.25   8.24          1.96             71           35.2
11    21.62  11.24          1.90             75           16.9
12    20.16   3.38          2.12             79            9.6
13    30.57   6.89          2.24             70           40.9
14    18.99  15.78          1.84             78           18.4
15    15.10  19.31          1.47             71            5.2
16    16.88  23.81          1.85             80            4.2
17    34.40   5.74          2.76             74           18.3
18    42.95   4.54          5.01             57           89.5
19    28.53   6.90          2.32             67           44.6
20    35.23   7.28          3.31             67           41.4
21    16.35  20.52          1.26             76            6.7
22    33.75   5.63          2.71             66           53.3
23    24.56  10.81          1.82             74           14.4
24    25.75   7.03          2.03             77            8.0
25    13.53  26.11          1.51             74           12.1
26    45.66   3.88          5.78             56          102.4
27    44.20   3.87          6.21             53          104.3
28    31.23   7.67          2.93             65           39.7
29    43.08   4.89          4.94             53           94.9
30    16.37  20.82          1.66             82            5.3
31    30.17   7.05          2.38             72           22.2
32    40.07   5.74          4.54             48          128.6
33    48.52   3.80          6.49             51          149.8
34    21.38  13.80          1.84             79            9.1
35    17.95  13.42          1.66             76           14.0
36    28.03   9.19          2.35             78           17.6
37    42.17   4.50          4.85             62           77.6
38    42.37   5.13          5.05             58           96.0
39    30.61   9.07            NA             77           10.6
40    23.94  10.15          1.83             79            9.9
41    41.48   5.10          4.91             56          107.6
42    14.98  24.69          1.48             77            4.7
43    16.58  17.95          1.46             78            5.5
44    17.16  16.92          1.47             81            3.2
45    14.56  23.23          1.53             78            3.8
46    21.98  12.74          2.00             69           28.8
47    45.11   4.51          6.15             49          145.7
48    17.66  23.90          1.88             79            3.7
49    33.72   5.96          3.53             58           80.9
50    25.96  12.35            NA             74           12.6
51    30.53   8.97          2.55             73           27.1
52    30.29   9.21          2.62             76           23.3
53    31.25   8.62          2.85             73           21.0
54    30.62   9.64          2.24             72           15.9
55    38.95   4.53          5.04             54          100.3
56    43.10   3.73          4.88             61           51.8
57    15.69  23.92          1.62             76            3.6
58    43.29   5.17          4.77             60           68.3
59    28.88   8.38          2.64             70           22.4
60    16.42  25.90          1.85             81            2.9
61    18.26  23.82          1.98             82            4.1
62    38.49   7.38          4.18             62           62.0
63    45.90   3.72          5.79             58           72.9
64    17.62  19.47          1.82             72           19.9
65    13.17  26.72          1.40             81            4.1
66    38.59   5.40          3.99             64           72.0
67    14.60  25.41          1.51             81            4.8
68    26.96   9.72          2.22             74           13.5
69    40.80   6.56          3.91             69           32.0
70    42.46   5.03          5.09             55          101.2
71    41.55   5.06          5.05             50          129.1
72    36.77   5.18          2.64             63           35.2
73    35.35   6.70          3.28             63           75.6
74    35.72   6.41          3.10             74           22.9
75    14.62  23.41          1.38             75            6.2
76    20.71  17.62          2.11             82            2.3
77    29.43   8.10          2.53             65           56.3
78    29.27   7.86          2.40             69           31.0
79    23.68   7.82          1.91             73           17.6
80    40.51   4.95          4.15             69           34.4
81    21.54  16.59          2.00             81            4.0
82    27.53  15.15          2.92             82            4.2
83    14.04  26.97          1.45             82            3.8
84    27.78  10.98          2.31             75           16.8
85    13.12  31.92          1.39             83            3.0
86    34.13   5.30          3.39             74           19.1
87    25.46  10.04          2.52             67           18.7
88    42.37   4.25          4.54             60           72.9
89    30.10   8.84          3.01             67           59.9
90    24.90   3.80          2.65             80           11.0
91    30.21   6.34          3.03             69           26.6
92    35.61   5.76          3.20             68           71.8
93    14.57  24.24          1.57             74            8.7
94    21.64  12.03          1.50             74            9.3
95    36.75   6.31          3.15             50           99.6
96    43.06   4.76          4.95             59           74.8
97    29.45   6.96          2.47             65           15.4
98    15.13  20.57          1.49             74            5.4
99    17.46  19.15          1.65             82            2.2
100   42.72   4.45          4.59             66           58.2
101   45.44   4.92          5.55             58           71.0
102   26.65   8.21          1.99             74            8.5
103   29.03   6.65          2.31             77           10.5
104   47.14   4.29          6.85             51          128.0
105   14.98  22.87          1.37             80            6.8
106   30.10   8.84            NA             60           37.9
107   40.22   4.94          4.78             59           84.0
108   20.17  13.23          1.51             74           15.1
109   29.02   9.18          2.25             75           16.2
110   35.81   6.67          3.40             69           38.5
111   18.26  23.82            NA             82            3.8
112   27.05   5.80          2.45             68           27.5
113   19.01  18.58          1.69             76            5.9
114   27.85   7.61          2.65             72           31.1
115   45.38   5.01          5.34             53           89.7
116   25.28   8.15          1.98             65           52.3
117   36.59   5.38          3.17             65           38.7
118   30.10   8.84            NA             71           37.1
119   35.58   7.65          2.50             68           41.6
120   17.21  23.02          1.76             81            4.1
121   20.26  19.01          2.10             81            5.7
122   33.37   6.59          2.59             73           24.4
123   49.99   4.26          7.58             56          113.5
124   44.23   4.49          6.02             53          123.7
125   30.61   9.07            NA             72           25.1
126   18.64  21.41          1.93             81            2.8
127   24.19   3.99          2.90             72           11.6
128   34.31   6.44          3.35             67           85.9
129   30.10   8.84            NA             72           20.8
130   28.65  10.13          2.52             77           18.5
131   38.37   4.79          3.90             63           63.0
132   32.78   8.01          2.93             75           22.0
133   29.18   9.12          2.48             77           18.2
134   34.53   6.21          3.11             69           29.8
135   14.91  20.48          1.39             76            5.0
136   14.92  24.39          1.33             80            3.6
137   13.28   1.73          2.06             82            7.4
138   15.25  16.58          1.29             81            3.8
139   16.52  16.72          1.47             71           17.6
140   15.05  20.66          1.39             74           12.2
141   15.45  18.60          1.51             69           10.3
142   43.56   3.94          4.73             60           55.0
143   25.96  12.35            NA             74            9.2
144   24.31  12.13          1.96             75           17.5
145   25.70   9.92          2.05             74           23.4
146   37.88   7.39          4.28             73           17.8
147   14.04  26.97            NA             83            3.3
148   41.60   4.76          4.22             63           53.2
149   29.69   4.59          2.76             76            8.6
150   43.54   4.57          5.02             61           59.6
151   16.45  20.52          1.37             74            6.6
152   21.95  10.05          2.23             74           13.1
153   41.74   4.41          4.86             47          181.6
154   16.48  15.13          1.27             82            2.9
155   15.00  18.60          1.37             76            7.5
156   14.16  23.16          1.49             80            3.1
157   40.37   5.10          4.17             70           31.1
158   47.35   4.46          6.77             50          147.4
159   29.53   8.44          2.44             58           44.6
160   42.28   5.26          5.10             54          104.0
161   15.20  22.86          1.47             82            4.5
162   25.15  12.40          2.35             75            9.6
163   41.48   4.99          4.56             62           73.1
164   27.83   9.55          2.32             72           20.8
165   38.05   5.34          3.48             50           79.7
166   16.71  25.32          1.93             82            2.9
167   14.79  23.25          1.51             83            4.3
168   35.35   6.09          3.04             75           15.1
169   35.75   4.80          3.81             68           58.3
170   18.47  13.96          1.43             74           13.2
171   16.89  17.56          1.44             75            7.4
172   46.33   5.16          6.11             64           56.7
173   41.89   4.44          4.75             56           95.5
174   37.33   7.96          3.86             72           12.8
175   20.73  13.18          1.80             71           20.7
176   23.22  10.49          2.04             76           16.1
177   26.00  10.56          2.08             76           14.2
178   28.65   6.30          2.38             63           52.8
179   30.61   9.07            NA             64           29.7
180   48.54   3.72          6.06             56           68.9
181   14.18  20.76          1.45             71           10.7
182   14.41   0.81          1.84             76            8.4
183   17.54  23.06          1.90             80            4.8
184   44.85   4.89          5.36             59           54.0
185   19.63  19.31          2.00             79            7.1
186   22.05  18.59          2.07             77            7.2
187   28.90   6.38          2.38             68           39.6
188   37.37   6.02          3.46             72           17.9
189   28.84   9.17          2.44             75           15.3
190   22.87   9.32          1.79             75           23.0
191   40.72   4.54          4.35             64           60.0
192   46.73   3.95          5.77             55           88.5
193   40.24   5.68          3.64             54           89.8
    CellularSubscribers LiteracyRate   GNI PrimarySchoolEnrollmentMale
1                 96.39           NA  8820                          NA
2                 98.99           NA  8310                        98.2
3                 75.49           NA    NA                        78.4
4                 48.38         70.1  5230                        93.1
5                196.41         99.0 17900                        91.1
6                134.92         97.8 17130                          NA
7                103.57         99.6  6100                          NA
8                108.34           NA 38110                        96.9
9                154.78           NA 42050                          NA
10               108.75           NA  8960                        85.3
11                86.06           NA    NA                          NA
12               127.96         91.9    NA                          NA
13                56.06         56.8  1940                          NA
14               127.01           NA    NA                          NA
15               111.88           NA 14460                          NA
16               116.61           NA 39190                        98.9
17                69.96           NA  6090                          NA
18                85.33         42.4  1620                          NA
19                65.58           NA  5570                        88.3
20                82.82           NA  4890                        91.2
21                84.52         97.9  9190                        86.5
22               142.82         84.5 14550                          NA
23               124.26           NA 11420                          NA
24               109.17         95.2    NA                          NA
25               140.68           NA 14160                        99.3
26                45.27           NA  1300                        60.7
27                22.33         67.2   610                          NA
28                96.17           NA  2230                        96.4
29                52.35           NA  2330                        99.6
30                79.73           NA 39660                          NA
31                79.19         84.3  3980                        94.6
32                40.65         56.0   810                        81.3
33                31.80         34.5  1360                          NA
34               129.71           NA 16330                        94.3
35                73.19         94.3  8390                          NA
36                98.45         93.4  9560                        91.7
37                28.71         74.9  1110                          NA
38                93.84           NA  3240                        92.3
39                   NA           NA    NA                        97.6
40                92.20         96.2 11860                          NA
41                86.06         56.2  1710                          NA
42               116.37         98.8 18760                        94.8
43                11.69         99.8    NA                       100.0
44                97.71         98.3    NA                        99.1
45               123.44           NA 24370                          NA
46                 4.09           NA    NA                          NA
47                23.09         66.8   340                          NA
48               128.47           NA 41900                        94.8
49                21.32           NA    NA                          NA
50               164.02           NA 13000                          NA
51                87.22         89.5  9420                        95.5
52               104.55         91.9  8510                          NA
53               101.08         72.0  6120                          NA
54               133.54         84.5  6640                        95.2
55                59.15         93.9 25620                        56.5
56                 4.47         67.8   580                        37.2
57               138.98         99.8 20850                        97.7
58                16.67           NA  1110                        84.8
59                83.72           NA  4610                          NA
60               166.02           NA 37670                        97.7
61                94.79           NA 35910                        99.1
62               117.32         88.4 13740                          NA
63                78.89         50.0  1750                        68.2
64               102.31         99.7  5350                          NA
65               132.30           NA 40230                          NA
66                84.78         67.3  1810                          NA
67               106.48         97.2 25100                        98.8
68                   NA           NA 10350                          NA
69               140.38         75.2  4760                        98.6
70                44.02         41.0  1020                        85.2
71                56.18         54.2  1240                        76.7
72                69.94           NA    NA                        82.4
73                41.49           NA  1180                          NA
74               103.97         84.8  3820                        94.8
75               117.30         99.0 20310                        97.8
76               106.08           NA 31020                        98.8
77                72.00           NA  3590                          NA
78               103.09           NA  4500                          NA
79                74.93           NA    NA                          NA
80                78.12         78.2  3750                          NA
81               108.41           NA 34180                        99.4
82               121.66           NA 27110                        97.0
83               157.93         98.9 32400                        99.6
84               108.12         86.6    NA                        83.4
85               104.95           NA 35330                          NA
86               118.20         92.6  5930                        90.8
87               155.74         99.7 11250                          NA
88                67.49         87.4  1710                          NA
89                13.64           NA  3300                          NA
90               175.09           NA    NA                          NA
91               116.40           NA  2180                        95.5
92                87.16           NA  2580                        98.1
93               102.94         99.8 17700                        95.0
94                78.65           NA 14470                        93.5
95                56.17         89.6  2050                        72.2
96                49.17         60.8   540                          NA
97               155.70         89.2    NA                          NA
98               151.30         99.7 19640                        95.6
99               148.27           NA 64260                        93.6
100               40.65           NA   950                          NA
101               25.69         74.8   870                          NA
102              127.04         93.1 15650                          NA
103              165.72           NA  7430                        96.5
104               68.32         31.1  1040                        70.6
105              124.86           NA    NA                        93.3
106                  NA           NA    NA                          NA
107               93.60         58.0  2400                        72.8
108               99.04         88.5 14330                          NA
109               82.38         93.1 15390                        99.2
110                  NA           NA  3580                          NA
111               89.73           NA    NA                          NA
112              105.08         97.4  4290                        99.6
113                  NA         98.4 13700                          NA
114              113.26           NA  4880                          NA
115               32.83         56.1   970                        94.6
116                2.57         92.3    NA                          NA
117               96.39         88.8  6560                        83.8
118               65.00           NA    NA                          NA
119               43.81         60.3  1260                          NA
120                  NA           NA 43140                          NA
121              109.19           NA    NA                        99.3
122               82.15           NA  3730                        93.2
123               29.52           NA   720                        64.2
124               58.58         61.3  2290                        60.1
125                  NA           NA    NA                          NA
126              115.62           NA 61460                        99.1
127              168.97           NA    NA                          NA
128               61.61           NA  2870                        81.3
129               74.94           NA 11080                          NA
130              188.60         94.1 14510                        99.1
131               34.22         60.6  2570                          NA
132               99.40         93.9  5390                        84.4
133              110.41           NA  9440                        97.8
134               99.30           NA  4140                          NA
135              130.97         99.5 20430                        96.9
136              115.39         95.2 24440                        99.1
137              123.11         96.3 86440                        95.7
138              108.50           NA 30370                        99.3
139              104.80         98.5  3640                        90.1
140              109.16         97.7 15120                        87.9
141              179.31         99.6 20560                          NA
142               40.63         71.1  1270                          NA
143                  NA           NA 16470                        85.8
144              123.00           NA 11220                        90.2
145              120.52           NA 10440                          NA
146                  NA         98.8  4270                        93.2
147              111.75           NA    NA                          NA
148               68.26         89.2  2080                          NA
149              191.24         86.6 24700                        96.7
150               73.25           NA  1940                        75.9
151              125.39         97.9 11540                        94.7
152              145.71         91.8 25140                          NA
153               35.63         42.1   840                          NA
154              150.24         95.9 59380                          NA
155              109.35           NA 22130                          NA
156              106.56         99.7 26510                        97.7
157               49.77           NA  2350                        87.7
158                6.85           NA    NA                          NA
159              126.83           NA 10710                          NA
160                  NA           NA    NA                          NA
161              113.22         97.7 31400                        99.7
162               87.05         91.2  5520                        93.9
163               56.14         71.1  2120                          NA
164              178.88         94.7    NA                          NA
165               63.70         87.4  5930                          NA
166              118.57           NA 42200                        99.7
167              131.43           NA 52570                        98.9
168               63.17         83.4    NA                          NA
169               90.64         99.7  2300                        99.5
170              111.63           NA  8360                          NA
171              107.24         97.3 11090                        97.3
172               53.23         58.3    NA                        86.2
173               50.45           NA  1040                          NA
174               52.63           NA  5000                          NA
175              135.64         98.8    NA                        97.7
176              116.93           NA  9030                          NA
177               88.70           NA 16940                        99.5
178               68.77         99.6  8690                          NA
179               21.63           NA    NA                          NA
180               48.38         73.2  1310                        89.7
181              122.98         99.7  7040                        90.8
182              148.62           NA 47890                          NA
183              130.75           NA 36010                        99.8
184               55.53         73.2  1500                          NA
185               92.72           NA 48820                        95.4
186              140.75         98.1 14640                          NA
187               91.65         99.4  3420                        93.3
188               55.76         82.6  4330                          NA
189               97.78           NA 12430                        94.7
190              143.39         93.2  3250                          NA
191               47.05         63.9  2170                        85.5
192               60.59         71.2  1490                        91.4
193               72.13         92.2    NA                          NA
    PrimarySchoolEnrollmentFemale
1                              NA
2                            96.4
3                            79.4
4                            78.2
5                            84.5
6                              NA
7                              NA
8                            97.5
9                              NA
10                           84.1
11                             NA
12                             NA
13                             NA
14                             NA
15                             NA
16                           99.2
17                             NA
18                             NA
19                           91.5
20                           91.5
21                           88.4
22                             NA
23                             NA
24                             NA
25                           99.7
26                           55.9
27                             NA
28                           95.4
29                           87.4
30                             NA
31                           92.4
32                           60.6
33                             NA
34                           94.4
35                             NA
36                           91.3
37                             NA
38                           89.3
39                           99.3
40                             NA
41                             NA
42                           97.0
43                           99.7
44                           99.5
45                             NA
46                             NA
47                             NA
48                           96.9
49                             NA
50                             NA
51                           90.4
52                             NA
53                             NA
54                           95.5
55                           56.0
56                           32.5
57                           97.0
58                           79.5
59                             NA
60                           97.9
61                           99.3
62                             NA
63                           70.4
64                             NA
65                             NA
66                             NA
67                           99.3
68                             NA
69                           97.5
70                           72.1
71                           73.3
72                           85.9
73                             NA
74                           97.0
75                           98.3
76                           99.2
77                             NA
78                             NA
79                             NA
80                             NA
81                          100.0
82                           97.8
83                           98.5
84                           81.4
85                             NA
86                           90.7
87                             NA
88                             NA
89                             NA
90                             NA
91                           95.1
92                           95.4
93                           96.8
94                           92.9
95                           75.3
96                             NA
97                             NA
98                           95.8
99                           95.7
100                            NA
101                            NA
102                            NA
103                          96.5
104                          60.8
105                          94.3
106                            NA
107                          76.0
108                            NA
109                          99.9
110                            NA
111                            NA
112                          98.5
113                            NA
114                            NA
115                          89.4
116                            NA
117                          88.5
118                            NA
119                            NA
120                            NA
121                          99.6
122                          94.5
123                          52.0
124                          54.8
125                            NA
126                          99.2
127                            NA
128                          66.5
129                            NA
130                          98.2
131                            NA
132                          83.9
133                          98.5
134                            NA
135                          96.7
136                          99.7
137                          96.6
138                          98.4
139                          90.1
140                          87.3
141                            NA
142                            NA
143                          86.2
144                          89.2
145                            NA
146                          97.1
147                            NA
148                            NA
149                          96.5
150                          80.2
151                          94.4
152                            NA
153                            NA
154                            NA
155                            NA
156                          97.3
157                          87.3
158                            NA
159                            NA
160                            NA
161                          99.8
162                          94.4
163                            NA
164                            NA
165                            NA
166                          99.0
167                          99.5
168                            NA
169                          96.0
170                            NA
171                          99.2
172                          85.6
173                            NA
174                            NA
175                          97.0
176                            NA
177                          98.3
178                            NA
179                            NA
180                          92.3
181                          91.5
182                            NA
183                          99.6
184                            NA
185                          96.1
186                            NA
187                          91.0
188                            NA
189                          95.1
190                            NA
191                          70.5
192                          93.9
193                            NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="fu">file.path</span>(file_path, <span class="st">"2023_WorldBank.csv"</span>), <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          Country.Name Country.Code                          Indicator.Name
1 Hong Kong SAR, China          HKG Life expectancy at birth, total (years)
2     Macao SAR, China          MAC Life expectancy at birth, total (years)
3                Japan          JPN Life expectancy at birth, total (years)
4        Liechtenstein          LIE Life expectancy at birth, total (years)
5          Switzerland          CHE Life expectancy at birth, total (years)
6          Korea, Rep.          KOR Life expectancy at birth, total (years)
  Indicator.Code    X1960    X1961    X1962    X1963    X1964    X1965    X1966
1 SP.DYN.LE00.IN 65.86629 66.55888 66.97717 67.68573 68.44610 69.25122 69.53888
2 SP.DYN.LE00.IN 64.96500 65.48500 65.94600 66.38600 66.80000 67.19900 67.64700
3 SP.DYN.LE00.IN 67.69561 68.35195 68.63488 69.71244 70.20659 70.26683 70.91585
4 SP.DYN.LE00.IN       NA       NA       NA       NA       NA       NA       NA
5 SP.DYN.LE00.IN 71.31341 71.64488 71.19610 71.18756 72.07780 72.20171 72.33561
6 SP.DYN.LE00.IN 54.32024 54.92400 55.51951 55.97488 57.17478 58.24049 59.50471
     X1967    X1968    X1969    X1970    X1971    X1972    X1973    X1974
1 69.92544 70.35583 70.56856 71.04995 71.45854 71.45610 72.10976 72.61220
2 68.02800 68.44000 68.84500 69.19800 69.58200 70.04400 70.56800 70.99500
3 71.46610 71.61098 71.85805 71.91976 72.80902 73.15366 73.29512 73.67220
4       NA       NA       NA       NA       NA       NA       NA       NA
5 72.63659 72.59024 72.61268 73.02024 73.13073 73.64439 73.94098 74.28707
6 61.28812 61.55900 62.05102 62.16341 62.61220 63.00976 63.40732 63.80488
     X1975    X1976    X1977    X1978    X1979    X1980    X1981    X1982
1 73.36829 72.81951 73.31951 73.57561 73.67317 74.67317 75.32439 75.42927
2 71.41900 71.85000 72.26300 72.69000 73.07000 73.50400 73.93200 74.34200
3 74.24707 74.68659 75.25585 75.58463 76.10878 75.98902 76.39488 76.87366
4       NA       NA       NA       NA       NA       NA       NA       NA
5 74.66561 74.78537 75.23805 75.18732 75.46610 75.45927 75.69317 76.03390
6 64.15366 64.50244 64.90000 65.19756 65.54634 66.04634 66.54634 67.09512
     X1983    X1984    X1985    X1986    X1987    X1988    X1989    X1990
1 75.27561 76.02927 76.43415 76.68537 76.88293 77.08293 77.02927 77.38049
2 74.70300 75.08000 75.47800 75.86200 76.27200 76.60300 77.03500 77.42400
3 76.92195 77.29122 77.56049 78.01049 78.42951 78.34976 78.76854 78.83707
4       NA       NA       NA       NA       NA       NA       NA       NA
5 76.03122 76.60854 76.73366 76.89902 77.19756 77.22659 77.42122 77.24244
6 67.54634 68.19512 68.79512 69.44634 69.99756 70.54878 71.04878 71.59756
     X1991    X1992    X1993    X1994    X1995    X1996    X1997    X1998
1 77.88293 77.67805 78.03171 78.52927 78.68293 79.62683 80.12683 80.13171
2 77.90400 78.28000 78.63000 78.99300 79.34900 79.97100 80.16200 80.35200
3 79.03683 79.08024 79.30366 79.69683 79.53610 80.21976 80.42415 80.50146
4       NA       NA       NA 78.42195 77.39024 76.83659 76.04634 77.74634
5 77.51463 77.80610 78.08537 78.35000 78.41707 78.89610 79.07951 79.32439
6 72.04634 72.49756 72.99756 73.39756 73.70000 74.15122 74.60244 75.00488
     X1999    X2000    X2001    X2002    X2003    X2004    X2005    X2006
1 80.38293 80.87805 81.42439 81.42683 81.37805 81.82927 81.62927 82.37561
2 80.65200 80.95900 81.17900 81.29300 81.50100 81.69100 82.03300 82.25700
3 80.46098 81.07610 81.41634 81.69073 81.76000 82.03024 81.95512 82.32195
4 79.10976 76.82683 79.27561 79.63659 79.96098 81.77073 80.66829 80.94878
5 79.58049 79.68049 80.18049 80.38537 80.53659 81.08780 81.23659 81.49024
6 75.40976 75.90976 76.41220 76.76585 77.21463 77.66585 78.16829 78.66829
     X2007    X2008    X2009    X2010    X2011    X2012    X2013    X2014
1 82.32683 82.37561 82.77561 82.97805 83.42195 83.48049 83.83171 83.98049
2 82.54300 82.89300 83.27600 83.10900 83.22900 83.32600 83.72700 83.88300
3 82.50707 82.58756 82.93146 82.84268 82.59122 83.09610 83.33195 83.58780
4 81.29512 82.68293 81.50000 81.84146 81.79268 82.38293 82.26098 82.07317
5 81.74146 81.99268 82.04390 82.24634 82.69512 82.69756 82.79756 83.19756
6 79.11951 79.51707 79.96829 80.11707 80.56829 80.81951 81.27073 81.72195
     X2015    X2016    X2017    X2018    X2019    X2020    X2021
1 84.27805 84.22683 84.68049 84.93415 85.18049 85.49756 85.49268
2 83.98400 84.23100 84.56300 84.92800 84.97800 85.18400 85.39900
3 83.79390 83.98488 84.09976 84.21098 84.35634 84.56000 84.44561
4 82.65610 82.25854 83.74634 83.04146 84.16098 81.65854 84.40244
5 82.89756 83.60244 83.55122 83.75366 83.90488 83.00000 83.85122
6 82.02439 82.27561 82.62683 82.62683 83.22683 83.42683 83.52683</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   266 obs. of  66 variables:
 $ Country.Name  : chr  "Hong Kong SAR, China" "Macao SAR, China" "Japan" "Liechtenstein" ...
 $ Country.Code  : chr  "HKG" "MAC" "JPN" "LIE" ...
 $ Indicator.Name: chr  "Life expectancy at birth, total (years)" "Life expectancy at birth, total (years)" "Life expectancy at birth, total (years)" "Life expectancy at birth, total (years)" ...
 $ Indicator.Code: chr  "SP.DYN.LE00.IN" "SP.DYN.LE00.IN" "SP.DYN.LE00.IN" "SP.DYN.LE00.IN" ...
 $ X1960         : num  65.9 65 67.7 NA 71.3 ...
 $ X1961         : num  66.6 65.5 68.4 NA 71.6 ...
 $ X1962         : num  67 65.9 68.6 NA 71.2 ...
 $ X1963         : num  67.7 66.4 69.7 NA 71.2 ...
 $ X1964         : num  68.4 66.8 70.2 NA 72.1 ...
 $ X1965         : num  69.3 67.2 70.3 NA 72.2 ...
 $ X1966         : num  69.5 67.6 70.9 NA 72.3 ...
 $ X1967         : num  69.9 68 71.5 NA 72.6 ...
 $ X1968         : num  70.4 68.4 71.6 NA 72.6 ...
 $ X1969         : num  70.6 68.8 71.9 NA 72.6 ...
 $ X1970         : num  71 69.2 71.9 NA 73 ...
 $ X1971         : num  71.5 69.6 72.8 NA 73.1 ...
 $ X1972         : num  71.5 70 73.2 NA 73.6 ...
 $ X1973         : num  72.1 70.6 73.3 NA 73.9 ...
 $ X1974         : num  72.6 71 73.7 NA 74.3 ...
 $ X1975         : num  73.4 71.4 74.2 NA 74.7 ...
 $ X1976         : num  72.8 71.8 74.7 NA 74.8 ...
 $ X1977         : num  73.3 72.3 75.3 NA 75.2 ...
 $ X1978         : num  73.6 72.7 75.6 NA 75.2 ...
 $ X1979         : num  73.7 73.1 76.1 NA 75.5 ...
 $ X1980         : num  74.7 73.5 76 NA 75.5 ...
 $ X1981         : num  75.3 73.9 76.4 NA 75.7 ...
 $ X1982         : num  75.4 74.3 76.9 NA 76 ...
 $ X1983         : num  75.3 74.7 76.9 NA 76 ...
 $ X1984         : num  76 75.1 77.3 NA 76.6 ...
 $ X1985         : num  76.4 75.5 77.6 NA 76.7 ...
 $ X1986         : num  76.7 75.9 78 NA 76.9 ...
 $ X1987         : num  76.9 76.3 78.4 NA 77.2 ...
 $ X1988         : num  77.1 76.6 78.3 NA 77.2 ...
 $ X1989         : num  77 77 78.8 NA 77.4 ...
 $ X1990         : num  77.4 77.4 78.8 NA 77.2 ...
 $ X1991         : num  77.9 77.9 79 NA 77.5 ...
 $ X1992         : num  77.7 78.3 79.1 NA 77.8 ...
 $ X1993         : num  78 78.6 79.3 NA 78.1 ...
 $ X1994         : num  78.5 79 79.7 78.4 78.3 ...
 $ X1995         : num  78.7 79.3 79.5 77.4 78.4 ...
 $ X1996         : num  79.6 80 80.2 76.8 78.9 ...
 $ X1997         : num  80.1 80.2 80.4 76 79.1 ...
 $ X1998         : num  80.1 80.4 80.5 77.7 79.3 ...
 $ X1999         : num  80.4 80.7 80.5 79.1 79.6 ...
 $ X2000         : num  80.9 81 81.1 76.8 79.7 ...
 $ X2001         : num  81.4 81.2 81.4 79.3 80.2 ...
 $ X2002         : num  81.4 81.3 81.7 79.6 80.4 ...
 $ X2003         : num  81.4 81.5 81.8 80 80.5 ...
 $ X2004         : num  81.8 81.7 82 81.8 81.1 ...
 $ X2005         : num  81.6 82 82 80.7 81.2 ...
 $ X2006         : num  82.4 82.3 82.3 80.9 81.5 ...
 $ X2007         : num  82.3 82.5 82.5 81.3 81.7 ...
 $ X2008         : num  82.4 82.9 82.6 82.7 82 ...
 $ X2009         : num  82.8 83.3 82.9 81.5 82 ...
 $ X2010         : num  83 83.1 82.8 81.8 82.2 ...
 $ X2011         : num  83.4 83.2 82.6 81.8 82.7 ...
 $ X2012         : num  83.5 83.3 83.1 82.4 82.7 ...
 $ X2013         : num  83.8 83.7 83.3 82.3 82.8 ...
 $ X2014         : num  84 83.9 83.6 82.1 83.2 ...
 $ X2015         : num  84.3 84 83.8 82.7 82.9 ...
 $ X2016         : num  84.2 84.2 84 82.3 83.6 ...
 $ X2017         : num  84.7 84.6 84.1 83.7 83.6 ...
 $ X2018         : num  84.9 84.9 84.2 83 83.8 ...
 $ X2019         : num  85.2 85 84.4 84.2 83.9 ...
 $ X2020         : num  85.5 85.2 84.6 81.7 83 ...
 $ X2021         : num  85.5 85.4 84.4 84.4 83.9 ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Country.Name"   "Country.Code"   "Indicator.Name" "Indicator.Code"
 [5] "X1960"          "X1961"          "X1962"          "X1963"         
 [9] "X1964"          "X1965"          "X1966"          "X1967"         
[13] "X1968"          "X1969"          "X1970"          "X1971"         
[17] "X1972"          "X1973"          "X1974"          "X1975"         
[21] "X1976"          "X1977"          "X1978"          "X1979"         
[25] "X1980"          "X1981"          "X1982"          "X1983"         
[29] "X1984"          "X1985"          "X1986"          "X1987"         
[33] "X1988"          "X1989"          "X1990"          "X1991"         
[37] "X1992"          "X1993"          "X1994"          "X1995"         
[41] "X1996"          "X1997"          "X1998"          "X1999"         
[45] "X2000"          "X2001"          "X2002"          "X2003"         
[49] "X2004"          "X2005"          "X2006"          "X2007"         
[53] "X2008"          "X2009"          "X2010"          "X2011"         
[57] "X2012"          "X2013"          "X2014"          "X2015"         
[61] "X2016"          "X2017"          "X2018"          "X2019"         
[65] "X2020"          "X2021"         </code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Country.Name       Country.Code       Indicator.Name     Indicator.Code    
 Length:266         Length:266         Length:266         Length:266        
 Class :character   Class :character   Class :character   Class :character  
 Mode  :character   Mode  :character   Mode  :character   Mode  :character  
                                                                            
                                                                            
                                                                            
                                                                            
     X1960           X1961           X1962           X1963      
 Min.   :28.66   Min.   :28.84   Min.   :29.12   Min.   :28.83  
 1st Qu.:43.93   1st Qu.:45.34   1st Qu.:45.80   1st Qu.:46.17  
 Median :53.72   Median :54.32   Median :55.09   Median :55.57  
 Mean   :53.55   Mean   :54.19   Mean   :54.83   Mean   :55.13  
 3rd Qu.:64.18   3rd Qu.:64.51   3rd Qu.:64.58   3rd Qu.:64.90  
 Max.   :73.76   Max.   :73.65   Max.   :73.72   Max.   :73.56  
 NA's   :14      NA's   :13      NA's   :13      NA's   :14     
     X1964           X1965           X1966           X1967      
 Min.   :30.42   Min.   :29.29   Min.   :26.08   Min.   :26.41  
 1st Qu.:47.36   1st Qu.:47.62   1st Qu.:48.17   1st Qu.:48.09  
 Median :56.17   Median :56.84   Median :57.39   Median :57.83  
 Mean   :55.74   Mean   :56.00   Mean   :56.44   Mean   :56.86  
 3rd Qu.:65.35   3rd Qu.:65.96   3rd Qu.:66.07   3rd Qu.:66.52  
 Max.   :73.73   Max.   :73.87   Max.   :74.08   Max.   :74.12  
 NA's   :14      NA's   :14      NA's   :13      NA's   :13     
     X1968           X1969           X1970           X1971      
 Min.   :26.71   Min.   :26.09   Min.   :26.40   Min.   :26.00  
 1st Qu.:48.44   1st Qu.:49.17   1st Qu.:49.44   1st Qu.:49.50  
 Median :58.01   Median :58.38   Median :58.63   Median :59.35  
 Mean   :57.18   Mean   :57.42   Mean   :57.74   Mean   :58.05  
 3rd Qu.:66.76   3rd Qu.:66.70   3rd Qu.:67.48   3rd Qu.:67.97  
 Max.   :74.01   Max.   :74.08   Max.   :74.65   Max.   :74.62  
 NA's   :13      NA's   :13      NA's   :13      NA's   :13     
     X1972           X1973           X1974           X1975      
 Min.   :25.61   Min.   :34.56   Min.   :35.43   Min.   :11.99  
 1st Qu.:49.92   1st Qu.:51.08   1st Qu.:51.84   1st Qu.:52.52  
 Median :59.80   Median :60.27   Median :60.80   Median :61.08  
 Mean   :58.55   Mean   :59.16   Mean   :59.42   Mean   :59.68  
 3rd Qu.:68.32   3rd Qu.:68.51   3rd Qu.:68.78   3rd Qu.:69.17  
 Max.   :74.72   Max.   :74.87   Max.   :74.98   Max.   :75.58  
 NA's   :13      NA's   :12      NA's   :13      NA's   :13     
     X1976           X1977           X1978           X1979      
 Min.   :12.01   Min.   :24.43   Min.   :21.84   Min.   :22.53  
 1st Qu.:52.29   1st Qu.:53.37   1st Qu.:53.49   1st Qu.:54.05  
 Median :61.64   Median :62.15   Median :62.53   Median :62.89  
 Mean   :59.95   Mean   :60.59   Mean   :60.98   Mean   :61.31  
 3rd Qu.:69.39   3rd Qu.:69.74   3rd Qu.:69.99   3rd Qu.:69.73  
 Max.   :76.97   Max.   :76.37   Max.   :76.65   Max.   :76.77  
 NA's   :13      NA's   :13      NA's   :11      NA's   :12     
     X1980           X1981           X1982           X1983      
 Min.   :28.45   Min.   :29.57   Min.   :30.82   Min.   :31.64  
 1st Qu.:54.71   1st Qu.:55.38   1st Qu.:54.89   1st Qu.:56.33  
 Median :63.36   Median :63.83   Median :64.17   Median :64.63  
 Mean   :61.74   Mean   :62.09   Mean   :62.33   Mean   :62.62  
 3rd Qu.:70.01   3rd Qu.:70.36   3rd Qu.:70.44   3rd Qu.:70.51  
 Max.   :76.85   Max.   :76.52   Max.   :77.04   Max.   :76.92  
 NA's   :11      NA's   :11      NA's   :11      NA's   :11     
     X1984           X1985           X1986           X1987      
 Min.   :32.67   Min.   :33.15   Min.   :33.63   Min.   :21.91  
 1st Qu.:56.41   1st Qu.:56.93   1st Qu.:57.55   1st Qu.:57.60  
 Median :65.24   Median :65.69   Median :66.14   Median :66.43  
 Mean   :62.93   Mean   :63.22   Mean   :63.67   Mean   :63.93  
 3rd Qu.:70.76   3rd Qu.:70.98   3rd Qu.:71.42   3rd Qu.:71.50  
 Max.   :77.58   Max.   :77.60   Max.   :78.01   Max.   :78.43  
 NA's   :11      NA's   :11      NA's   :10      NA's   :10     
     X1988           X1989           X1990           X1991      
 Min.   :12.41   Min.   :29.68   Min.   :29.93   Min.   :26.57  
 1st Qu.:57.77   1st Qu.:58.32   1st Qu.:58.72   1st Qu.:59.05  
 Median :66.91   Median :67.28   Median :67.63   Median :67.77  
 Mean   :64.04   Mean   :64.52   Mean   :64.72   Mean   :64.84  
 3rd Qu.:71.61   3rd Qu.:71.76   3rd Qu.:71.95   3rd Qu.:72.15  
 Max.   :78.35   Max.   :78.77   Max.   :78.84   Max.   :79.04  
 NA's   :10      NA's   :10      NA's   :8       NA's   :9      
     X1992           X1993           X1994           X1995      
 Min.   :22.72   Min.   :22.70   Min.   :14.10   Min.   :30.95  
 1st Qu.:58.55   1st Qu.:58.42   1st Qu.:59.17   1st Qu.:59.52  
 Median :67.83   Median :67.72   Median :67.84   Median :68.17  
 Mean   :64.86   Mean   :65.07   Mean   :65.38   Mean   :65.57  
 3rd Qu.:72.31   3rd Qu.:72.45   3rd Qu.:72.58   3rd Qu.:72.54  
 Max.   :79.08   Max.   :79.30   Max.   :79.70   Max.   :79.54  
 NA's   :9       NA's   :9       NA's   :8       NA's   :7      
     X1996           X1997           X1998           X1999      
 Min.   :31.30   Min.   :32.24   Min.   :18.39   Min.   :42.07  
 1st Qu.:60.07   1st Qu.:60.62   1st Qu.:60.61   1st Qu.:60.80  
 Median :68.73   Median :68.94   Median :69.10   Median :69.35  
 Mean   :65.79   Mean   :66.01   Mean   :66.10   Mean   :66.48  
 3rd Qu.:72.84   3rd Qu.:73.08   3rd Qu.:73.48   3rd Qu.:73.67  
 Max.   :80.22   Max.   :80.42   Max.   :80.66   Max.   :81.53  
 NA's   :8       NA's   :8       NA's   :8       NA's   :8      
     X2000           X2001           X2002           X2003      
 Min.   :44.52   Min.   :41.96   Min.   :44.49   Min.   :43.35  
 1st Qu.:60.90   1st Qu.:60.85   1st Qu.:61.24   1st Qu.:61.70  
 Median :69.74   Median :69.89   Median :70.32   Median :70.31  
 Mean   :66.95   Mean   :67.26   Mean   :67.53   Mean   :67.82  
 3rd Qu.:74.04   3rd Qu.:74.39   3rd Qu.:74.71   3rd Qu.:74.88  
 Max.   :81.37   Max.   :81.42   Max.   :81.69   Max.   :81.76  
 NA's   :7       NA's   :8       NA's   :8       NA's   :8      
     X2004           X2005           X2006           X2007      
 Min.   :42.54   Min.   :42.12   Min.   :42.91   Min.   :43.12  
 1st Qu.:61.78   1st Qu.:62.14   1st Qu.:62.55   1st Qu.:62.80  
 Median :70.70   Median :71.04   Median :71.13   Median :71.27  
 Mean   :68.18   Mean   :68.50   Mean   :68.87   Mean   :69.18  
 3rd Qu.:75.43   3rd Qu.:75.48   3rd Qu.:75.82   3rd Qu.:75.86  
 Max.   :82.03   Max.   :82.03   Max.   :82.38   Max.   :82.54  
 NA's   :8       NA's   :7       NA's   :8       NA's   :8      
     X2008           X2009           X2010           X2011      
 Min.   :43.57   Min.   :44.03   Min.   :45.60   Min.   :46.69  
 1st Qu.:63.24   1st Qu.:63.84   1st Qu.:64.09   1st Qu.:64.67  
 Median :71.47   Median :71.83   Median :72.12   Median :72.37  
 Mean   :69.50   Mean   :69.91   Mean   :70.22   Mean   :70.62  
 3rd Qu.:76.36   3rd Qu.:76.59   3rd Qu.:76.73   3rd Qu.:76.76  
 Max.   :82.89   Max.   :83.28   Max.   :83.11   Max.   :83.42  
 NA's   :8       NA's   :8       NA's   :8       NA's   :8      
     X2012           X2013           X2014           X2015      
 Min.   :47.84   Min.   :49.00   Min.   :50.03   Min.   :51.10  
 1st Qu.:64.97   1st Qu.:65.09   1st Qu.:65.36   1st Qu.:65.74  
 Median :72.43   Median :72.70   Median :72.86   Median :72.99  
 Mean   :70.92   Mean   :71.19   Mean   :71.47   Mean   :71.67  
 3rd Qu.:77.06   3rd Qu.:77.14   3rd Qu.:77.40   3rd Qu.:77.48  
 Max.   :83.48   Max.   :83.83   Max.   :83.98   Max.   :84.28  
 NA's   :8       NA's   :8       NA's   :8       NA's   :8      
     X2016           X2017           X2018           X2019      
 Min.   :52.04   Min.   :52.30   Min.   :52.55   Min.   :52.91  
 1st Qu.:66.01   1st Qu.:66.58   1st Qu.:66.53   1st Qu.:66.99  
 Median :73.20   Median :73.56   Median :73.57   Median :73.56  
 Mean   :71.97   Mean   :72.20   Mean   :72.41   Mean   :72.63  
 3rd Qu.:77.65   3rd Qu.:77.79   3rd Qu.:77.91   3rd Qu.:78.00  
 Max.   :84.23   Max.   :84.68   Max.   :84.93   Max.   :85.18  
 NA's   :8       NA's   :8       NA's   :9       NA's   :9      
     X2020           X2021      
 Min.   :52.78   Min.   :52.52  
 1st Qu.:66.77   1st Qu.:66.07  
 Median :72.58   Median :71.90  
 Mean   :71.98   Mean   :71.37  
 3rd Qu.:76.99   3rd Qu.:76.46  
 Max.   :85.50   Max.   :85.49  
 NA's   :9       NA's   :9      </code></pre>
</div>
</div>
<p>“Country.Code”, “Indicator.Name”, “Indicator.Code” are not important. We drop them with dplyr select statement. You can also use baseR alternative: <code>data &lt;- data[, !names(data) %in% c("Country.Code", "Indicator.Name", "Indicator.Code")]</code></p>
<p>Data appears to be in wide format, each year is in a column. We can use tidyr to make this into a tidy data and recode column names as the year of observation.</p>
<p>tidyr is another R package from the tidyverse family, designed to help users clean and organize data into a tidy format. The primary goal of tidyr is to make data “tidy,” meaning that each variable is a column, each observation is a row, and each value is a single cell. tidyr works closely with other packages like dplyr to simplify data manipulation workflows.</p>
<p>Key functions of tidyr include: gather() / pivot_longer(): Converts wide data (where columns are variables) into long format (where each row represents a single observation of a variable). spread() / pivot_wider(): The reverse of pivot_longer(), it converts long data into wide format. separate(): Splits a single column into multiple columns based on a delimiter. unite(): Combines multiple columns into a single column.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(data, <span class="sc">-</span><span class="fu">c</span>(Country.Code, Indicator.Name, Indicator.Code))</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Pivot to tidy format where each Column is a Variable and each Row is an Observation (Life Expentancy)</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>data_long <span class="ot">&lt;-</span> <span class="fu">pivot_longer</span>(data, </span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>                          <span class="at">cols =</span> X1960<span class="sc">:</span>X2021, </span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>                          <span class="at">names_to =</span> <span class="st">"Year"</span>, </span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>                          <span class="at">values_to =</span> <span class="st">"Life.Exp"</span>)</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="co"># The 'Year' column will have year names as characters starting with X. We remove the "X" and convert them to integers</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>data_long<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(<span class="fu">sub</span>(<span class="st">"X"</span>, <span class="st">""</span>, data_long<span class="sc">$</span>Year))</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(data_long)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [16,492 × 3] (S3: tbl_df/tbl/data.frame)
 $ Country.Name: chr [1:16492] "Hong Kong SAR, China" "Hong Kong SAR, China" "Hong Kong SAR, China" "Hong Kong SAR, China" ...
 $ Year        : int [1:16492] 1960 1961 1962 1963 1964 1965 1966 1967 1968 1969 ...
 $ Life.Exp    : num [1:16492] 65.9 66.6 67 67.7 68.4 ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(data_long)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Country.Name" "Year"         "Life.Exp"    </code></pre>
</div>
</div>
<p>dplyr is an R package used for data manipulation and transformation. It is part of the tidyverse, a collection of R packages designed for data science. dplyr provides a set of functions that make it easier to work with data frames and manipulate them in a clear, concise, and efficient way.</p>
<p>Key features of dplyr include: Pipes (%&gt;%): Allows chaining multiple operations in a readable manner.</p>
<p>Core Functions: select(): Choose columns. filter(): Filter rows based on conditions. mutate(): Create new columns or modify existing ones. summarize(): Aggregate data, often combined with group_by() to create group-wise summaries. group_by(): Group data by one or more variables, which is useful for applying functions like summarize().</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>data_long <span class="sc">%&gt;%</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_all</span>(<span class="sc">~</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(.)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  Country.Name  Year Life.Exp
         &lt;int&gt; &lt;int&gt;    &lt;int&gt;
1            0     0      626</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Seems like all the missing values appear in Life.Exp. We check the unique values for Country.Name and Year first</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(data_long<span class="sc">$</span>Country.Name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1] "Hong Kong SAR, China"                                
  [2] "Macao SAR, China"                                    
  [3] "Japan"                                               
  [4] "Liechtenstein"                                       
  [5] "Switzerland"                                         
  [6] "Korea, Rep."                                         
  [7] "Faroe Islands"                                       
  [8] "Singapore"                                           
  [9] "Australia"                                           
 [10] "Spain"                                               
 [11] "Norway"                                              
 [12] "Sweden"                                              
 [13] "Iceland"                                             
 [14] "Malta"                                               
 [15] "Italy"                                               
 [16] "Luxembourg"                                          
 [17] "Canada"                                              
 [18] "Israel"                                              
 [19] "France"                                              
 [20] "New Zealand"                                         
 [21] "Ireland"                                             
 [22] "Finland"                                             
 [23] "Belgium"                                             
 [24] "Euro area"                                           
 [25] "Netherlands"                                         
 [26] "Denmark"                                             
 [27] "Austria"                                             
 [28] "Channel Islands"                                     
 [29] "Cyprus"                                              
 [30] "Portugal"                                            
 [31] "Germany"                                             
 [32] "Slovenia"                                            
 [33] "United Kingdom"                                      
 [34] "Isle of Man"                                         
 [35] "European Union"                                      
 [36] "St. Martin (French part)"                            
 [37] "Greece"                                              
 [38] "Puerto Rico"                                         
 [39] "Virgin Islands (U.S.)"                               
 [40] "High income"                                         
 [41] "Maldives"                                            
 [42] "Post-demographic dividend"                           
 [43] "French Polynesia"                                    
 [44] "Gibraltar"                                           
 [45] "Bermuda"                                             
 [46] "Qatar"                                               
 [47] "New Caledonia"                                       
 [48] "Chile"                                               
 [49] "Bahrain"                                             
 [50] "Thailand"                                            
 [51] "OECD members"                                        
 [52] "United Arab Emirates"                                
 [53] "Kuwait"                                              
 [54] "Antigua and Barbuda"                                 
 [55] "China"                                               
 [56] "Barbados"                                            
 [57] "Czechia"                                             
 [58] "Costa Rica"                                          
 [59] "North America"                                       
 [60] "Saudi Arabia"                                        
 [61] "Kosovo"                                              
 [62] "Estonia"                                             
 [63] "Guam"                                                
 [64] "Europe &amp; Central Asia"                               
 [65] "Albania"                                             
 [66] "Croatia"                                             
 [67] "Sri Lanka"                                           
 [68] "East Asia &amp; Pacific"                                 
 [69] "Algeria"                                             
 [70] "Late-demographic dividend"                           
 [71] "United States"                                       
 [72] "Panama"                                              
 [73] "Turkiye"                                             
 [74] "Poland"                                              
 [75] "East Asia &amp; Pacific (IDA &amp; IBRD countries)"          
 [76] "East Asia &amp; Pacific (excluding high income)"         
 [77] "Uruguay"                                             
 [78] "Argentina"                                           
 [79] "Bosnia and Herzegovina"                              
 [80] "Lebanon"                                             
 [81] "Grenada"                                             
 [82] "Central Europe and the Baltics"                      
 [83] "Malaysia"                                            
 [84] "Slovak Republic"                                     
 [85] "Upper middle income"                                 
 [86] "Brunei Darussalam"                                   
 [87] "Aruba"                                               
 [88] "Turks and Caicos Islands"                            
 [89] "North Macedonia"                                     
 [90] "British Virgin Islands"                              
 [91] "Hungary"                                             
 [92] "Lithuania"                                           
 [93] "Jordan"                                              
 [94] "Cabo Verde"                                          
 [95] "Morocco"                                             
 [96] "Sint Maarten (Dutch part)"                           
 [97] "Iran, Islamic Rep."                                  
 [98] "Nicaragua"                                           
 [99] "Montenegro"                                          
[100] "Tunisia"                                             
[101] "Cuba"                                                
[102] "Mauritius"                                           
[103] "Ecuador"                                             
[104] "Vietnam"                                             
[105] "West Bank and Gaza"                                  
[106] "Seychelles"                                          
[107] "Korea, Dem. People's Rep."                           
[108] "Latvia"                                              
[109] "Trinidad and Tobago"                                 
[110] "Romania"                                             
[111] "Colombia"                                            
[112] "Dominica"                                            
[113] "Samoa"                                               
[114] "Brazil"                                              
[115] "Middle East &amp; North Africa"                          
[116] "Serbia"                                              
[117] "Dominican Republic"                                  
[118] "Oman"                                                
[119] "Bangladesh"                                          
[120] "Peru"                                                
[121] "Belarus"                                             
[122] "Latin America &amp; Caribbean"                           
[123] "IBRD only"                                           
[124] "Latin America &amp; the Caribbean (IDA &amp; IBRD countries)"
[125] "Syrian Arab Republic"                                
[126] "Armenia"                                             
[127] "Libya"                                               
[128] "Latin America &amp; Caribbean (excluding high income)"   
[129] "Kyrgyz Republic"                                     
[130] "Middle East &amp; North Africa (excluding high income)"  
[131] "Middle East &amp; North Africa (IDA &amp; IBRD countries)"   
[132] "Europe &amp; Central Asia (IDA &amp; IBRD countries)"        
[133] "Bhutan"                                              
[134] "Georgia"                                             
[135] "St. Kitts and Nevis"                                 
[136] "Bahamas, The"                                        
[137] "Tajikistan"                                          
[138] "Bulgaria"                                            
[139] "Europe &amp; Central Asia (excluding high income)"       
[140] "World"                                               
[141] "Greenland"                                           
[142] "St. Lucia"                                           
[143] "Caribbean small states"                              
[144] "Tonga"                                               
[145] "Mongolia"                                            
[146] "Uzbekistan"                                          
[147] "Arab World"                                          
[148] "El Salvador"                                         
[149] "Micronesia, Fed. Sts."                               
[150] "Venezuela, RB"                                       
[151] "Middle income"                                       
[152] "Jamaica"                                             
[153] "Belize"                                              
[154] "Vanuatu"                                             
[155] "Iraq"                                                
[156] "Solomon Islands"                                     
[157] "Suriname"                                            
[158] "Paraguay"                                            
[159] "Kazakhstan"                                          
[160] "Egypt, Arab Rep."                                    
[161] "Mexico"                                              
[162] "Honduras"                                            
[163] "IDA &amp; IBRD total"                                    
[164] "Low &amp; middle income"                                 
[165] "Ukraine"                                             
[166] "St. Vincent and the Grenadines"                      
[167] "Cambodia"                                            
[168] "Azerbaijan"                                          
[169] "Russian Federation"                                  
[170] "Philippines"                                         
[171] "Turkmenistan"                                        
[172] "Guatemala"                                           
[173] "Pacific island small states"                         
[174] "Moldova"                                             
[175] "Early-demographic dividend"                          
[176] "Nepal"                                               
[177] "Lao PDR"                                             
[178] "Small states"                                        
[179] "Timor-Leste"                                         
[180] "Sao Tome and Principe"                               
[181] "South Asia"                                          
[182] "South Asia (IDA &amp; IBRD)"                             
[183] "Indonesia"                                           
[184] "Kiribati"                                            
[185] "India"                                               
[186] "Fiji"                                                
[187] "Senegal"                                             
[188] "Other small states"                                  
[189] "Lower middle income"                                 
[190] "Eritrea"                                             
[191] "Tanzania"                                            
[192] "Pakistan"                                            
[193] "Rwanda"                                              
[194] "Gabon"                                               
[195] "Guyana"                                              
[196] "Myanmar"                                             
[197] "Papua New Guinea"                                    
[198] "Marshall Islands"                                    
[199] "Sudan"                                               
[200] "Ethiopia"                                            
[201] "IDA only"                                            
[202] "Tuvalu"                                              
[203] "Madagascar"                                          
[204] "Mauritania"                                          
[205] "Least developed countries: UN classification"        
[206] "Ghana"                                               
[207] "Yemen, Rep."                                         
[208] "Bolivia"                                             
[209] "Nauru"                                               
[210] "Congo, Rep."                                         
[211] "Comoros"                                             
[212] "IDA total"                                           
[213] "Haiti"                                               
[214] "Malawi"                                              
[215] "Uganda"                                              
[216] "Low income"                                          
[217] "Africa Eastern and Southern"                         
[218] "South Africa"                                        
[219] "Djibouti"                                            
[220] "Heavily indebted poor countries (HIPC)"              
[221] "Gambia, The"                                         
[222] "Afghanistan"                                         
[223] "Burundi"                                             
[224] "Angola"                                              
[225] "Togo"                                                
[226] "Niger"                                               
[227] "Kenya"                                               
[228] "Fragile and conflict affected situations"            
[229] "Zambia"                                              
[230] "Botswana"                                            
[231] "Liberia"                                             
[232] "IDA blend"                                           
[233] "Equatorial Guinea"                                   
[234] "Cameroon"                                            
[235] "Sub-Saharan Africa"                                  
[236] "Sub-Saharan Africa (IDA &amp; IBRD countries)"           
[237] "Sub-Saharan Africa (excluding high income)"          
[238] "Sierra Leone"                                        
[239] "Pre-demographic dividend"                            
[240] "Benin"                                               
[241] "Guinea-Bissau"                                       
[242] "Mozambique"                                          
[243] "Burkina Faso"                                        
[244] "Namibia"                                             
[245] "Zimbabwe"                                            
[246] "Congo, Dem. Rep."                                    
[247] "Mali"                                                
[248] "Guinea"                                              
[249] "Cote d'Ivoire"                                       
[250] "Eswatini"                                            
[251] "Africa Western and Central"                          
[252] "Somalia"                                             
[253] "South Sudan"                                         
[254] "Central African Republic"                            
[255] "Lesotho"                                             
[256] "Nigeria"                                             
[257] "Chad"                                                
[258] "Andorra"                                             
[259] "American Samoa"                                      
[260] "Curacao"                                             
[261] "Cayman Islands"                                      
[262] "Not classified"                                      
[263] "Monaco"                                              
[264] "Northern Mariana Islands"                            
[265] "Palau"                                               
[266] "San Marino"                                          </code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(data_long<span class="sc">$</span>Year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1960 1961 1962 1963 1964 1965 1966 1967 1968 1969 1970 1971 1972 1973 1974
[16] 1975 1976 1977 1978 1979 1980 1981 1982 1983 1984 1985 1986 1987 1988 1989
[31] 1990 1991 1992 1993 1994 1995 1996 1997 1998 1999 2000 2001 2002 2003 2004
[46] 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019
[61] 2020 2021</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Since all the values look correct, we check the missing value across each Country for Life.Exp column</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>temp_df <span class="ot">&lt;-</span>data_long <span class="sc">%&gt;%</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Country.Name) <span class="sc">%&gt;%</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Missing_Life_Exp =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(Life.Exp)))</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>temp_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 266 × 2
   Country.Name                Missing_Life_Exp
   &lt;chr&gt;                                  &lt;int&gt;
 1 Afghanistan                                0
 2 Africa Eastern and Southern                0
 3 Africa Western and Central                 0
 4 Albania                                    0
 5 Algeria                                    0
 6 American Samoa                            62
 7 Andorra                                   62
 8 Angola                                     0
 9 Antigua and Barbuda                        0
10 Arab World                                 0
# ℹ 256 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># To show only the rows with non-zero Missing Counts</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>data_long <span class="sc">%&gt;%</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Country.Name) <span class="sc">%&gt;%</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Missing_Life_Exp =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(Life.Exp))) <span class="sc">%&gt;%</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Missing_Life_Exp <span class="sc">&gt;</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15 × 2
   Country.Name             Missing_Life_Exp
   &lt;chr&gt;                               &lt;int&gt;
 1 American Samoa                         62
 2 Andorra                                62
 3 Cayman Islands                         61
 4 Curacao                                 5
 5 Faroe Islands                          24
 6 Greenland                              18
 7 Israel                                  4
 8 Liechtenstein                          34
 9 Monaco                                 62
10 Northern Mariana Islands               62
11 Not classified                         62
12 Palau                                  58
13 San Marino                             62
14 Seychelles                             20
15 West Bank and Gaza                     30</code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Here we remove all rows with missing Life.Exp as they are not important for our analysis. na.omit is using baseR.</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>data_long <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(data_long)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(data_long<span class="sc">$</span>Country.Name))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 260</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(data_long<span class="sc">$</span>Year))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 62</code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>data_long</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15,866 × 3
   Country.Name          Year Life.Exp
   &lt;chr&gt;                &lt;int&gt;    &lt;dbl&gt;
 1 Hong Kong SAR, China  1960     65.9
 2 Hong Kong SAR, China  1961     66.6
 3 Hong Kong SAR, China  1962     67.0
 4 Hong Kong SAR, China  1963     67.7
 5 Hong Kong SAR, China  1964     68.4
 6 Hong Kong SAR, China  1965     69.3
 7 Hong Kong SAR, China  1966     69.5
 8 Hong Kong SAR, China  1967     69.9
 9 Hong Kong SAR, China  1968     70.4
10 Hong Kong SAR, China  1969     70.6
# ℹ 15,856 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Outlier Detection with boxplot</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data_long, <span class="fu">aes</span>(<span class="at">x =</span> Country.Name, <span class="at">y =</span> Life.Exp)) <span class="sc">+</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Intro_Data_Wrangling_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Outlier Detection: There are 260 countries in the remaining dataset. It is hard to visualize with a boxplot. Here we use Tukey Outlier Detection method to identify the countries. We use the Tukey fence method to help to identify the countries with outliers.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>Q1Q3Quantiles <span class="ot">&lt;-</span> data_long <span class="sc">%&gt;%</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Country.Name) <span class="sc">%&gt;%</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Q1 =</span> <span class="fu">quantile</span>(Life.Exp, <span class="fl">0.25</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">Q3 =</span> <span class="fu">quantile</span>(Life.Exp, <span class="fl">0.75</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">IQR =</span> <span class="fu">IQR</span>(Life.Exp, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Lower_Bound =</span> Q1 <span class="sc">-</span> <span class="fl">1.5</span> <span class="sc">*</span> IQR,</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">Upper_Bound =</span> Q3 <span class="sc">+</span> <span class="fl">1.5</span> <span class="sc">*</span> IQR) </span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>Q1Q3Quantiles</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 260 × 6
   Country.Name                   Q1    Q3   IQR Lower_Bound Upper_Bound
   &lt;chr&gt;                       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;
 1 Afghanistan                  38.3  58.6 20.4         7.72        89.1
 2 Africa Eastern and Southern  47.9  54.9  7.01       37.4         65.4
 3 Africa Western and Central   44.4  52.7  8.31       31.9         65.2
 4 Albania                      68.4  76.6  8.16       56.2         88.8
 5 Algeria                      47.2  72.3 25.0         9.66       110. 
 6 Angola                       41.2  52.2 11.0        24.8         68.6
 7 Antigua and Barbuda          72.1  75.8  3.74       66.5         81.4
 8 Arab World                   53.8  68.5 14.7        31.8         90.5
 9 Argentina                    67.1  75.1  7.99       55.1         87.1
10 Armenia                      64.9  71.9  7.08       54.2         82.6
# ℹ 250 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>data_long_with_bounds <span class="ot">&lt;-</span> <span class="fu">left_join</span>(data_long, Q1Q3Quantiles, <span class="at">by =</span> <span class="st">"Country.Name"</span>)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>outliers_detected <span class="ot">&lt;-</span> data_long_with_bounds <span class="sc">%&gt;%</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">filter</span>(Life.Exp <span class="sc">&lt;</span> Lower_Bound <span class="sc">|</span> Life.Exp <span class="sc">&gt;</span> Upper_Bound)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>After checking the list of countries with outliers, they can be removed for our analysis. This decision depends on what is the objective of our analysis. Here we do not remove them.</p>
<p>Next we check the summary statistics for the data across all countries. We again use <code>group_by</code> and <code>summarize</code> functions in <code>dplyr</code>. We can then use the summary statistics table to check with domain experts on the validity of the data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>country_summary_stats <span class="ot">&lt;-</span> data_long <span class="sc">%&gt;%</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Country.Name) <span class="sc">%&gt;%</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Mean =</span> <span class="fu">mean</span>(Life.Exp, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Median =</span> <span class="fu">median</span>(Life.Exp, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">SD =</span> <span class="fu">sd</span>(Life.Exp, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Min =</span> <span class="fu">min</span>(Life.Exp, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">Max =</span> <span class="fu">max</span>(Life.Exp, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">Count =</span> <span class="fu">n</span>(),</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">Missing =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(Life.Exp))</span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(country_summary_stats)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 260 × 8
   Country.Name                 Mean Median    SD   Min   Max Count Missing
   &lt;chr&gt;                       &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;   &lt;int&gt;
 1 Afghanistan                  47.9   46.3 10.8   32.5  63.6    62       0
 2 Africa Eastern and Southern  51.9   50.3  5.66  44.1  63.8    62       0
 3 Africa Western and Central   48.3   48.7  5.72  37.8  57.6    62       0
 4 Albania                      71.5   73.3  6.58  54.4  79.3    62       0
 5 Algeria                      61.4   67.4 12.9   39.3  76.5    62       0
 6 Angola                       46.7   42.8  7.92  37.3  62.4    62       0
 7 Antigua and Barbuda          73.2   73.5  4.11  61.6  78.8    62       0
 8 Arab World                   61.1   63.1  8.41  45.0  71.8    62       0
 9 Argentina                    71.1   72.1  4.37  64.0  77.3    62       0
10 Armenia                      68.3   68.7  4.41  53.9  75.4    62       0
# ℹ 250 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(data_long<span class="sc">$</span>Country.Name))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 260</code></pre>
</div>
</div>
<p>There should be 62 years of data for each country. We remove countries with less than 62 years of data. The pull() function extracts a specific column from the filtered data. Here, it pulls the values of the Country.Name column from the filtered rows where Count is less than 62.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Filter out country names with Count &lt; 62</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>countries_to_remove <span class="ot">&lt;-</span> country_summary_stats <span class="sc">%&gt;%</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Count <span class="sc">&lt;</span> <span class="dv">62</span>) <span class="sc">%&gt;%</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Country.Name)</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>countries_to_remove</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Cayman Islands"     "Curacao"            "Faroe Islands"     
[4] "Greenland"          "Israel"             "Liechtenstein"     
[7] "Palau"              "Seychelles"         "West Bank and Gaza"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Filter out these countries from data_long</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>data_long_filtered <span class="ot">&lt;-</span> data_long <span class="sc">%&gt;%</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>Country.Name <span class="sc">%in%</span> countries_to_remove)</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(data_long_filtered<span class="sc">$</span>Country.Name))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 251</code></pre>
</div>
</div>
<p>We can also plot some charts using ggplot to visualize the data and use it to discuss with domain experts. We can plot with ggplot: 1. Histogram of Life.Exp for all the data 2. Boxplot of Life.Exp by Year 3. Boxplot of Life.Exp by Country for selected Countries 4. Time series plots for selected countries</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Histogram</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data_long_filtered, <span class="fu">aes</span>(<span class="at">x =</span> Life.Exp)) <span class="sc">+</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>, <span class="at">fill =</span> <span class="st">"blue"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram of Life Expectancy"</span>, <span class="at">x =</span> <span class="st">"Life Expectancy"</span>, <span class="at">y =</span> <span class="st">"Count"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Intro_Data_Wrangling_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Boxplot of Life.Exp by Year</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data_long_filtered, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.factor</span>(Year), <span class="at">y =</span> Life.Exp)) <span class="sc">+</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Life Expectancy by Year"</span>, <span class="at">x =</span> <span class="st">"Year"</span>, <span class="at">y =</span> <span class="st">"Life Expectancy"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Intro_Data_Wrangling_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Boxplot of Life.Exp by Country for top 20 highest Mean Life Expectancy across the years</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Extract the Top 20 countries' Country.Name with `dplyr`</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>top_20 <span class="ot">&lt;-</span> data_long_filtered <span class="sc">%&gt;%</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Country.Name) <span class="sc">%&gt;%</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">MeanLifeExp =</span> <span class="fu">mean</span>(Life.Exp, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(MeanLifeExp)) <span class="sc">%&gt;%</span></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">20</span>, MeanLifeExp) <span class="sc">%&gt;%</span></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Country.Name)</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>top_20</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Iceland"              "Japan"                "Sweden"              
 [4] "Switzerland"          "Norway"               "Hong Kong SAR, China"
 [7] "Netherlands"          "Canada"               "Spain"               
[10] "Italy"                "Australia"            "Macao SAR, China"    
[13] "France"               "Channel Islands"      "Greece"              
[16] "Gibraltar"            "New Zealand"          "United Kingdom"      
[19] "Euro area"            "Denmark"             </code></pre>
</div>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Filter these countries with `dplyr`</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>data_top_20 <span class="ot">&lt;-</span> data_long_filtered<span class="sc">%&gt;%</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Country.Name <span class="sc">%in%</span> top_20)</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(data_top_20<span class="sc">$</span>Country.Name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Hong Kong SAR, China" "Macao SAR, China"     "Japan"               
 [4] "Switzerland"          "Australia"            "Spain"               
 [7] "Norway"               "Sweden"               "Iceland"             
[10] "Italy"                "Canada"               "France"              
[13] "New Zealand"          "Euro area"            "Netherlands"         
[16] "Denmark"              "Channel Islands"      "United Kingdom"      
[19] "Greece"               "Gibraltar"           </code></pre>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>data_top_20[data_top_20<span class="sc">$</span>Country.Name<span class="sc">==</span><span class="st">'Singapore'</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 3
# ℹ 3 variables: Country.Name &lt;chr&gt;, Year &lt;int&gt;, Life.Exp &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>data_top_20_sg <span class="ot">&lt;-</span> data_long_filtered <span class="sc">%&gt;%</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Country.Name <span class="sc">%in%</span> top_20 <span class="sc">|</span> Country.Name <span class="sc">==</span> <span class="st">'Singapore'</span>)</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Plot the Boxplot for Top 20 countries and Singapore</span></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data_top_20_sg, <span class="fu">aes</span>(<span class="at">x =</span> Country.Name, <span class="at">y =</span> Life.Exp)) <span class="sc">+</span></span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Top 20 Countries by Mean Life Expectancy"</span>, <span class="at">x =</span> <span class="st">"Country"</span>, <span class="at">y =</span> <span class="st">"Life Expectancy"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Intro_Data_Wrangling_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Reorder by descending mean Life.Exp (`-Life,Exp` for descending)</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data_top_20_sg, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(Country.Name, <span class="sc">-</span>Life.Exp, <span class="at">FUN =</span> mean), <span class="at">y =</span> Life.Exp)) <span class="sc">+</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Top 20 Countries by Mean Life Expectancy"</span>, <span class="at">x =</span> <span class="st">"Country"</span>, <span class="at">y =</span> <span class="st">"Life Expectancy"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Intro_Data_Wrangling_files/figure-html/unnamed-chunk-11-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>We can also plot time series for the Top 20 countries to visualize the trends.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the time series plot</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>tseries <span class="ot">&lt;-</span><span class="fu">ggplot</span>(data_top_20, <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> Life.Exp, <span class="at">color =</span> Country.Name)) <span class="sc">+</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Life Expectancy Over Time"</span>,</span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Life Expectancy"</span>,</span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Country"</span>) </span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a>tseries</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Intro_Data_Wrangling_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>tseries <span class="sc">+</span> </span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> <span class="fu">filter</span>(data_top_20_sg, Country.Name <span class="sc">==</span> <span class="st">"Singapore"</span>), </span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>            <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> Life.Exp), </span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">"black"</span>, </span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">size =</span> <span class="fl">1.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
ℹ Please use `linewidth` instead.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="Intro_Data_Wrangling_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Congratulations! We have completed a quick introduction to dplyr, tidyr and ggplot. Remember, the best way <strong>to learn</strong> is to get your hands dirty, google for sample codes, read R documentation and learn when you are trying to solve problems.</p>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>